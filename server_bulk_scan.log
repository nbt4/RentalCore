2025/07/11 13:57:11 Database connection established successfully

2025/07/11 13:57:11 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/audit_logger.go:39 [35;1mrecord not found
[0m[33m[20.390ms] [34;1m[rows:0][0m SELECT * FROM `audit_events` ORDER BY timestamp DESC,`audit_events`.`id` LIMIT 1

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.944ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.609ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.972ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND table_type = 'BASE TABLE'

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.652ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.625ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.668ms] [34;1m[rows:-][0m SELECT * FROM `gobd_records` LIMIT 1

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.212ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[25.259ms] [34;1m[rows:0][0m ALTER TABLE `gobd_records` MODIFY COLUMN `is_immutable` boolean DEFAULT true

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.710ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.155ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.972ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_archive_date'

2025/07/11 13:57:11 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.307ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.709ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.616ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_retention_date'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.747ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.841ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.079ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_user_id'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[20.066ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.564ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.455ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_company_id'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.791ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.049ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.846ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_type'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[20.316ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.607ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.828ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_id'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.685ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.657ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.501ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_data_hash'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.203ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.736ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.610ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND table_type = 'BASE TABLE'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.605ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.272ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.723ms] [34;1m[rows:-][0m SELECT * FROM `audit_events` LIMIT 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.651ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[30.191ms] [34;1m[rows:0][0m ALTER TABLE `audit_events` MODIFY COLUMN `is_compliant` boolean DEFAULT true

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[20.683ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.790ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.523ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_event_type'

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[20.050ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:12 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.806ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.562ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_type'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.095ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.631ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.601ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_id'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.712ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[41.145ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.891ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_user_id'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.352ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.177ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.582ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_session_id'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[20.537ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.278ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[41.008ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_previous_hash'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.968ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.795ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[39.392ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_retention_date'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.658ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.151ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.763ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_timestamp'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.706ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.585ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.013ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' AND table_type = 'BASE TABLE'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[19.777ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[40.881ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[20.259ms] [34;1m[rows:-][0m SELECT * FROM `retention_policies` LIMIT 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[41.111ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:13 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132 [35;1mError 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'
[0m[33m[38.335ms] [34;1m[rows:0][0m ALTER TABLE `retention_policies` ADD `document_type` varchar(191) NOT NULL UNIQUE
2025/07/11 13:57:13 Warning: Failed to create compliance middleware: failed to create GoBD compliance: failed to migrate GoBD tables: Error 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[19.795ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[40.533ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:13 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[40.507ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[19.863ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[40.004ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[19.994ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[40.976ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[50.313ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[20.812ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[40.516ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[40.496ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[19.747ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[39.984ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[19.897ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[40.325ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[19.918ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[39.918ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[40.096ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[19.835ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[40.136ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[19.859ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[40.561ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[19.792ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[40.536ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[40.515ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[19.938ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[39.962ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[19.979ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[41.489ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[53.805ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[20.923ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[40.711ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:14 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[41.359ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/11 13:57:15 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:147 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[20.716ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/11 13:57:15 Failed to auto-migrate equipment_packages table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[20.094ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[41.027ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[40.659ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[19.788ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[41.113ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[20.027ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[43.035ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[21.368ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[40.460ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[41.002ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[19.889ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[40.143ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[19.779ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[41.261ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[44.777ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[19.952ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[40.601ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[40.952ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/11 13:57:15 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:151 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[20.040ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/11 13:57:15 Failed to auto-migrate invoice_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[19.618ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[39.989ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[40.951ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' AND table_type = 'BASE TABLE'

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[20.097ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[40.146ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[19.888ms] [34;1m[rows:-][0m SELECT * FROM `company_settings` LIMIT 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[41.695ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[19.346ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[40.317ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[40.721ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/11 13:57:15 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[20.266ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[41.185ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[19.938ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[43.127ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[20.144ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[41.004ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[40.185ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[20.103ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[41.068ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[20.387ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[43.498ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[60.058ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[20.307ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[41.038ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[41.021ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/11 13:57:16 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:159 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[19.749ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/11 13:57:16 Failed to auto-migrate email_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[19.857ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[40.293ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[42.179ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' AND table_type = 'BASE TABLE'

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[20.409ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[42.514ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[23.444ms] [34;1m[rows:-][0m SELECT * FROM `user_preferences` LIMIT 1

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[42.350ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' ORDER BY ORDINAL_POSITION

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[26.143ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `email_notifications` boolean NOT NULL DEFAULT true

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[26.278ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `system_notifications` boolean NOT NULL DEFAULT true

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[24.894ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `job_status_notifications` boolean NOT NULL DEFAULT true

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[24.876ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `device_alert_notifications` boolean NOT NULL DEFAULT true

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[25.622ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `show_advanced_options` boolean NOT NULL DEFAULT false

2025/07/11 13:57:16 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[25.540ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `auto_save_enabled` boolean NOT NULL DEFAULT true

2025/07/11 13:57:17 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:510
[0m[33m[145.009ms] [34;1m[rows:1][0m SELECT * FROM `invoice_templates` ORDER BY is_default DESC, name ASC
2025/07/11 13:57:17 Templates already exist (1), skipping default template creation
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] Loaded HTML Templates (63): 
	- customer_form.html
	- job_templates_list.html
	- jobs.html
	- device_detail.html
	- invoice_detail.html
	- invoice_preview.html
	- search_results.html
	- analytics_dashboard.html
	- case_form.html
	- job_form.html
	- job_template_detail.html
	- home.html
	- login.html
	- content
	- company_settings.html
	- scan_select_job.html
	- case_device_mapping.html
	- cases_list.html
	- equipment_packages_list.html
	- invoice_templates_list.html
	- signature_form.html
	- 
	- case_detail.html
	- email_template_form.html
	- transaction_form.html
	- transactions_list.html
	- base.html
	- monitoring_dashboard.html
	- user_detail.html
	- job_template_form.html
	- documents_list.html
	- email_template_preview.html
	- email_templates_list.html
	- equipment_package_form.html
	- error.html
	- invoice_template_designer.html
	- invoice_template_designer_basic.html
	- financial_reports.html
	- invoice_settings_form.html
	- job_detail.html
	- invoice_form.html
	- security_roles.html
	- equipment_package_detail.html
	- user_form.html
	- bulk_operations.html
	- device_form.html
	- mobile_scanner.html
	- users_list.html
	- css
	- customers.html
	- devices_standalone.html
	- financial_dashboard.html
	- invoice_template_german.html
	- profile_settings.html
	- invoices_content.html
	- scan_job.html
	- security_audit.html
	- js
	- customer_detail.html
	- document_upload_form.html
	- invoices-content
	- invoices_list.html
	- transaction_detail.html

[GIN-debug] GET    /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /sw.js                    --> main.main.func18 (7 handlers)
[GIN-debug] GET    /manifest.json            --> main.main.func19 (7 handlers)

2025/07/11 13:57:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[40.597ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'admin' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/11 13:57:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[40.019ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'manager' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/11 13:57:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[39.495ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'employee' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/11 13:57:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[40.048ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'viewer' ORDER BY `roles`.`roleID` LIMIT 1
[GIN-debug] GET    /                         --> main.setupRoutes.func1 (7 handlers)
[GIN-debug] GET    /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).LoginForm-fm (7 handlers)
[GIN-debug] POST   /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).Login-fm (7 handlers)
[GIN-debug] GET    /logout                   --> go-barcode-webapp/internal/handlers.(*AuthHandler).Logout-fm (7 handlers)
[GIN-debug] GET    /debug/invoice-test       --> main.setupRoutes.func2 (7 handlers)
[GIN-debug] GET    /debug/customer-selection --> main.setupRoutes.func3 (7 handlers)
[GIN-debug] GET    /debug/routes             --> main.setupRoutes.func4 (7 handlers)
[GIN-debug] GET    /dashboard                --> go-barcode-webapp/internal/handlers.(*HomeHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobs-fm (8 handlers)
[GIN-debug] GET    /jobs/new                 --> go-barcode-webapp/internal/handlers.(*JobHandler).NewJobForm-fm (8 handlers)
[GIN-debug] POST   /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/edit            --> go-barcode-webapp/internal/handlers.(*JobHandler).EditJobForm-fm (8 handlers)
[GIN-debug] PUT    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/update          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobDevices-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDevice-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/bulk-scan       --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevices-fm (8 handlers)
[GIN-debug] GET    /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevices-fm (8 handlers)
[GIN-debug] GET    /devices/new              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).NewDeviceForm-fm (8 handlers)
[GIN-debug] POST   /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/edit         --> go-barcode-webapp/internal/handlers.(*DeviceHandler).EditDeviceForm-fm (8 handlers)
[GIN-debug] PUT    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDevice-fm (8 handlers)
[GIN-debug] DELETE /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/qr           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceQR-fm (8 handlers)
[GIN-debug] GET    /devices/:id/barcode      --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /devices/:id/stats        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /devices/available        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevices-fm (8 handlers)
[GIN-debug] GET    /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomers-fm (8 handlers)
[GIN-debug] GET    /customers/new            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).NewCustomerForm-fm (8 handlers)
[GIN-debug] POST   /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id/edit       --> go-barcode-webapp/internal/handlers.(*CustomerHandler).EditCustomerForm-fm (8 handlers)
[GIN-debug] PUT    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomer-fm (8 handlers)
[GIN-debug] DELETE /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomer-fm (8 handlers)
[GIN-debug] GET    /statuses                 --> go-barcode-webapp/internal/handlers.(*StatusHandler).ListStatuses-fm (8 handlers)
[GIN-debug] GET    /products                 --> go-barcode-webapp/internal/handlers.(*ProductHandler).ListProducts-fm (8 handlers)
[GIN-debug] GET    /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCases-fm (8 handlers)
[GIN-debug] GET    /cases/new                --> go-barcode-webapp/internal/handlers.(*CaseHandler).NewCaseForm-fm (8 handlers)
[GIN-debug] POST   /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/edit           --> go-barcode-webapp/internal/handlers.(*CaseHandler).EditCaseForm-fm (8 handlers)
[GIN-debug] PUT    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).CaseDeviceMapping-fm (8 handlers)
[GIN-debug] POST   /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).ScanDeviceToCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*CaseHandler).RemoveDeviceFromCase-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/qr --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceQR-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/barcode --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /scan                     --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJobSelection-fm (8 handlers)
[GIN-debug] GET    /scan/select              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJobSelection-fm (8 handlers)
[GIN-debug] GET    /scan/:jobId              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJob-fm (8 handlers)
[GIN-debug] POST   /scan/:jobId/assign       --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] DELETE /scan/:jobId/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*ScannerHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] GET    /analytics                --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /analytics/revenue        --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetRevenueAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/equipment      --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetEquipmentAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/export         --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).ExportAnalytics-fm (8 handlers)
[GIN-debug] GET    /search/global            --> go-barcode-webapp/internal/handlers.(*SearchHandler).GlobalSearch-fm (8 handlers)
[GIN-debug] POST   /search/advanced          --> go-barcode-webapp/internal/handlers.(*SearchHandler).AdvancedSearch-fm (8 handlers)
[GIN-debug] GET    /search/suggestions       --> go-barcode-webapp/internal/handlers.(*SearchHandler).SearchSuggestions-fm (8 handlers)
[GIN-debug] GET    /search/saved             --> go-barcode-webapp/internal/handlers.(*SearchHandler).SavedSearches-fm (8 handlers)
[GIN-debug] DELETE /search/saved/:id         --> go-barcode-webapp/internal/handlers.(*SearchHandler).DeleteSavedSearch-fm (8 handlers)
[GIN-debug] POST   /pwa/subscribe            --> go-barcode-webapp/internal/handlers.(*PWAHandler).SubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/unsubscribe          --> go-barcode-webapp/internal/handlers.(*PWAHandler).UnsubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/sync                 --> go-barcode-webapp/internal/handlers.(*PWAHandler).SyncOfflineData-fm (8 handlers)
[GIN-debug] GET    /pwa/manifest             --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetOfflineManifest-fm (8 handlers)
[GIN-debug] GET    /pwa/install              --> go-barcode-webapp/internal/handlers.(*PWAHandler).InstallPrompt-fm (8 handlers)
[GIN-debug] GET    /pwa/status               --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetConnectionStatus-fm (8 handlers)
[GIN-debug] GET    /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplates-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/new   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewJobTemplateForm-fm (8 handlers)
[GIN-debug] POST   /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id/edit --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).EditJobTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListEquipmentPackages-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/new    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewEquipmentPackageForm-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/debug  --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DebugPackageForm-fm (8 handlers)
[GIN-debug] POST   /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/:id    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/bulk            --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkOperationsForm-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/update-status --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkUpdateDeviceStatus-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/assign-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkAssignToJob-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/generate-qr --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkGenerateQRCodes-fm (8 handlers)
[GIN-debug] GET    /workflow/stats           --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetWorkflowStats-fm (8 handlers)
[GIN-debug] GET    /documents                --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocuments-fm (8 handlers)
[GIN-debug] GET    /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocumentForm-fm (8 handlers)
[GIN-debug] POST   /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/view       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ViewDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/download   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DownloadDocument-fm (8 handlers)
[GIN-debug] DELETE /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).SignatureForm-fm (8 handlers)
[GIN-debug] POST   /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).AddSignature-fm (8 handlers)
[GIN-debug] GET    /documents/signatures/:id/verify --> go-barcode-webapp/internal/handlers.(*DocumentHandler).VerifySignature-fm (8 handlers)
[GIN-debug] GET    /financial                --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialDashboard-fm (8 handlers)
[GIN-debug] GET    /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/new --> go-barcode-webapp/internal/handlers.(*FinancialHandler).NewTransactionForm-fm (8 handlers)
[GIN-debug] POST   /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).CreateTransaction-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/:id --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetTransaction-fm (8 handlers)
[GIN-debug] PUT    /financial/transactions/:id/status --> go-barcode-webapp/internal/handlers.(*FinancialHandler).UpdateTransactionStatus-fm (8 handlers)
[GIN-debug] POST   /financial/jobs/:jobId/invoice --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GenerateInvoice-fm (8 handlers)
[GIN-debug] GET    /financial/reports        --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialReports-fm (8 handlers)
[GIN-debug] GET    /financial/api/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/revenue --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportRevenue-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/tax-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTaxReportCSV-fm (8 handlers)
[GIN-debug] GET    /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).ListInvoices-fm (8 handlers)
[GIN-debug] GET    /invoices/new             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).NewInvoiceForm-fm (8 handlers)
[GIN-debug] POST   /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/edit        --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).EditInvoiceForm-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/preview     --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).PreviewInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id/status      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/pdf         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GenerateInvoicePDF-fm (8 handlers)
[GIN-debug] GET    /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).ListTemplates-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/new    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).NewTemplateForm-fm (8 handlers)
[GIN-debug] POST   /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).CreateTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).EditTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).UpdateTemplate-fm (8 handlers)
[GIN-debug] DELETE /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).DeleteTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).PreviewTemplate-fm (8 handlers)
[GIN-debug] POST   /invoice-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).SetDefaultTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/company         --> main.setupRoutes.func5 (8 handlers)
[GIN-debug] GET    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).ListEmailTemplates-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/new --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).NewEmailTemplateForm-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).CreateEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).GetEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).EditEmailTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).UpdateEmailTemplate-fm (8 handlers)
[GIN-debug] DELETE /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).DeleteEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).PreviewEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).SetDefaultEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/test --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).TestEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /security/roles           --> main.setupRoutes.func6 (8 handlers)
[GIN-debug] GET    /security/audit           --> main.setupRoutes.func7 (8 handlers)
[GIN-debug] GET    /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /security/api/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/definitions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissionDefinitionsAPI-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/check --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
[GIN-debug] GET    /monitoring               --> main.setupRoutes.func8 (8 handlers)
[GIN-debug] GET    /monitoring/health        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetApplicationHealth-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics       --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetSystemMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics/prometheus --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ExportMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/performance   --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetPerformanceMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/errors        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetErrorDetails-fm (8 handlers)
[GIN-debug] POST   /monitoring/errors/:fingerprint/resolve --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ResolveError-fm (8 handlers)
[GIN-debug] POST   /monitoring/test-error    --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).TriggerTestError-fm (8 handlers)
[GIN-debug] GET    /monitoring/logs          --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetLogStream-fm (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId    --> main.setupRoutes.func9 (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId/enhanced --> main.setupRoutes.func10 (8 handlers)
[GIN-debug] GET    /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).ProfileSettingsForm-fm (8 handlers)
[GIN-debug] POST   /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateProfileSettings-fm (8 handlers)
[GIN-debug] GET    /profile/preferences      --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUserPreferences-fm (8 handlers)
[GIN-debug] GET    /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsers-fm (8 handlers)
[GIN-debug] POST   /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).CreateUserWeb-fm (8 handlers)
[GIN-debug] GET    /user-management/new      --> go-barcode-webapp/internal/handlers.(*AuthHandler).NewUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/edit --> go-barcode-webapp/internal/handlers.(*AuthHandler).EditUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/view --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUser-fm (8 handlers)
[GIN-debug] PUT    /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateUser-fm (8 handlers)
[GIN-debug] DELETE /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).DeleteUser-fm (8 handlers)
[GIN-debug] GET    /users/new                --> main.setupRoutes.func11 (8 handlers)
[GIN-debug] GET    /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobsAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJobAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJobAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJobAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDeviceAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/bulk-scan --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-device --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-case --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanCase-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/available --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevicesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomersAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomerAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomerAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCasesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCaseAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id/devices --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseDevicesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplatesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/most-used --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetMostUsedTemplatesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/category/:categoryId --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetTemplatesByCategoryAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] PUT    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocumentsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/stats   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocumentStats-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] DELETE /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactionsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/stats   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetFinancialStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id/status --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/stats    --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetProductDetails-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId/devices --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetDevicesByProduct-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit    --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/:id --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/auth/users --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsersAPI-fm (8 handlers)
[GIN-debug] GET    /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id/status  --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/stats       --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /api/security/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /api/security/check-permission --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
2025/07/11 13:57:17 Server starting on 0.0.0.0:8080
2025/07/11 13:59:13 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.763ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:13.902' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.264ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/11 13:59:14 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.775ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000a8afb0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc0003be898 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-11T11:59:14.01945244Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235153902428961","method":"GET","path":"/jobs","status_code":200,"duration":"117.020984ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29471}}
2025/07/11 13:59:15 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T11:59:15.144358733Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235155139520360","method":"GET","path":"/sw.js","status_code":200,"duration":"4.835147ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 13:59:18 Route Debug: GET /
{"timestamp":"2025-07-11T11:59:18.741851659Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235158741685658","method":"GET","path":"/","status_code":307,"duration":"164.448µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/11 13:59:18 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.777ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:18.774' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.164ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[20.081ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/11 13:59:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[19.574ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/11 13:59:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[19.948ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/11 13:59:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[23.018ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/11 13:59:18 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[21.380ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-11T11:59:18.96979322Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235158774673535","method":"GET","path":"/dashboard","status_code":200,"duration":"195.117451ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/11 13:59:19 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T11:59:19.827162027Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235159826985687","method":"GET","path":"/sw.js","status_code":304,"duration":"174.106µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 13:59:19 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.066ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:19.939' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.146ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[39.974ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[39.768ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.707ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/11 13:59:20 ⏱️  DeviceRepository.List() started

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[40.324ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[60.815ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/11 13:59:20 ⏱️  Device query took: 60.838483ms
2025/07/11 13:59:20 ⏱️  DeviceRepository.List() completed in 60.908002ms (found 20 devices)
{"timestamp":"2025-07-11T11:59:20.235270467Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235159939438104","method":"GET","path":"/scan","status_code":200,"duration":"295.830169ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18587}}
2025/07/11 13:59:20 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.650ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:20.579' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.732ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[42.501ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 13:59:20 [32m
[0m[33m[41.579ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[82.944ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[123.109ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.884ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 13:59:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[246.629ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 13:59:21 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.858ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 13:59:21 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[82.178ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/11 13:59:21 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[123.351ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 13:59:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[39.611ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/11 13:59:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[59.617ms] [34;1m[rows:5][0m SELECT * FROM `cases`
2025/07/11 13:59:21 SLOW REQUEST: GET /scan/1004 took 521.668771ms (status: 200)
{"timestamp":"2025-07-11T11:59:21.100973907Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235160579198706","method":"GET","path":"/scan/1004","status_code":200,"duration":"521.773277ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":77297}}
2025/07/11 13:59:21 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T11:59:21.358020944Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235161357836870","method":"GET","path":"/sw.js","status_code":304,"duration":"180.848µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 13:59:22 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T11:59:22.854458667Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235162854275554","method":"GET","path":"/sw.js","status_code":304,"duration":"180.829µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 13:59:30 Route Debug: GET /api/v1/devices/SUB1001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB1001
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.521ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:30.923' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.414ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.040ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 1

2025/07/11 13:59:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[78.741ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB1001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T11:59:31.082265225Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235170923911613","method":"GET","path":"/api/v1/devices/SUB1001","status_code":200,"duration":"158.351618ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":713}}
2025/07/11 13:59:34 POST request to /api/v1/jobs/1004/assign-device with Content-Type: 'application/json'
2025/07/11 13:59:34 Route Debug: POST /api/v1/jobs/1004/assign-device
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004/assign-device
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.264ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:34.664' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.514ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.393ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 1

2025/07/11 13:59:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.717ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB1001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/11 13:59:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:175
[0m[33m[39.863ms] [34;1m[rows:1][0m SELECT * FROM `jobdevices` WHERE deviceID = 'SUB1001' ORDER BY `jobdevices`.`jobID` LIMIT 1
2025/07/11 13:59:34 ERROR REQUEST: POST /api/v1/jobs/1004/assign-device returned 500 in 200.87728ms
{"timestamp":"2025-07-11T11:59:34.865047382Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235174664078541","method":"POST","path":"/api/v1/jobs/1004/assign-device","status_code":500,"duration":"200.965615ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":50,"bytes_out":50}}
2025/07/11 13:59:40 Route Debug: GET /
{"timestamp":"2025-07-11T11:59:40.116962842Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235180116749193","method":"GET","path":"/","status_code":307,"duration":"211.205µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/11 13:59:40 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.099ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:40.16' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.172ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[19.750ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/11 13:59:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[19.969ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/11 13:59:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[19.509ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/11 13:59:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[19.851ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/11 13:59:40 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.738ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-11T11:59:40.354248617Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235180160233320","method":"GET","path":"/dashboard","status_code":200,"duration":"194.013133ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/11 13:59:41 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T11:59:41.2348603Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235181234643944","method":"GET","path":"/sw.js","status_code":304,"duration":"212.79µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 13:59:41 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.216ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:41.775' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.523ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[39.982ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/11 13:59:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[39.486ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)

2025/07/11 13:59:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.563ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/11 13:59:41 ⏱️  DeviceRepository.List() started

2025/07/11 13:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[40.029ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/11 13:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[60.400ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/11 13:59:42 ⏱️  Device query took: 60.411903ms
2025/07/11 13:59:42 ⏱️  DeviceRepository.List() completed in 60.435187ms (found 20 devices)
{"timestamp":"2025-07-11T11:59:42.062995422Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235181775340746","method":"GET","path":"/scan","status_code":200,"duration":"287.652542ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18587}}
2025/07/11 13:59:43 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T11:59:43.105292167Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235183105091571","method":"GET","path":"/sw.js","status_code":304,"duration":"196.718µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 13:59:45 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.093ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:45.035' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.118ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.286ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 13:59:45 [32m
[0m[33m[39.934ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[80.872ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[120.241ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.072ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[241.269ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.381ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[81.417ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[121.999ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[41.106ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/11 13:59:45 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[61.317ms] [34;1m[rows:5][0m SELECT * FROM `cases`
2025/07/11 13:59:45 SLOW REQUEST: GET /scan/1004 took 523.387081ms (status: 200)
{"timestamp":"2025-07-11T11:59:45.558556657Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235185035044341","method":"GET","path":"/scan/1004","status_code":200,"duration":"523.508909ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":77297}}
2025/07/11 13:59:46 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T11:59:46.629540267Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235186629325589","method":"GET","path":"/sw.js","status_code":304,"duration":"212.135µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 13:59:55 Route Debug: GET /api/v1/devices/SUB1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB1003
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 13:59:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.312ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 13:59:55.307' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 13:59:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.940ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 13:59:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.532ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 1

2025/07/11 13:59:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[79.735ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T11:59:55.469325018Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235195307916611","method":"GET","path":"/api/v1/devices/SUB1003","status_code":200,"duration":"161.40449ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":713}}
2025/07/11 14:04:47 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-11T12:04:47.486081566Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235487485926236","method":"GET","path":"/scan","status_code":303,"duration":"152.505µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/11 14:07:39 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-11T12:07:39.147399578Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235659147247221","method":"GET","path":"/scan","status_code":303,"duration":"150.016µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/11 14:08:49 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:08:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.240ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:08:49.925' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.477ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.601ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:08:50 [32m
[0m[33m[39.939ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[80.356ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[120.314ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.565ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[240.423ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.019ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[80.823ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[120.960ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[39.842ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/11 14:08:50 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[59.980ms] [34;1m[rows:5][0m SELECT * FROM `cases`
2025/07/11 14:08:50 SLOW REQUEST: GET /scan/1004 took 514.872091ms (status: 200)
{"timestamp":"2025-07-11T12:08:50.440252821Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235729925253161","method":"GET","path":"/scan/1004","status_code":200,"duration":"514.996974ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":77081}}
2025/07/11 14:08:51 Route Debug: GET /static/images/icon-180.png
2025/07/11 14:08:51 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/11 14:08:51 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/11 14:08:51 Route Debug: GET /favicon.ico
2025/07/11 14:08:51 NotFoundHandler: 404 for path: /favicon.ico
2025/07/11 14:08:51 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-11T12:08:51.278163517Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235731267600512","method":"GET","path":"/favicon.ico","status_code":404,"duration":"10.556182ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/11 14:08:51 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:08:51.497124502Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235731496897927","method":"GET","path":"/sw.js","status_code":200,"duration":"222.247µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:09:03 Route Debug: GET /api/v1/devices/SUB1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB1003
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.250ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:03.996' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.132ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[40.031ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 1

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.010ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T12:09:04.15711078Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235743996382759","method":"GET","path":"/api/v1/devices/SUB1003","status_code":200,"duration":"160.725367ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":713}}
2025/07/11 14:09:04 POST request to /api/v1/jobs/1004/assign-device with Content-Type: 'application/json'
2025/07/11 14:09:04 Route Debug: POST /api/v1/jobs/1004/assign-device
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004/assign-device
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.146ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:04.203' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.047ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.460ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 1

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[78.980ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/11 14:09:04 [31;1m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:175 [35;1mrecord not found
[0m[33m[40.504ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE deviceID = 'SUB1003' ORDER BY `jobdevices`.`jobID` LIMIT 1

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:194
[0m[33m[82.386ms] [34;1m[rows:1][0m INSERT INTO `jobdevices` (`jobID`,`deviceID`,`custom_price`) VALUES (1004,'SUB1003',NULL)

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:301
[0m[33m[39.658ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[40.002ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[80.802ms] [34;1m[rows:9][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','TOP1001','TOP1002')

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[120.300ms] [34;1m[rows:9][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:09:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:353
[0m[33m[82.188ms] [34;1m[rows:1][0m UPDATE `jobs` SET `customerID`=52,`statusID`=1001,`jobcategoryID`=NULL,`description`='',`discount`=0,`discount_type`='amount',`revenue`=310,`final_revenue`=310,`startDate`='2025-06-07 00:00:00',`endDate`='2025-06-07 00:00:00',`templateID`=NULL WHERE `jobID` = 1004
2025/07/11 14:09:04 SLOW REQUEST: POST /api/v1/jobs/1004/assign-device took 524.992615ms (status: 200)
{"timestamp":"2025-07-11T12:09:04.728374434Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235744203286680","method":"POST","path":"/api/v1/jobs/1004/assign-device","status_code":200,"duration":"525.083566ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":50,"bytes_out":771}}
2025/07/11 14:09:08 Route Debug: GET /api/v1/devices/SUB1004
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.781ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:08.703' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.277ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.993ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 1

2025/07/11 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.578ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB1004' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T12:09:08.864794342Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235748703736895","method":"GET","path":"/api/v1/devices/SUB1004","status_code":200,"duration":"161.05376ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":713}}
2025/07/11 14:09:08 POST request to /api/v1/jobs/1004/assign-device with Content-Type: 'application/json'
2025/07/11 14:09:08 Route Debug: POST /api/v1/jobs/1004/assign-device
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004/assign-device
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.578ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:08.903' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.361ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.981ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 1

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[79.921ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB1004' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/11 14:09:09 [31;1m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:175 [35;1mrecord not found
[0m[33m[39.746ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE deviceID = 'SUB1004' ORDER BY `jobdevices`.`jobID` LIMIT 1

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:194
[0m[33m[83.442ms] [34;1m[rows:1][0m INSERT INTO `jobdevices` (`jobID`,`deviceID`,`custom_price`) VALUES (1004,'SUB1004',NULL)

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:301
[0m[33m[39.703ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[40.898ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[81.297ms] [34;1m[rows:10][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','TOP1001','TOP1002')

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[121.875ms] [34;1m[rows:10][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:09:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:353
[0m[33m[82.118ms] [34;1m[rows:1][0m UPDATE `jobs` SET `customerID`=52,`statusID`=1001,`jobcategoryID`=NULL,`description`='',`discount`=0,`discount_type`='amount',`revenue`=360,`final_revenue`=360,`startDate`='2025-06-07 00:00:00',`endDate`='2025-06-07 00:00:00',`templateID`=NULL WHERE `jobID` = 1004
2025/07/11 14:09:09 SLOW REQUEST: POST /api/v1/jobs/1004/assign-device took 527.478491ms (status: 200)
{"timestamp":"2025-07-11T12:09:09.431002137Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235748903450057","method":"POST","path":"/api/v1/jobs/1004/assign-device","status_code":200,"duration":"527.548904ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":50,"bytes_out":771}}
2025/07/11 14:09:15 Route Debug: GET /api/v1/devices/SUB2001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB2001
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.005ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:15.139' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.092ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:15 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[40.004ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 3

2025/07/11 14:09:15 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.196ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB2001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T12:09:15.300639622Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235755139921411","method":"GET","path":"/api/v1/devices/SUB2001","status_code":200,"duration":"160.714865ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":697}}
2025/07/11 14:09:41 POST request to /api/v1/jobs/1004/assign-device with Content-Type: 'application/json'
2025/07/11 14:09:41 Route Debug: POST /api/v1/jobs/1004/assign-device
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004/assign-device
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.736ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:41.98' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.479ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.809ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 3

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[79.845ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB2001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/11 14:09:42 [31;1m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:175 [35;1mrecord not found
[0m[33m[39.854ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE deviceID = 'SUB2001' ORDER BY `jobdevices`.`jobID` LIMIT 1

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:194
[0m[33m[81.141ms] [34;1m[rows:1][0m INSERT INTO `jobdevices` (`jobID`,`deviceID`,`custom_price`) VALUES (1004,'SUB2001',NULL)

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:301
[0m[33m[40.363ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[39.871ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[80.395ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[120.502ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:353
[0m[33m[81.125ms] [34;1m[rows:1][0m UPDATE `jobs` SET `customerID`=52,`statusID`=1001,`jobcategoryID`=NULL,`description`='',`discount`=0,`discount_type`='amount',`revenue`=395,`final_revenue`=395,`startDate`='2025-06-07 00:00:00',`endDate`='2025-06-07 00:00:00',`templateID`=NULL WHERE `jobID` = 1004
2025/07/11 14:09:42 SLOW REQUEST: POST /api/v1/jobs/1004/assign-device took 524.841217ms (status: 200)
{"timestamp":"2025-07-11T12:09:42.504977428Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235781980060158","method":"POST","path":"/api/v1/jobs/1004/assign-device","status_code":200,"duration":"524.914305ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":50,"bytes_out":755}}
2025/07/11 14:09:49 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.716ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:49.118' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.663ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.135ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:09:49 [32m
[0m[33m[39.506ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[80.820ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[121.229ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.177ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[242.138ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.056ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[80.685ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[120.914ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[39.651ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/11 14:09:49 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[59.414ms] [34;1m[rows:5][0m SELECT * FROM `cases`
2025/07/11 14:09:49 SLOW REQUEST: GET /scan/1004 took 512.511187ms (status: 200)
{"timestamp":"2025-07-11T12:09:49.631412276Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235789118761896","method":"GET","path":"/scan/1004","status_code":200,"duration":"512.646213ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":82643}}
2025/07/11 14:09:50 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:09:50.687285472Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235790687088817","method":"GET","path":"/sw.js","status_code":200,"duration":"193.64µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:09:54 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.126ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:54.817' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.586ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[39.910ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/11 14:09:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[39.543ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)

2025/07/11 14:09:55 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.631ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/11 14:09:55 ⏱️  DeviceRepository.List() started

2025/07/11 14:09:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[40.173ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/11 14:09:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[60.493ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/11 14:09:55 ⏱️  Device query took: 60.521359ms
2025/07/11 14:09:55 ⏱️  DeviceRepository.List() completed in 60.546162ms (found 20 devices)
{"timestamp":"2025-07-11T12:09:55.109596829Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235794817160120","method":"GET","path":"/scan","status_code":200,"duration":"292.433163ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18588}}
2025/07/11 14:09:56 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:09:56.164285733Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235796164042729","method":"GET","path":"/sw.js","status_code":200,"duration":"239.249µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:09:57 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.559ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:09:57.22' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.123ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.794ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:09:57 [32m
[0m[33m[40.060ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[80.590ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[120.811ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.685ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[241.295ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.552ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[81.124ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[121.693ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[39.629ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/11 14:09:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[59.610ms] [34;1m[rows:5][0m SELECT * FROM `cases`
2025/07/11 14:09:57 SLOW REQUEST: GET /scan/1004 took 512.242257ms (status: 200)
{"timestamp":"2025-07-11T12:09:57.732639714Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235797220318469","method":"GET","path":"/scan/1004","status_code":200,"duration":"512.319121ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":82643}}
2025/07/11 14:09:58 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:09:58.835318323Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235798835117182","method":"GET","path":"/sw.js","status_code":304,"duration":"197.395µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 14:10:04 Route Debug: GET /jobs/1004
DEBUG: AuthMiddleware called for URL: /jobs/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.148ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:10:04.025' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.146ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.959ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:10:04 [32m
[0m[33m[40.882ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[82.390ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[122.618ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.940ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[243.674ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.509ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[81.357ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:10:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[122.343ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE jobID = 1004
{"timestamp":"2025-07-11T12:10:04.485536902Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235804025729987","method":"GET","path":"/jobs/1004","status_code":200,"duration":"459.802787ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29112}}
2025/07/11 14:10:05 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:10:05.524989551Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235805524446051","method":"GET","path":"/sw.js","status_code":200,"duration":"539.103µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:11:26 Route Debug: GET /jobs/1004
DEBUG: AuthMiddleware called for URL: /jobs/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.322ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:26.554' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.232ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.203ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:11:26 [32m
[0m[33m[40.751ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[82.000ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[122.108ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.459ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[242.167ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.550ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[80.949ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:11:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[121.050ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE jobID = 1004
{"timestamp":"2025-07-11T12:11:27.01017183Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235886554861217","method":"GET","path":"/jobs/1004","status_code":200,"duration":"455.307532ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29112}}
2025/07/11 14:11:28 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:11:28.060865198Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235888060639666","method":"GET","path":"/sw.js","status_code":200,"duration":"221.789µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:11:29 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.196ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:29.659' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.086ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/11 14:11:29 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.860ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc0007bce10 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:395 FinalRevenue:0xc00037c200 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:11 TotalRevenue:395}
{"timestamp":"2025-07-11T12:11:29.775991252Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235889658957366","method":"GET","path":"/jobs","status_code":200,"duration":"117.028517ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29471}}
2025/07/11 14:11:30 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:11:30.86186483Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235890861583496","method":"GET","path":"/sw.js","status_code":200,"duration":"277.571µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:11:31 Route Debug: GET /
{"timestamp":"2025-07-11T12:11:31.082804212Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235891082672651","method":"GET","path":"/","status_code":307,"duration":"128.731µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/11 14:11:31 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.259ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:31.108' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.159ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[19.766ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/11 14:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[19.941ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/11 14:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[19.985ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/11 14:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[20.458ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/11 14:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.714ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-11T12:11:31.302146731Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235891108293213","method":"GET","path":"/dashboard","status_code":200,"duration":"193.850337ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/11 14:11:32 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:11:32.130268583Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235892130061443","method":"GET","path":"/sw.js","status_code":304,"duration":"204.22µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 14:11:32 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.333ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:32.713' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.473ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:32 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[39.854ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/11 14:11:32 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[39.798ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)

2025/07/11 14:11:32 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.738ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/11 14:11:32 ⏱️  DeviceRepository.List() started

2025/07/11 14:11:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[40.364ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/11 14:11:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[60.865ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/11 14:11:32 ⏱️  Device query took: 60.886317ms
2025/07/11 14:11:32 ⏱️  DeviceRepository.List() completed in 60.912999ms (found 20 devices)
{"timestamp":"2025-07-11T12:11:33.005455747Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235892713356260","method":"GET","path":"/scan","status_code":200,"duration":"292.096357ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18588}}
2025/07/11 14:11:34 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:11:34.076448058Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235894076286163","method":"GET","path":"/sw.js","status_code":304,"duration":"159.206µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 14:11:34 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.355ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:34.469' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.179ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.213ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:11:34 [32m
[0m[33m[39.988ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[80.382ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[120.470ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[39.835ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[242.235ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[40.168ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[80.600ms] [34;1m[rows:11][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','TOP1001','TOP1002')

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[120.627ms] [34;1m[rows:11][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[41.178ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/11 14:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[60.939ms] [34;1m[rows:5][0m SELECT * FROM `cases`
2025/07/11 14:11:34 SLOW REQUEST: GET /scan/1004 took 515.990564ms (status: 200)
{"timestamp":"2025-07-11T12:11:34.985104482Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235894469000319","method":"GET","path":"/scan/1004","status_code":200,"duration":"516.100942ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":87831}}
2025/07/11 14:11:36 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:11:36.050270737Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235896050009250","method":"GET","path":"/sw.js","status_code":200,"duration":"258.186µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:11:39 Route Debug: GET /api/v1/devices/SUB2001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB2001
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.581ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:39.637' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.046ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[40.269ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 3

2025/07/11 14:11:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.105ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB2001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T12:11:39.798409793Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235899637298194","method":"GET","path":"/api/v1/devices/SUB2001","status_code":200,"duration":"161.107869ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":697}}
2025/07/11 14:11:39 POST request to /api/v1/jobs/1004/assign-device with Content-Type: 'application/json'
2025/07/11 14:11:39 Route Debug: POST /api/v1/jobs/1004/assign-device
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004/assign-device
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.519ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:39.857' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.410ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:40 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[40.293ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 3

2025/07/11 14:11:40 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.529ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB2001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/11 14:11:40 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:175
[0m[33m[40.074ms] [34;1m[rows:1][0m SELECT * FROM `jobdevices` WHERE deviceID = 'SUB2001' ORDER BY `jobdevices`.`jobID` LIMIT 1
2025/07/11 14:11:40 ERROR REQUEST: POST /api/v1/jobs/1004/assign-device returned 500 in 200.900101ms
{"timestamp":"2025-07-11T12:11:40.058366269Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235899857400415","method":"POST","path":"/api/v1/jobs/1004/assign-device","status_code":500,"duration":"200.963028ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":50,"bytes_out":50}}
2025/07/11 14:11:45 Route Debug: GET /api/v1/devices/SUB2002
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB2002
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.786ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:45.907' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.828ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[40.140ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 3

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.238ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB2002' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T12:11:46.068921782Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235905907667505","method":"GET","path":"/api/v1/devices/SUB2002","status_code":200,"duration":"161.251905ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":697}}
2025/07/11 14:11:46 POST request to /api/v1/jobs/1004/assign-device with Content-Type: 'application/json'
2025/07/11 14:11:46 Route Debug: POST /api/v1/jobs/1004/assign-device
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004/assign-device
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.271ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:46.111' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[39.773ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[40.340ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 3

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.382ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB2002' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/11 14:11:46 [31;1m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:175 [35;1mrecord not found
[0m[33m[39.385ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE deviceID = 'SUB2002' ORDER BY `jobdevices`.`jobID` LIMIT 1

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:194
[0m[33m[81.052ms] [34;1m[rows:1][0m INSERT INTO `jobdevices` (`jobID`,`deviceID`,`custom_price`) VALUES (1004,'SUB2002',NULL)

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:301
[0m[33m[40.453ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[40.533ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[81.062ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:321
[0m[33m[120.779ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:353
[0m[33m[80.888ms] [34;1m[rows:1][0m UPDATE `jobs` SET `customerID`=52,`statusID`=1001,`jobcategoryID`=NULL,`description`='',`discount`=0,`discount_type`='amount',`revenue`=430,`final_revenue`=430,`startDate`='2025-06-07 00:00:00',`endDate`='2025-06-07 00:00:00',`templateID`=NULL WHERE `jobID` = 1004
2025/07/11 14:11:46 SLOW REQUEST: POST /api/v1/jobs/1004/assign-device took 522.753603ms (status: 200)
{"timestamp":"2025-07-11T12:11:46.634735232Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235906111870583","method":"POST","path":"/api/v1/jobs/1004/assign-device","status_code":200,"duration":"522.86112ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":50,"bytes_out":755}}
2025/07/11 14:11:51 Route Debug: GET /api/v1/devices/SUB2003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/SUB2003
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:11:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[41.169ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:11:51.517' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:11:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.230ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:11:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.801ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 3

2025/07/11 14:11:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[79.949ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'SUB2003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T12:11:51.679071333Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235911517321857","method":"GET","path":"/api/v1/devices/SUB2003","status_code":200,"duration":"161.745385ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":697}}
2025/07/11 14:12:46 Route Debug: GET /jobs/1004
DEBUG: AuthMiddleware called for URL: /jobs/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.895ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:12:46.047' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.385ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.844ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:12:46 [32m
[0m[33m[40.732ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[82.508ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[123.785ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.942ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[247.125ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[41.283ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[83.389ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/11 14:12:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[124.452ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE jobID = 1004
{"timestamp":"2025-07-11T12:12:46.510877158Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235966047349185","method":"GET","path":"/jobs/1004","status_code":200,"duration":"463.525541ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":30383}}
2025/07/11 14:12:47 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:12:47.611950006Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235967611731273","method":"GET","path":"/sw.js","status_code":200,"duration":"215.278µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:12:53 Route Debug: GET /jobs/1004/edit
DEBUG: AuthMiddleware called for URL: /jobs/1004/edit
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[41.007ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:12:53.261' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.448ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[41.059ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:12:53 [32m
[0m[33m[43.169ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[87.204ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[134.715ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[42.031ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[259.628ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[21.279ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[19.905ms] [34;1m[rows:4][0m SELECT * FROM `status`

2025/07/11 14:12:53 [32m/opt/dev/go-barcode-webapp/internal/repository/job_category_repository.go:30
[0m[33m[20.202ms] [34;1m[rows:5][0m SELECT * FROM `jobCategory`
{"timestamp":"2025-07-11T12:12:53.676627443Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235973261018474","method":"GET","path":"/jobs/1004/edit","status_code":200,"duration":"415.607128ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":24684}}
2025/07/11 14:12:54 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:12:54.757657651Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235974757374352","method":"GET","path":"/sw.js","status_code":200,"duration":"279.593µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:12:58 Route Debug: GET /
{"timestamp":"2025-07-11T12:12:58.93918116Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235978938987094","method":"GET","path":"/","status_code":307,"duration":"190.879µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/11 14:12:59 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:12:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.706ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:12:59.021' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:12:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.872ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:12:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[20.447ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/11 14:12:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[20.150ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/11 14:12:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[20.828ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/11 14:12:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[24.622ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/11 14:12:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[21.321ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-11T12:12:59.223773693Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235979021417758","method":"GET","path":"/dashboard","status_code":200,"duration":"202.35274ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/11 14:13:00 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:13:00.034125233Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235980033888071","method":"GET","path":"/sw.js","status_code":200,"duration":"233.468µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:13:01 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:13:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[41.357ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:01.576' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.625ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/11 14:13:01 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[21.196ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc0007bae10 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:430 FinalRevenue:0xc0002371b0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:12 TotalRevenue:430}
{"timestamp":"2025-07-11T12:13:01.694639809Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235981575910724","method":"GET","path":"/jobs","status_code":200,"duration":"118.726385ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29471}}
2025/07/11 14:13:02 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:13:02.766595687Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235982766331188","method":"GET","path":"/sw.js","status_code":200,"duration":"261.363µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:13:03 Route Debug: GET /api/v1/customers
2025/07/11 14:13:03 Route Debug: GET /api/v1/jobs/1004
DEBUG: AuthMiddleware called for URL: /api/v1/customers
2025/07/11 14:13:03 Route Debug: GET /statuses
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f
DEBUG: AuthMiddleware called for URL: /statuses
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[41.781ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:03.53' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.309ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[41.644ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[180.219ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:03.53' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[180.733ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:03.53' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.122ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.416ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[20.435ms] [34;1m[rows:4][0m SELECT * FROM `status`
{"timestamp":"2025-07-11T12:13:03.772821451Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235983529902773","method":"GET","path":"/statuses","status_code":200,"duration":"242.915832ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":161}}

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[21.847ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-11T12:13:03.774220573Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235983529507582","method":"GET","path":"/api/v1/customers","status_code":200,"duration":"244.710694ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":13957}}

2025/07/11 14:13:03 [32m
[0m[33m[41.574ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[83.577ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[124.902ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[41.183ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:13:03 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[249.077ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''
{"timestamp":"2025-07-11T12:13:03.862924767Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235983529573192","method":"GET","path":"/api/v1/jobs/1004","status_code":200,"duration":"333.347922ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":15570}}
2025/07/11 14:13:13 Route Debug: PUT /api/v1/jobs/1004
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:13:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.350ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:13.992' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.326ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
{"timestamp":"2025-07-11T12:13:14.073603515Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752235993992221054","method":"PUT","path":"/api/v1/jobs/1004","status_code":400,"duration":"81.377371ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":162,"bytes_out":100}}
2025/07/11 14:13:42 Route Debug: GET /
{"timestamp":"2025-07-11T12:13:42.77147844Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236022771368204","method":"GET","path":"/","status_code":307,"duration":"107.922µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/11 14:13:42 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:13:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[39.804ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:42.808' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.173ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:13:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[19.832ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/11 14:13:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[20.149ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/11 14:13:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[20.150ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/11 14:13:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[22.064ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/11 14:13:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.613ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-11T12:13:43.000813809Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236022808137674","method":"GET","path":"/dashboard","status_code":200,"duration":"192.674332ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/11 14:13:43 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:13:43.884249666Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236023884068306","method":"GET","path":"/sw.js","status_code":200,"duration":"178.475µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/11 14:13:44 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:13:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.228ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:44.341' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.491ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:13:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[39.489ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/11 14:13:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[39.749ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)

2025/07/11 14:13:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[20.662ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/11 14:13:44 ⏱️  DeviceRepository.List() started

2025/07/11 14:13:44 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[39.850ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/11 14:13:44 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[60.191ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/11 14:13:44 ⏱️  Device query took: 60.204855ms
2025/07/11 14:13:44 ⏱️  DeviceRepository.List() completed in 60.237125ms (found 20 devices)
{"timestamp":"2025-07-11T12:13:44.630558053Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236024341389986","method":"GET","path":"/scan","status_code":200,"duration":"289.16505ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18588}}
2025/07/11 14:13:45 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:13:45.776760727Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236025776571572","method":"GET","path":"/sw.js","status_code":304,"duration":"186.42µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 14:13:57 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[42.234ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:13:57.223' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[41.848ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[41.904ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/11 14:13:57 [32m
[0m[33m[41.886ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[84.152ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[125.612ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[40.886ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[250.729ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[41.766ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[83.897ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[125.929ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[41.594ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/11 14:13:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[62.716ms] [34;1m[rows:5][0m SELECT * FROM `cases`
2025/07/11 14:13:57 SLOW REQUEST: GET /scan/1004 took 536.935122ms (status: 200)
{"timestamp":"2025-07-11T12:13:57.760893319Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236037223828054","method":"GET","path":"/scan/1004","status_code":200,"duration":"537.0619ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":84394}}
2025/07/11 14:13:58 Route Debug: GET /sw.js
{"timestamp":"2025-07-11T12:13:58.940043886Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236038938946706","method":"GET","path":"/sw.js","status_code":304,"duration":"1.090902ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1}}
2025/07/11 14:14:09 Route Debug: GET /api/v1/devices/PAR1001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/PAR1001
DEBUG: Found session cookie: 0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f

2025/07/11 14:14:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.218ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '0a1cc80ec93c541ba06f25d199d474476c66c67b067e35177f255efef0e0088f' AND expires_at > '2025-07-11 14:14:09.889' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/11 14:14:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[40.213ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/11 14:14:10 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[39.974ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 31

2025/07/11 14:14:10 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[80.135ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'PAR1001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-11T12:14:10.050178997Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236049889241219","method":"GET","path":"/api/v1/devices/PAR1001","status_code":200,"duration":"160.935092ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":715}}
2025/07/11 14:17:04 Route Debug: GET /api/v1/jobs
DEBUG: AuthMiddleware called for URL: /api/v1/jobs
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-11T12:17:04.63773776Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752236224637512335","method":"GET","path":"/api/v1/jobs","status_code":303,"duration":"222.088µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
