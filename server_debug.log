2025/07/10 11:10:37 Database connection established successfully

2025/07/10 11:10:37 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/audit_logger.go:39 [35;1mrecord not found
[0m[33m[18.633ms] [34;1m[rows:0][0m SELECT * FROM `audit_events` ORDER BY timestamp DESC,`audit_events`.`id` LIMIT 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.193ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.515ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.963ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND table_type = 'BASE TABLE'

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.799ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.164ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.852ms] [34;1m[rows:-][0m SELECT * FROM `gobd_records` LIMIT 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.111ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[22.126ms] [34;1m[rows:0][0m ALTER TABLE `gobd_records` MODIFY COLUMN `is_immutable` boolean DEFAULT true

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.515ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.535ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.381ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_data_hash'

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.450ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.593ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[37.094ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_archive_date'

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[18.084ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.144ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.142ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_retention_date'

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.737ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.583ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.784ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_user_id'

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.450ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[38.915ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.697ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_company_id'

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.375ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:37 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.265ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.285ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_type'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.764ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[37.147ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.229ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_id'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.393ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.445ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.456ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND table_type = 'BASE TABLE'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.390ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.804ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.512ms] [34;1m[rows:-][0m SELECT * FROM `audit_events` LIMIT 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.701ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[23.264ms] [34;1m[rows:0][0m ALTER TABLE `audit_events` MODIFY COLUMN `is_compliant` boolean DEFAULT true

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.530ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.992ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.452ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_event_type'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.800ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.980ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.891ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_type'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.905ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.449ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.346ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_id'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.353ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.663ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.772ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_user_id'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.408ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.230ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.970ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_session_id'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.429ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.054ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.887ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_previous_hash'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.931ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.488ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.321ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_retention_date'

2025/07/10 11:10:38 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.859ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.063ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.904ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_timestamp'

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.357ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.598ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.030ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' AND table_type = 'BASE TABLE'

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.884ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.133ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.979ms] [34;1m[rows:-][0m SELECT * FROM `retention_policies` LIMIT 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[37.187ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:39 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132 [35;1mError 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'
[0m[33m[31.200ms] [34;1m[rows:0][0m ALTER TABLE `retention_policies` ADD `document_type` varchar(191) NOT NULL UNIQUE
2025/07/10 11:10:39 Warning: Failed to create compliance middleware: failed to create GoBD compliance: failed to migrate GoBD tables: Error 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[17.243ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[36.064ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[35.373ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[17.534ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[36.362ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[19.979ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[36.848ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[46.327ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[17.781ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[36.115ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[36.434ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[17.490ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[35.600ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[17.775ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[37.497ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.918ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.141ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[36.460ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.842ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.797ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[18.324ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[36.813ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.687ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:39 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.651ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.906ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.839ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.600ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.563ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[36.450ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[42.717ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[18.444ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.376ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.142ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/10 11:10:40 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:147 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[17.354ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/10 11:10:40 Failed to auto-migrate equipment_packages table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.555ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[36.594ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.420ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.305ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.603ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.352ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.892ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.727ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[36.200ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.789ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.670ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.083ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[18.000ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[38.954ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[40.949ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.403ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[36.175ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.746ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/10 11:10:40 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:151 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[18.159ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/10 11:10:40 Failed to auto-migrate invoice_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.725ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[35.547ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[36.014ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' AND table_type = 'BASE TABLE'

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.590ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[36.490ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:40 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.667ms] [34;1m[rows:-][0m SELECT * FROM `company_settings` LIMIT 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[36.158ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.070ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.667ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[36.268ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.861ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.534ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.478ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[37.032ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.263ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[36.106ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.546ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.369ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[36.015ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.871ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.496ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[39.292ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.602ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.504ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.850ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/10 11:10:41 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:159 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[17.838ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/10 11:10:41 Failed to auto-migrate email_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[17.785ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[35.553ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[34.960ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' AND table_type = 'BASE TABLE'

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[17.515ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[35.016ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[17.480ms] [34;1m[rows:-][0m SELECT * FROM `user_preferences` LIMIT 1

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[36.409ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' ORDER BY ORDINAL_POSITION

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[63.749ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `email_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.897ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `system_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[22.437ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `job_status_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.942ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `device_alert_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.380ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `show_advanced_options` boolean NOT NULL DEFAULT false

2025/07/10 11:10:41 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.940ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `auto_save_enabled` boolean NOT NULL DEFAULT true

2025/07/10 11:10:42 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:510
[0m[33m[131.846ms] [34;1m[rows:1][0m SELECT * FROM `invoice_templates` ORDER BY is_default DESC, name ASC
2025/07/10 11:10:42 Templates already exist (1), skipping default template creation
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] Loaded HTML Templates (63): 
	- case_device_mapping.html
	- email_template_form.html
	- monitoring_dashboard.html
	- content
	- equipment_packages_list.html
	- financial_reports.html
	- invoice_detail.html
	- invoices_list.html
	- customer_form.html
	- document_upload_form.html
	- financial_dashboard.html
	- users_list.html
	- css
	- equipment_package_detail.html
	- error.html
	- invoice_preview.html
	- invoice_template_german.html
	- invoice_templates_list.html
	- invoices_content.html
	- invoices-content
	- invoice_template_designer_basic.html
	- transaction_detail.html
	- user_form.html
	- cases_list.html
	- scan_select_job.html
	- transaction_form.html
	- case_form.html
	- device_detail.html
	- email_templates_list.html
	- home.html
	- invoice_template_designer.html
	- signature_form.html
	- company_settings.html
	- invoice_form.html
	- job_detail.html
	- security_roles.html
	- 
	- profile_settings.html
	- security_audit.html
	- js
	- customers.html
	- invoice_settings_form.html
	- job_templates_list.html
	- bulk_operations.html
	- job_form.html
	- jobs.html
	- scan_job.html
	- transactions_list.html
	- analytics_dashboard.html
	- base.html
	- documents_list.html
	- login.html
	- user_detail.html
	- device_form.html
	- devices_standalone.html
	- email_template_preview.html
	- equipment_package_form.html
	- search_results.html
	- case_detail.html
	- customer_detail.html
	- job_template_detail.html
	- job_template_form.html
	- mobile_scanner.html

[GIN-debug] GET    /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /sw.js                    --> main.main.func18 (7 handlers)
[GIN-debug] GET    /manifest.json            --> main.main.func19 (7 handlers)

2025/07/10 11:10:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[38.965ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'admin' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/10 11:10:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[37.816ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'manager' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/10 11:10:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[35.567ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'employee' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/10 11:10:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[34.990ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'viewer' ORDER BY `roles`.`roleID` LIMIT 1
[GIN-debug] GET    /                         --> main.setupRoutes.func1 (7 handlers)
[GIN-debug] GET    /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).LoginForm-fm (7 handlers)
[GIN-debug] POST   /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).Login-fm (7 handlers)
[GIN-debug] GET    /logout                   --> go-barcode-webapp/internal/handlers.(*AuthHandler).Logout-fm (7 handlers)
[GIN-debug] GET    /debug/invoice-test       --> main.setupRoutes.func2 (7 handlers)
[GIN-debug] GET    /debug/customer-selection --> main.setupRoutes.func3 (7 handlers)
[GIN-debug] GET    /debug/routes             --> main.setupRoutes.func4 (7 handlers)
[GIN-debug] GET    /dashboard                --> go-barcode-webapp/internal/handlers.(*HomeHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobs-fm (8 handlers)
[GIN-debug] GET    /jobs/new                 --> go-barcode-webapp/internal/handlers.(*JobHandler).NewJobForm-fm (8 handlers)
[GIN-debug] POST   /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/edit            --> go-barcode-webapp/internal/handlers.(*JobHandler).EditJobForm-fm (8 handlers)
[GIN-debug] PUT    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/update          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobDevices-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDevice-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/bulk-scan       --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevices-fm (8 handlers)
[GIN-debug] GET    /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevices-fm (8 handlers)
[GIN-debug] GET    /devices/new              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).NewDeviceForm-fm (8 handlers)
[GIN-debug] POST   /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/edit         --> go-barcode-webapp/internal/handlers.(*DeviceHandler).EditDeviceForm-fm (8 handlers)
[GIN-debug] PUT    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDevice-fm (8 handlers)
[GIN-debug] DELETE /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/qr           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceQR-fm (8 handlers)
[GIN-debug] GET    /devices/:id/barcode      --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /devices/:id/stats        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /devices/available        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevices-fm (8 handlers)
[GIN-debug] GET    /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomers-fm (8 handlers)
[GIN-debug] GET    /customers/new            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).NewCustomerForm-fm (8 handlers)
[GIN-debug] POST   /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id/edit       --> go-barcode-webapp/internal/handlers.(*CustomerHandler).EditCustomerForm-fm (8 handlers)
[GIN-debug] PUT    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomer-fm (8 handlers)
[GIN-debug] DELETE /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomer-fm (8 handlers)
[GIN-debug] GET    /statuses                 --> go-barcode-webapp/internal/handlers.(*StatusHandler).ListStatuses-fm (8 handlers)
[GIN-debug] GET    /products                 --> go-barcode-webapp/internal/handlers.(*ProductHandler).ListProducts-fm (8 handlers)
[GIN-debug] GET    /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCases-fm (8 handlers)
[GIN-debug] GET    /cases/new                --> go-barcode-webapp/internal/handlers.(*CaseHandler).NewCaseForm-fm (8 handlers)
[GIN-debug] POST   /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/edit           --> go-barcode-webapp/internal/handlers.(*CaseHandler).EditCaseForm-fm (8 handlers)
[GIN-debug] PUT    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).CaseDeviceMapping-fm (8 handlers)
[GIN-debug] POST   /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).ScanDeviceToCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*CaseHandler).RemoveDeviceFromCase-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/qr --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceQR-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/barcode --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /scan/select              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJobSelection-fm (8 handlers)
[GIN-debug] GET    /scan/:jobId              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJob-fm (8 handlers)
[GIN-debug] POST   /scan/:jobId/assign       --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] DELETE /scan/:jobId/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*ScannerHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] GET    /analytics                --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /analytics/revenue        --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetRevenueAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/equipment      --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetEquipmentAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/export         --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).ExportAnalytics-fm (8 handlers)
[GIN-debug] GET    /search/global            --> go-barcode-webapp/internal/handlers.(*SearchHandler).GlobalSearch-fm (8 handlers)
[GIN-debug] POST   /search/advanced          --> go-barcode-webapp/internal/handlers.(*SearchHandler).AdvancedSearch-fm (8 handlers)
[GIN-debug] GET    /search/suggestions       --> go-barcode-webapp/internal/handlers.(*SearchHandler).SearchSuggestions-fm (8 handlers)
[GIN-debug] GET    /search/saved             --> go-barcode-webapp/internal/handlers.(*SearchHandler).SavedSearches-fm (8 handlers)
[GIN-debug] DELETE /search/saved/:id         --> go-barcode-webapp/internal/handlers.(*SearchHandler).DeleteSavedSearch-fm (8 handlers)
[GIN-debug] POST   /pwa/subscribe            --> go-barcode-webapp/internal/handlers.(*PWAHandler).SubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/unsubscribe          --> go-barcode-webapp/internal/handlers.(*PWAHandler).UnsubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/sync                 --> go-barcode-webapp/internal/handlers.(*PWAHandler).SyncOfflineData-fm (8 handlers)
[GIN-debug] GET    /pwa/manifest             --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetOfflineManifest-fm (8 handlers)
[GIN-debug] GET    /pwa/install              --> go-barcode-webapp/internal/handlers.(*PWAHandler).InstallPrompt-fm (8 handlers)
[GIN-debug] GET    /pwa/status               --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetConnectionStatus-fm (8 handlers)
[GIN-debug] GET    /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplates-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/new   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewJobTemplateForm-fm (8 handlers)
[GIN-debug] POST   /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id/edit --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).EditJobTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListEquipmentPackages-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/new    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewEquipmentPackageForm-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/debug  --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DebugPackageForm-fm (8 handlers)
[GIN-debug] POST   /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/:id    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/bulk            --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkOperationsForm-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/update-status --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkUpdateDeviceStatus-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/assign-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkAssignToJob-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/generate-qr --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkGenerateQRCodes-fm (8 handlers)
[GIN-debug] GET    /workflow/stats           --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetWorkflowStats-fm (8 handlers)
[GIN-debug] GET    /documents                --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocuments-fm (8 handlers)
[GIN-debug] GET    /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocumentForm-fm (8 handlers)
[GIN-debug] POST   /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/view       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ViewDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/download   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DownloadDocument-fm (8 handlers)
[GIN-debug] DELETE /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).SignatureForm-fm (8 handlers)
[GIN-debug] POST   /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).AddSignature-fm (8 handlers)
[GIN-debug] GET    /documents/signatures/:id/verify --> go-barcode-webapp/internal/handlers.(*DocumentHandler).VerifySignature-fm (8 handlers)
[GIN-debug] GET    /financial                --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialDashboard-fm (8 handlers)
[GIN-debug] GET    /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/new --> go-barcode-webapp/internal/handlers.(*FinancialHandler).NewTransactionForm-fm (8 handlers)
[GIN-debug] POST   /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).CreateTransaction-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/:id --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetTransaction-fm (8 handlers)
[GIN-debug] PUT    /financial/transactions/:id/status --> go-barcode-webapp/internal/handlers.(*FinancialHandler).UpdateTransactionStatus-fm (8 handlers)
[GIN-debug] POST   /financial/jobs/:jobId/invoice --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GenerateInvoice-fm (8 handlers)
[GIN-debug] GET    /financial/reports        --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialReports-fm (8 handlers)
[GIN-debug] GET    /financial/api/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/revenue --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportRevenue-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/tax-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTaxReportCSV-fm (8 handlers)
[GIN-debug] GET    /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).ListInvoices-fm (8 handlers)
[GIN-debug] GET    /invoices/new             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).NewInvoiceForm-fm (8 handlers)
[GIN-debug] POST   /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/edit        --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).EditInvoiceForm-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/preview     --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).PreviewInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id/status      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/pdf         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GenerateInvoicePDF-fm (8 handlers)
[GIN-debug] GET    /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).ListTemplates-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/new    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).NewTemplateForm-fm (8 handlers)
[GIN-debug] POST   /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).CreateTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).EditTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).UpdateTemplate-fm (8 handlers)
[GIN-debug] DELETE /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).DeleteTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).PreviewTemplate-fm (8 handlers)
[GIN-debug] POST   /invoice-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).SetDefaultTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/company         --> main.setupRoutes.func5 (8 handlers)
[GIN-debug] GET    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).ListEmailTemplates-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/new --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).NewEmailTemplateForm-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).CreateEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).GetEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).EditEmailTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).UpdateEmailTemplate-fm (8 handlers)
[GIN-debug] DELETE /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).DeleteEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).PreviewEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).SetDefaultEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/test --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).TestEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /security/roles           --> main.setupRoutes.func6 (8 handlers)
[GIN-debug] GET    /security/audit           --> main.setupRoutes.func7 (8 handlers)
[GIN-debug] GET    /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /security/api/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/definitions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissionDefinitionsAPI-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/check --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
[GIN-debug] GET    /monitoring               --> main.setupRoutes.func8 (8 handlers)
[GIN-debug] GET    /monitoring/health        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetApplicationHealth-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics       --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetSystemMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics/prometheus --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ExportMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/performance   --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetPerformanceMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/errors        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetErrorDetails-fm (8 handlers)
[GIN-debug] POST   /monitoring/errors/:fingerprint/resolve --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ResolveError-fm (8 handlers)
[GIN-debug] POST   /monitoring/test-error    --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).TriggerTestError-fm (8 handlers)
[GIN-debug] GET    /monitoring/logs          --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetLogStream-fm (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId    --> main.setupRoutes.func9 (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId/enhanced --> main.setupRoutes.func10 (8 handlers)
[GIN-debug] GET    /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).ProfileSettingsForm-fm (8 handlers)
[GIN-debug] POST   /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateProfileSettings-fm (8 handlers)
[GIN-debug] GET    /profile/preferences      --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUserPreferences-fm (8 handlers)
[GIN-debug] GET    /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsers-fm (8 handlers)
[GIN-debug] POST   /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).CreateUserWeb-fm (8 handlers)
[GIN-debug] GET    /user-management/new      --> go-barcode-webapp/internal/handlers.(*AuthHandler).NewUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/edit --> go-barcode-webapp/internal/handlers.(*AuthHandler).EditUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/view --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUser-fm (8 handlers)
[GIN-debug] PUT    /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateUser-fm (8 handlers)
[GIN-debug] DELETE /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).DeleteUser-fm (8 handlers)
[GIN-debug] GET    /users/new                --> main.setupRoutes.func11 (8 handlers)
[GIN-debug] GET    /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobsAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJobAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJobAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJobAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDeviceAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/bulk-scan --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-device --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-case --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanCase-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/available --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevicesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomersAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomerAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomerAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCasesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCaseAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id/devices --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseDevicesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplatesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/most-used --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetMostUsedTemplatesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/category/:categoryId --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetTemplatesByCategoryAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] PUT    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocumentsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/stats   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocumentStats-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] DELETE /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactionsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/stats   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetFinancialStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id/status --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/stats    --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetProductDetails-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId/devices --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetDevicesByProduct-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit    --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/:id --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/auth/users --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsersAPI-fm (8 handlers)
[GIN-debug] GET    /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id/status  --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/stats       --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /api/security/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /api/security/check-permission --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
2025/07/10 11:10:42 Server starting on 0.0.0.0:8080
2025/07/10 11:10:42 listen tcp 0.0.0.0:8080: bind: address already in use
exit status 1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            2025/07/10 11:11:17 Route Debug: GET /jobs/1004/edit
DEBUG: AuthMiddleware called for URL: /jobs/1004/edit
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.268ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:17.987' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[37.387ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: EditJobForm called for ID 1004 by user admin

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.293ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:18 [32m
[0m[33m[35.554ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[71.347ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[106.588ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.439ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[212.849ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[18.756ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[17.973ms] [34;1m[rows:4][0m SELECT * FROM `status`

2025/07/10 11:11:18 [32m/opt/dev/go-barcode-webapp/internal/repository/job_category_repository.go:30
[0m[33m[17.587ms] [34;1m[rows:5][0m SELECT * FROM `jobCategory`
🔧 DEBUG: Rendering job_form.html template with job ID 1004, description: ''
{"timestamp":"2025-07-10T09:11:18.341860132Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138677987623728","method":"GET","path":"/jobs/1004/edit","status_code":200,"duration":"354.23338ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":26533}}
2025/07/10 11:11:18 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 11:11:22 POST request to /jobs/1004/update with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 11:11:22 Form _method parameter: ''
2025/07/10 11:11:22 Route Debug: POST /jobs/1004/update
DEBUG: AuthMiddleware called for URL: /jobs/1004/update
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.651ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:22.135' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.916ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: UpdateJob called for ID 1004

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[36.337ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:22 [32m
[0m[33m[36.271ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[72.449ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[107.572ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.858ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[214.865ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''
🔧 DEBUG: Original job description: ''
🔧 DEBUG: Form values:
  discount: [21]
  discount_type: [amount]
  description: [test]
  start_date: [2025-06-07]
  revenue: [260]
  end_date: [2025-06-07]
  job_category_id: []
  customer_id: [52]
  status_id: [1001]
🔧 DEBUG: Form description value: 'test'
🔧 DEBUG: Updated job description: 'test'
🔧 DEBUG: About to save job with description: 'test'
🔧 DEBUG JobRepo.Update: Saving job ID 1004 with description: 'test'

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[40.382ms] [34;1m[rows:0][0m INSERT INTO `customers` (`companyname`,`lastname`,`firstname`,`street`,`housenumber`,`ZIP`,`city`,`federalstate`,`country`,`phonenumber`,`email`,`customertype`,`notes`,`customerID`) VALUES (NULL,'Tielmann','Noah Ben','Forsthausstraße','3','35686','Dillenburg',NULL,'DE','+49 151 15885788','noah.tielmann@tsunami-events.de','Kunde','Herr',52) ON DUPLICATE KEY UPDATE `customerID`=VALUES(`customerID`)

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[35.697ms] [34;1m[rows:0][0m INSERT INTO `status` (`status`,`statusID`) VALUES ('open',1001) ON DUPLICATE KEY UPDATE `statusID`=VALUES(`statusID`)

2025/07/10 11:11:22 [32m
[0m[33m[37.330ms] [34;1m[rows:0][0m INSERT INTO `products` (`name`,`categoryID`,`subcategoryID`,`subbiercategoryID`,`manufacturerID`,`brandID`,`description`,`maintenanceInterval`,`itemcostperday`,`weight`,`height`,`width`,`depth`,`powerconsumption`,`pos_in_category`,`productID`) VALUES ('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('Stinger Sub 18A G3',1001,'SND1001','SUB1001',1,1,'18" aktiver Subwoofer',NULL,50,42.6,547,677,740,800,1,1),('Stinger Sub 18A G3',1001,'SND1001','SUB1001',1,1,'18" aktiver Subwoofer',NULL,50,42.6,547,677,740,800,1,1),('Stinger 12A G3',1001,'SND1002','TOP1001',1,1,'12" aktiver Satellit',NULL,30,20.1,519,320,300,500,1,2),('Stinger 12A G3',1001,'SND1002','TOP1001',1,1,'12" aktiver Satellit',NULL,30,20.1,519,320,300,500,1,2) ON DUPLICATE KEY UPDATE `productID`=VALUES(`productID`)

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[76.958ms] [34;1m[rows:8][0m INSERT INTO `devices` (`deviceID`,`productID`,`serialnumber`,`purchaseDate`,`lastmaintenance`,`nextmaintenance`,`insurancenumber`,`status`,`insuranceID`,`qr_code`,`current_location`,`gps_latitude`,`gps_longitude`,`condition_rating`,`usage_hours`,`total_revenue`,`last_maintenance_cost`,`notes`,`barcode`) VALUES ('MHD1001',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1002',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1003',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1004',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('SUB1001',1,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('SUB1002',1,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('TOP1001',2,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('TOP1002',2,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL) ON DUPLICATE KEY UPDATE `deviceID`=VALUES(`deviceID`)

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[112.817ms] [34;1m[rows:0][0m INSERT INTO `jobdevices` (`jobID`,`deviceID`,`custom_price`) VALUES (1004,'MHD1001',NULL),(1004,'MHD1002',NULL),(1004,'MHD1003',NULL),(1004,'MHD1004',NULL),(1004,'SUB1001',NULL),(1004,'SUB1002',NULL),(1004,'TOP1001',NULL),(1004,'TOP1002',NULL) ON DUPLICATE KEY UPDATE `jobID`=VALUES(`jobID`)

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50 [33mSLOW SQL >= 200ms
[0m[31;1m[264.691ms] [33m[rows:1][35m UPDATE `jobs` SET `customerID`=52,`description`='test',`discount`=21,`discount_type`='amount',`endDate`='2025-06-07 02:00:00',`final_revenue`=260,`jobcategoryID`=NULL,`revenue`=260,`startDate`='2025-06-07 02:00:00',`statusID`=1001 WHERE jobID = 1004 AND `jobID` = 1004[0m
🔧 DEBUG JobRepo.Update: Success! Rows affected: 1

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:72
[0m[33m[36.192ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE jobID = 1004 ORDER BY `jobs`.`jobID` LIMIT 1
🔧 DEBUG JobRepo.Update: Verification - DB now has description: 'test'
🔧 DEBUG: Update successful!

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:359
[0m[33m[35.669ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:378
[0m[33m[70.822ms] [34;1m[rows:0][0m UPDATE `jobs` SET `customerID`=52,`statusID`=1001,`jobcategoryID`=NULL,`description`='test',`discount`=21,`discount_type`='amount',`revenue`=260,`final_revenue`=239,`startDate`='2025-06-07 00:00:00',`endDate`='2025-06-07 00:00:00',`templateID`=NULL WHERE `jobID` = 1004

2025/07/10 11:11:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:378
[0m[33m[71.358ms] [34;1m[rows:0][0m INSERT INTO `jobs` (`customerID`,`statusID`,`jobcategoryID`,`description`,`discount`,`discount_type`,`revenue`,`final_revenue`,`startDate`,`endDate`,`templateID`,`jobID`) VALUES (52,1001,NULL,'test',21,'amount',260,239,'2025-06-07 00:00:00','2025-06-07 00:00:00',NULL,1004) ON DUPLICATE KEY UPDATE `customerID`=VALUES(`customerID`),`statusID`=VALUES(`statusID`),`jobcategoryID`=VALUES(`jobcategoryID`),`description`=VALUES(`description`),`discount`=VALUES(`discount`),`discount_type`=VALUES(`discount_type`),`revenue`=VALUES(`revenue`),`final_revenue`=VALUES(`final_revenue`),`startDate`=VALUES(`startDate`),`endDate`=VALUES(`endDate`),`templateID`=VALUES(`templateID`)
🔧 DEBUG: Redirecting to job details page for ID 1004
2025/07/10 11:11:22 SLOW REQUEST: POST /jobs/1004/update took 766.055101ms (status: 302)
{"timestamp":"2025-07-10T09:11:22.901381865Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138682135141209","method":"POST","path":"/jobs/1004/update","status_code":302,"duration":"766.236754ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":150,"bytes_out":-1}}
2025/07/10 11:11:22 Route Debug: GET /jobs/1004
DEBUG: AuthMiddleware called for URL: /jobs/1004
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.353ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:22.966' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.297ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.722ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:23 [32m
[0m[33m[36.613ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[72.376ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[107.201ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.449ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[214.620ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: 'test'

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[35.709ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[72.422ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[107.572ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE jobID = 1004
{"timestamp":"2025-07-10T09:11:23.374528543Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138682966822056","method":"GET","path":"/jobs/1004","status_code":200,"duration":"407.700346ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8899,"errors":"Error #01: template: job_detail.html:193:37: executing \"job_detail.html\" at \u003c.job.JobCategory\u003e: can't evaluate field JobCategory in type interface {}\n"}}
2025/07/10 11:11:31 Route Debug: GET /jobs/1004/edit
DEBUG: AuthMiddleware called for URL: /jobs/1004/edit
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.539ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:31.659' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.221ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: EditJobForm called for ID 1004 by user admin

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.844ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:31 [32m
[0m[33m[36.285ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[73.771ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[110.204ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.127ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[217.930ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: 'test'

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[19.308ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC

2025/07/10 11:11:31 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[17.988ms] [34;1m[rows:4][0m SELECT * FROM `status`

2025/07/10 11:11:32 [32m/opt/dev/go-barcode-webapp/internal/repository/job_category_repository.go:30
[0m[33m[18.544ms] [34;1m[rows:5][0m SELECT * FROM `jobCategory`
🔧 DEBUG: Rendering job_form.html template with job ID 1004, description: 'test'
{"timestamp":"2025-07-10T09:11:32.018270647Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138691659494927","method":"GET","path":"/jobs/1004/edit","status_code":200,"duration":"358.772734ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":26542}}
2025/07/10 11:11:34 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.775ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:34.093' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.504ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:11:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.621ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc0003a4ea0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc0008d0be8 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:239}
{"timestamp":"2025-07-10T09:11:34.19787087Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138694093580958","method":"GET","path":"/jobs","status_code":200,"duration":"104.287078ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12752}}
2025/07/10 11:11:36 Route Debug: GET /jobs/1004/edit
DEBUG: AuthMiddleware called for URL: /jobs/1004/edit
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.869ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:36.22' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.851ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: EditJobForm called for ID 1004 by user admin

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[36.170ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:36 [32m
[0m[33m[35.842ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[72.145ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[107.602ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[36.063ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[215.429ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: 'test'

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[18.950ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[17.688ms] [34;1m[rows:4][0m SELECT * FROM `status`

2025/07/10 11:11:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_category_repository.go:30
[0m[33m[18.170ms] [34;1m[rows:5][0m SELECT * FROM `jobCategory`
🔧 DEBUG: Rendering job_form.html template with job ID 1004, description: 'test'
{"timestamp":"2025-07-10T09:11:36.573779712Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138696220214324","method":"GET","path":"/jobs/1004/edit","status_code":200,"duration":"353.562545ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":26542}}
2025/07/10 11:11:46 POST request to /jobs/1004/update with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 11:11:46 Form _method parameter: ''
2025/07/10 11:11:46 Route Debug: POST /jobs/1004/update
DEBUG: AuthMiddleware called for URL: /jobs/1004/update
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.780ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:46.38' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.026ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: UpdateJob called for ID 1004

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.076ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:46 [32m
[0m[33m[36.017ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[72.433ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[107.388ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.202ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[214.053ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: 'test'
🔧 DEBUG: Original job description: 'test'
🔧 DEBUG: Form values:
  discount_type: [amount]
  description: [0]
  customer_id: [52]
  end_date: [2025-06-07]
  discount: [0]
  revenue: [260]
  status_id: [1001]
  start_date: [2025-06-07]
  job_category_id: []
🔧 DEBUG: Form description value: '0'
🔧 DEBUG: Updated job description: '0'
🔧 DEBUG: About to save job with description: '0'
🔧 DEBUG JobRepo.Update: Saving job ID 1004 with description: '0'

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[35.181ms] [34;1m[rows:0][0m INSERT INTO `customers` (`companyname`,`lastname`,`firstname`,`street`,`housenumber`,`ZIP`,`city`,`federalstate`,`country`,`phonenumber`,`email`,`customertype`,`notes`,`customerID`) VALUES (NULL,'Tielmann','Noah Ben','Forsthausstraße','3','35686','Dillenburg',NULL,'DE','+49 151 15885788','noah.tielmann@tsunami-events.de','Kunde','Herr',52) ON DUPLICATE KEY UPDATE `customerID`=VALUES(`customerID`)

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[34.899ms] [34;1m[rows:0][0m INSERT INTO `status` (`status`,`statusID`) VALUES ('open',1001) ON DUPLICATE KEY UPDATE `statusID`=VALUES(`statusID`)

2025/07/10 11:11:46 [32m
[0m[33m[36.117ms] [34;1m[rows:0][0m INSERT INTO `products` (`name`,`categoryID`,`subcategoryID`,`subbiercategoryID`,`manufacturerID`,`brandID`,`description`,`maintenanceInterval`,`itemcostperday`,`weight`,`height`,`width`,`depth`,`powerconsumption`,`pos_in_category`,`productID`) VALUES ('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('Stinger Sub 18A G3',1001,'SND1001','SUB1001',1,1,'18" aktiver Subwoofer',NULL,50,42.6,547,677,740,800,1,1),('Stinger Sub 18A G3',1001,'SND1001','SUB1001',1,1,'18" aktiver Subwoofer',NULL,50,42.6,547,677,740,800,1,1),('Stinger 12A G3',1001,'SND1002','TOP1001',1,1,'12" aktiver Satellit',NULL,30,20.1,519,320,300,500,1,2),('Stinger 12A G3',1001,'SND1002','TOP1001',1,1,'12" aktiver Satellit',NULL,30,20.1,519,320,300,500,1,2) ON DUPLICATE KEY UPDATE `productID`=VALUES(`productID`)

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[73.863ms] [34;1m[rows:8][0m INSERT INTO `devices` (`deviceID`,`productID`,`serialnumber`,`purchaseDate`,`lastmaintenance`,`nextmaintenance`,`insurancenumber`,`status`,`insuranceID`,`qr_code`,`current_location`,`gps_latitude`,`gps_longitude`,`condition_rating`,`usage_hours`,`total_revenue`,`last_maintenance_cost`,`notes`,`barcode`) VALUES ('MHD1001',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1002',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1003',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1004',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('SUB1001',1,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('SUB1002',1,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('TOP1001',2,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('TOP1002',2,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL) ON DUPLICATE KEY UPDATE `deviceID`=VALUES(`deviceID`)

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[109.460ms] [34;1m[rows:0][0m INSERT INTO `jobdevices` (`jobID`,`deviceID`,`custom_price`) VALUES (1004,'MHD1001',NULL),(1004,'MHD1002',NULL),(1004,'MHD1003',NULL),(1004,'MHD1004',NULL),(1004,'SUB1001',NULL),(1004,'SUB1002',NULL),(1004,'TOP1001',NULL),(1004,'TOP1002',NULL) ON DUPLICATE KEY UPDATE `jobID`=VALUES(`jobID`)

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50 [33mSLOW SQL >= 200ms
[0m[31;1m[252.470ms] [33m[rows:1][35m UPDATE `jobs` SET `customerID`=52,`description`='0',`discount`=0,`discount_type`='amount',`endDate`='2025-06-07 02:00:00',`final_revenue`=239,`jobcategoryID`=NULL,`revenue`=260,`startDate`='2025-06-07 02:00:00',`statusID`=1001 WHERE jobID = 1004 AND `jobID` = 1004[0m
🔧 DEBUG JobRepo.Update: Success! Rows affected: 1

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:72
[0m[33m[35.854ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE jobID = 1004 ORDER BY `jobs`.`jobID` LIMIT 1
🔧 DEBUG JobRepo.Update: Verification - DB now has description: '0'
🔧 DEBUG: Update successful!

2025/07/10 11:11:46 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:359
[0m[33m[35.066ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:378
[0m[33m[69.896ms] [34;1m[rows:0][0m UPDATE `jobs` SET `customerID`=52,`statusID`=1001,`jobcategoryID`=NULL,`description`='0',`discount`=0,`discount_type`='amount',`revenue`=260,`final_revenue`=260,`startDate`='2025-06-07 00:00:00',`endDate`='2025-06-07 00:00:00',`templateID`=NULL WHERE `jobID` = 1004

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:378
[0m[33m[70.159ms] [34;1m[rows:0][0m INSERT INTO `jobs` (`customerID`,`statusID`,`jobcategoryID`,`description`,`discount`,`discount_type`,`revenue`,`final_revenue`,`startDate`,`endDate`,`templateID`,`jobID`) VALUES (52,1001,NULL,'0',0,'amount',260,260,'2025-06-07 00:00:00','2025-06-07 00:00:00',NULL,1004) ON DUPLICATE KEY UPDATE `customerID`=VALUES(`customerID`),`statusID`=VALUES(`statusID`),`jobcategoryID`=VALUES(`jobcategoryID`),`description`=VALUES(`description`),`discount`=VALUES(`discount`),`discount_type`=VALUES(`discount_type`),`revenue`=VALUES(`revenue`),`final_revenue`=VALUES(`final_revenue`),`startDate`=VALUES(`startDate`),`endDate`=VALUES(`endDate`),`templateID`=VALUES(`templateID`)
🔧 DEBUG: Redirecting to job details page for ID 1004
2025/07/10 11:11:47 SLOW REQUEST: POST /jobs/1004/update took 749.183776ms (status: 302)
{"timestamp":"2025-07-10T09:11:47.129268356Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138706379991526","method":"POST","path":"/jobs/1004/update","status_code":302,"duration":"749.273434ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":146,"bytes_out":-1}}
2025/07/10 11:11:47 Route Debug: GET /jobs/1004
DEBUG: AuthMiddleware called for URL: /jobs/1004
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.278ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:47.181' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.154ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.872ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:47 [32m
[0m[33m[35.970ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[71.996ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[106.711ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.682ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[214.603ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: '0'

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[35.046ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[70.572ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[112.296ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE jobID = 1004
{"timestamp":"2025-07-10T09:11:47.591418461Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138707181928445","method":"GET","path":"/jobs/1004","status_code":200,"duration":"409.48138ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8896,"errors":"Error #01: template: job_detail.html:193:37: executing \"job_detail.html\" at \u003c.job.JobCategory\u003e: can't evaluate field JobCategory in type interface {}\n"}}
2025/07/10 11:11:54 Route Debug: GET /
{"timestamp":"2025-07-10T09:11:54.940350502Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138714940177799","method":"GET","path":"/","status_code":307,"duration":"170.409µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 11:11:55 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.930ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:55.312' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[37.129ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[18.083ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 11:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[18.639ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 11:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.517ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 11:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[18.368ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 11:11:55 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.590ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T09:11:55.488132552Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138715312336495","method":"GET","path":"/dashboard","status_code":200,"duration":"175.793513ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 11:11:57 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.445ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:57.233' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.132ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:11:57 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.441ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc0002c06f0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc0008d05c0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T09:11:57.334207102Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138717232996530","method":"GET","path":"/jobs","status_code":200,"duration":"101.208579ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12749}}
2025/07/10 11:11:58 Route Debug: GET /jobs/1004
DEBUG: AuthMiddleware called for URL: /jobs/1004
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.203ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:11:58.996' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.089ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.553ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:11:59 [32m
[0m[33m[35.467ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[71.349ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[106.534ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.099ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[213.695ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: '0'

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[36.114ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[71.684ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:11:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[107.426ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE jobID = 1004
{"timestamp":"2025-07-10T09:11:59.401733712Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138718996850424","method":"GET","path":"/jobs/1004","status_code":200,"duration":"404.876886ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8896,"errors":"Error #01: template: job_detail.html:193:37: executing \"job_detail.html\" at \u003c.job.JobCategory\u003e: can't evaluate field JobCategory in type interface {}\n"}}
2025/07/10 11:12:02 Route Debug: GET /jobs/1004/edit
DEBUG: AuthMiddleware called for URL: /jobs/1004/edit
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.089ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:12:02.315' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.083ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: EditJobForm called for ID 1004 by user admin

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.863ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:12:02 [32m
[0m[33m[36.024ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[72.093ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[108.003ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.446ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[216.854ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: '0'

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[18.954ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[17.389ms] [34;1m[rows:4][0m SELECT * FROM `status`

2025/07/10 11:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_category_repository.go:30
[0m[33m[17.483ms] [34;1m[rows:5][0m SELECT * FROM `jobCategory`
🔧 DEBUG: Rendering job_form.html template with job ID 1004, description: '0'
{"timestamp":"2025-07-10T09:12:02.671291561Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138722315584117","method":"GET","path":"/jobs/1004/edit","status_code":200,"duration":"355.702164ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":26535}}
2025/07/10 11:12:07 POST request to /jobs/1004/update with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 11:12:07 Form _method parameter: ''
2025/07/10 11:12:07 Route Debug: POST /jobs/1004/update
DEBUG: AuthMiddleware called for URL: /jobs/1004/update
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.456ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:12:07.278' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.200ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: UpdateJob called for ID 1004

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[36.129ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:12:07 [32m
[0m[33m[35.597ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[71.918ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[108.434ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.544ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[215.356ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: '0'
🔧 DEBUG: Original job description: '0'
🔧 DEBUG: Form values:
  job_category_id: []
  status_id: [1001]
  start_date: [2025-06-07]
  end_date: [2025-06-07]
  discount_type: [amount]
  description: []
  customer_id: [52]
  revenue: [260]
  discount: [0]
🔧 DEBUG: Form description value: ''
🔧 DEBUG: Updated job description: ''
🔧 DEBUG: About to save job with description: ''
🔧 DEBUG JobRepo.Update: Saving job ID 1004 with description: ''

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[34.960ms] [34;1m[rows:0][0m INSERT INTO `customers` (`companyname`,`lastname`,`firstname`,`street`,`housenumber`,`ZIP`,`city`,`federalstate`,`country`,`phonenumber`,`email`,`customertype`,`notes`,`customerID`) VALUES (NULL,'Tielmann','Noah Ben','Forsthausstraße','3','35686','Dillenburg',NULL,'DE','+49 151 15885788','noah.tielmann@tsunami-events.de','Kunde','Herr',52) ON DUPLICATE KEY UPDATE `customerID`=VALUES(`customerID`)

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[34.801ms] [34;1m[rows:0][0m INSERT INTO `status` (`status`,`statusID`) VALUES ('open',1001) ON DUPLICATE KEY UPDATE `statusID`=VALUES(`statusID`)

2025/07/10 11:12:07 [32m
[0m[33m[36.419ms] [34;1m[rows:0][0m INSERT INTO `products` (`name`,`categoryID`,`subcategoryID`,`subbiercategoryID`,`manufacturerID`,`brandID`,`description`,`maintenanceInterval`,`itemcostperday`,`weight`,`height`,`width`,`depth`,`powerconsumption`,`pos_in_category`,`productID`) VALUES ('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('LED Movinghead E150 Spot',1002,'LGT1001','MHD1002',6,6,'LED Movinghead Spot mit 150W LED Leistung',NULL,25,14,47,27,27,220,1,10),('Stinger Sub 18A G3',1001,'SND1001','SUB1001',1,1,'18" aktiver Subwoofer',NULL,50,42.6,547,677,740,800,1,1),('Stinger Sub 18A G3',1001,'SND1001','SUB1001',1,1,'18" aktiver Subwoofer',NULL,50,42.6,547,677,740,800,1,1),('Stinger 12A G3',1001,'SND1002','TOP1001',1,1,'12" aktiver Satellit',NULL,30,20.1,519,320,300,500,1,2),('Stinger 12A G3',1001,'SND1002','TOP1001',1,1,'12" aktiver Satellit',NULL,30,20.1,519,320,300,500,1,2) ON DUPLICATE KEY UPDATE `productID`=VALUES(`productID`)

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[73.830ms] [34;1m[rows:8][0m INSERT INTO `devices` (`deviceID`,`productID`,`serialnumber`,`purchaseDate`,`lastmaintenance`,`nextmaintenance`,`insurancenumber`,`status`,`insuranceID`,`qr_code`,`current_location`,`gps_latitude`,`gps_longitude`,`condition_rating`,`usage_hours`,`total_revenue`,`last_maintenance_cost`,`notes`,`barcode`) VALUES ('MHD1001',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1002',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1003',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('MHD1004',10,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('SUB1001',1,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('SUB1002',1,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('TOP1001',2,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL),('TOP1002',2,NULL,NULL,NULL,NULL,NULL,'free',NULL,NULL,NULL,NULL,NULL,5,0,0,NULL,NULL,NULL) ON DUPLICATE KEY UPDATE `deviceID`=VALUES(`deviceID`)

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50
[0m[33m[108.895ms] [34;1m[rows:0][0m INSERT INTO `jobdevices` (`jobID`,`deviceID`,`custom_price`) VALUES (1004,'MHD1001',NULL),(1004,'MHD1002',NULL),(1004,'MHD1003',NULL),(1004,'MHD1004',NULL),(1004,'SUB1001',NULL),(1004,'SUB1002',NULL),(1004,'TOP1001',NULL),(1004,'TOP1002',NULL) ON DUPLICATE KEY UPDATE `jobID`=VALUES(`jobID`)

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:50 [33mSLOW SQL >= 200ms
[0m[31;1m[252.843ms] [33m[rows:1][35m UPDATE `jobs` SET `customerID`=52,`description`='',`discount`=0,`discount_type`='amount',`endDate`='2025-06-07 02:00:00',`final_revenue`=260,`jobcategoryID`=NULL,`revenue`=260,`startDate`='2025-06-07 02:00:00',`statusID`=1001 WHERE jobID = 1004 AND `jobID` = 1004[0m
🔧 DEBUG JobRepo.Update: Success! Rows affected: 1

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:72
[0m[33m[36.029ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE jobID = 1004 ORDER BY `jobs`.`jobID` LIMIT 1
🔧 DEBUG JobRepo.Update: Verification - DB now has description: ''
🔧 DEBUG: Update successful!

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:359
[0m[33m[34.933ms] [34;1m[rows:1][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1

2025/07/10 11:12:07 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:378
[0m[33m[71.916ms] [34;1m[rows:0][0m UPDATE `jobs` SET `customerID`=52,`statusID`=1001,`jobcategoryID`=NULL,`description`='',`discount`=0,`discount_type`='amount',`revenue`=260,`final_revenue`=260,`startDate`='2025-06-07 00:00:00',`endDate`='2025-06-07 00:00:00',`templateID`=NULL WHERE `jobID` = 1004

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:378
[0m[33m[71.236ms] [34;1m[rows:0][0m INSERT INTO `jobs` (`customerID`,`statusID`,`jobcategoryID`,`description`,`discount`,`discount_type`,`revenue`,`final_revenue`,`startDate`,`endDate`,`templateID`,`jobID`) VALUES (52,1001,NULL,'',0,'amount',260,260,'2025-06-07 00:00:00','2025-06-07 00:00:00',NULL,1004) ON DUPLICATE KEY UPDATE `customerID`=VALUES(`customerID`),`statusID`=VALUES(`statusID`),`jobcategoryID`=VALUES(`jobcategoryID`),`description`=VALUES(`description`),`discount`=VALUES(`discount`),`discount_type`=VALUES(`discount_type`),`revenue`=VALUES(`revenue`),`final_revenue`=VALUES(`final_revenue`),`startDate`=VALUES(`startDate`),`endDate`=VALUES(`endDate`),`templateID`=VALUES(`templateID`)
🔧 DEBUG: Redirecting to job details page for ID 1004
2025/07/10 11:12:08 SLOW REQUEST: POST /jobs/1004/update took 753.837451ms (status: 302)
{"timestamp":"2025-07-10T09:12:08.036409704Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138727278047248","method":"POST","path":"/jobs/1004/update","status_code":302,"duration":"758.354292ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":145,"bytes_out":-1}}
2025/07/10 11:12:08 Route Debug: GET /jobs/1004
DEBUG: AuthMiddleware called for URL: /jobs/1004
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[37.339ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:12:08.087' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.339ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[35.486ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:12:08 [32m
[0m[33m[35.565ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[71.787ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[107.054ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.135ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[212.504ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[34.551ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[69.915ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:12:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[105.109ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE jobID = 1004
{"timestamp":"2025-07-10T09:12:08.488311155Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138728087791541","method":"GET","path":"/jobs/1004","status_code":200,"duration":"400.513502ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":8895,"errors":"Error #01: template: job_detail.html:193:37: executing \"job_detail.html\" at \u003c.job.JobCategory\u003e: can't evaluate field JobCategory in type interface {}\n"}}
2025/07/10 11:14:51 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:14:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.820ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:14:51.675' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:14:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.016ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:14:51 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.855ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000a2e490 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc00057c560 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T09:14:51.774066328Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138891675210324","method":"GET","path":"/jobs","status_code":200,"duration":"98.854124ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12748}}
2025/07/10 11:14:53 Route Debug: GET /jobs/1004/edit
DEBUG: AuthMiddleware called for URL: /jobs/1004/edit
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.913ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:14:53.986' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.990ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
🔧 DEBUG: EditJobForm called for ID 1004 by user admin

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.931ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 11:14:54 [32m
[0m[33m[35.479ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[71.683ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[106.592ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.560ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[211.801ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[18.398ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[17.302ms] [34;1m[rows:4][0m SELECT * FROM `status`

2025/07/10 11:14:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_category_repository.go:30
[0m[33m[17.439ms] [34;1m[rows:5][0m SELECT * FROM `jobCategory`
🔧 DEBUG: Rendering job_form.html template with job ID 1004, description: ''
{"timestamp":"2025-07-10T09:14:54.330343768Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138893986321951","method":"GET","path":"/jobs/1004/edit","status_code":200,"duration":"344.018569ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":24684}}
2025/07/10 11:14:59 Route Debug: GET /
{"timestamp":"2025-07-10T09:14:59.577284106Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138899577119622","method":"GET","path":"/","status_code":307,"duration":"161.815µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 11:14:59 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:14:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.700ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:14:59.631' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:14:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.985ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:14:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[17.617ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 11:14:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.020ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 11:14:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.341ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 11:14:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[18.025ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 11:14:59 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.939ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T09:14:59.79959698Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138899631551419","method":"GET","path":"/dashboard","status_code":200,"duration":"168.043432ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 11:15:01 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:15:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.345ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:15:01.799' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:15:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.941ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:15:01 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.862ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000a2e490 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000351480 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T09:15:01.916174298Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138901799675764","method":"GET","path":"/jobs","status_code":200,"duration":"116.495506ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12748}}
2025/07/10 11:15:03 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:15:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.453ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:15:03.867' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:15:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.760ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:15:03 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:15:03 ⏱️  DeviceRepository.List() started

2025/07/10 11:15:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[36.469ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:15:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[55.076ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 11:15:03 ⏱️  Device query took: 55.102064ms
2025/07/10 11:15:03 ⏱️  DeviceRepository.List() completed in 55.137903ms (found 20 devices)
2025/07/10 11:15:03 ⏱️  Database query took: 55.143391ms
2025/07/10 11:15:03 💾 Cached 20 devices
2025/07/10 11:15:04 ⏱️  Template rendering took: 15.50581ms
2025/07/10 11:15:04 🏁 DeviceHandler.ListDevices() completed in 70.695344ms
{"timestamp":"2025-07-10T09:15:04.010630629Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138903867241343","method":"GET","path":"/devices","status_code":200,"duration":"143.385919ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":44896}}
2025/07/10 11:15:06 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:15:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.761ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:15:06.001' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:15:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.298ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:15:06 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:15:06 ⚡ Using cached devices (20 items)
2025/07/10 11:15:06 ⏱️  Template rendering took: 11.999963ms
2025/07/10 11:15:06 🏁 DeviceHandler.ListDevices() completed in 12.039559ms
{"timestamp":"2025-07-10T09:15:06.085044625Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138906001561819","method":"GET","path":"/devices","status_code":200,"duration":"83.479747ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":49179}}
2025/07/10 11:15:07 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342

2025/07/10 11:15:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.477ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '81273e6f4d5d27f69fbaf27681454fd1cfff4c3b57916479657e3d45adfdb342' AND expires_at > '2025-07-10 11:15:07.959' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:15:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.824ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:15:08 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:15:08 ⚡ Using cached devices (20 items)
2025/07/10 11:15:08 ⏱️  Template rendering took: 14.212318ms
2025/07/10 11:15:08 🏁 DeviceHandler.ListDevices() completed in 14.269544ms
{"timestamp":"2025-07-10T09:15:08.04440567Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752138907959408731","method":"GET","path":"/devices","status_code":200,"duration":"84.993081ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":44896}}
