2025/07/10 11:36:44 Database connection established successfully

2025/07/10 11:36:44 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/audit_logger.go:39 [35;1mrecord not found
[0m[33m[18.531ms] [34;1m[rows:0][0m SELECT * FROM `audit_events` ORDER BY timestamp DESC,`audit_events`.`id` LIMIT 1

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.548ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.659ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.299ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND table_type = 'BASE TABLE'

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.328ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.481ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.699ms] [34;1m[rows:-][0m SELECT * FROM `gobd_records` LIMIT 1

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.671ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[25.022ms] [34;1m[rows:0][0m ALTER TABLE `gobd_records` MODIFY COLUMN `is_immutable` boolean DEFAULT true

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.450ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.961ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:44 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.872ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_type'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.448ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.959ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.378ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_id'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.725ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.640ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.894ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_data_hash'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.303ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.156ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.303ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_archive_date'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.834ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.531ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.778ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_retention_date'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.416ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.999ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.846ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_user_id'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.364ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.231ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.323ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_company_id'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.491ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.765ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.441ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND table_type = 'BASE TABLE'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.335ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.886ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.820ms] [34;1m[rows:-][0m SELECT * FROM `audit_events` LIMIT 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.598ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[23.761ms] [34;1m[rows:0][0m ALTER TABLE `audit_events` MODIFY COLUMN `is_compliant` boolean DEFAULT true

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.565ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.528ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.254ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_user_id'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.397ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.581ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.901ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_session_id'

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.335ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:45 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.956ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.321ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_previous_hash'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.467ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.981ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.294ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_retention_date'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.772ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.141ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.367ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_timestamp'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.786ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.052ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.256ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_event_type'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.389ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.044ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.890ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_type'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.508ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.459ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.402ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_id'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.320ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.104ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.913ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' AND table_type = 'BASE TABLE'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.442ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.947ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.402ms] [34;1m[rows:-][0m SELECT * FROM `retention_policies` LIMIT 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[36.657ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:46 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132 [35;1mError 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'
[0m[33m[45.627ms] [34;1m[rows:0][0m ALTER TABLE `retention_policies` ADD `document_type` varchar(191) NOT NULL UNIQUE
2025/07/10 11:36:46 Warning: Failed to create compliance middleware: failed to create GoBD compliance: failed to migrate GoBD tables: Error 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[17.363ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[34.545ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[35.831ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[17.374ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[35.993ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[17.413ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[36.008ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[38.046ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[17.224ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:46 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[36.351ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[35.841ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[17.386ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[35.498ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[17.370ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[35.972ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.703ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[36.009ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[34.902ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.889ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.475ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.744ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[36.132ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.570ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.727ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.387ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.900ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.703ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.780ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.633ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[40.660ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.944ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.964ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.820ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/10 11:36:47 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:147 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[17.768ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/10 11:36:47 Failed to auto-migrate equipment_packages table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.289ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[36.083ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[36.292ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.957ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.900ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.837ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[36.091ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.778ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.462ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.402ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:36:47 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.363ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.996ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.888ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[36.581ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[70.261ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[18.377ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.492ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[35.435ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/10 11:36:48 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:151 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[17.345ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/10 11:36:48 Failed to auto-migrate invoice_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.635ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[36.031ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[35.943ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' AND table_type = 'BASE TABLE'

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.837ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[36.038ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.793ms] [34;1m[rows:-][0m SELECT * FROM `company_settings` LIMIT 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[36.529ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.947ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.578ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.409ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.500ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.863ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.367ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.948ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.757ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.896ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[36.053ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.879ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.892ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.881ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[37.080ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[87.623ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.858ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:48 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[34.947ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[35.804ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/10 11:36:49 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:159 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[17.847ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/10 11:36:49 Failed to auto-migrate email_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[17.382ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[35.510ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[35.261ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' AND table_type = 'BASE TABLE'

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[17.844ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[36.024ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[17.834ms] [34;1m[rows:-][0m SELECT * FROM `user_preferences` LIMIT 1

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[36.603ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' ORDER BY ORDINAL_POSITION

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[22.579ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `email_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[22.941ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `system_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[22.045ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `job_status_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.925ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `device_alert_notifications` boolean NOT NULL DEFAULT true

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.869ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `show_advanced_options` boolean NOT NULL DEFAULT false

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[25.841ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `auto_save_enabled` boolean NOT NULL DEFAULT true

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:510
[0m[33m[131.080ms] [34;1m[rows:1][0m SELECT * FROM `invoice_templates` ORDER BY is_default DESC, name ASC
2025/07/10 11:36:49 Templates already exist (1), skipping default template creation
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] Loaded HTML Templates (63): 
	- login.html
	- scan_job.html
	- user_form.html
	- email_templates_list.html
	- error.html
	- invoice_preview.html
	- devices_standalone.html
	- email_template_preview.html
	- invoices-content
	- invoice_templates_list.html
	- base.html
	- equipment_package_detail.html
	- home.html
	- transaction_form.html
	- device_detail.html
	- jobs.html
	- security_roles.html
	- documents_list.html
	- financial_dashboard.html
	- invoice_detail.html
	- invoice_form.html
	- invoice_template_designer.html
	- 
	- analytics_dashboard.html
	- js
	- invoices_list.html
	- search_results.html
	- users_list.html
	- cases_list.html
	- company_settings.html
	- equipment_package_form.html
	- case_device_mapping.html
	- invoice_template_german.html
	- case_detail.html
	- transactions_list.html
	- user_detail.html
	- scan_select_job.html
	- signature_form.html
	- equipment_packages_list.html
	- financial_reports.html
	- job_detail.html
	- transaction_detail.html
	- bulk_operations.html
	- customer_detail.html
	- job_templates_list.html
	- customers.html
	- email_template_form.html
	- security_audit.html
	- invoice_settings_form.html
	- job_template_form.html
	- monitoring_dashboard.html
	- content
	- case_form.html
	- customer_form.html
	- profile_settings.html
	- job_form.html
	- job_template_detail.html
	- mobile_scanner.html
	- invoice_template_designer_basic.html
	- invoices_content.html
	- css
	- device_form.html
	- document_upload_form.html

[GIN-debug] GET    /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /sw.js                    --> main.main.func18 (7 handlers)
[GIN-debug] GET    /manifest.json            --> main.main.func19 (7 handlers)

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[35.561ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'admin' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[35.389ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'manager' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[35.598ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'employee' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/10 11:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[35.954ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'viewer' ORDER BY `roles`.`roleID` LIMIT 1
[GIN-debug] GET    /                         --> main.setupRoutes.func1 (7 handlers)
[GIN-debug] GET    /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).LoginForm-fm (7 handlers)
[GIN-debug] POST   /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).Login-fm (7 handlers)
[GIN-debug] GET    /logout                   --> go-barcode-webapp/internal/handlers.(*AuthHandler).Logout-fm (7 handlers)
[GIN-debug] GET    /debug/invoice-test       --> main.setupRoutes.func2 (7 handlers)
[GIN-debug] GET    /debug/customer-selection --> main.setupRoutes.func3 (7 handlers)
[GIN-debug] GET    /debug/routes             --> main.setupRoutes.func4 (7 handlers)
[GIN-debug] GET    /dashboard                --> go-barcode-webapp/internal/handlers.(*HomeHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobs-fm (8 handlers)
[GIN-debug] GET    /jobs/new                 --> go-barcode-webapp/internal/handlers.(*JobHandler).NewJobForm-fm (8 handlers)
[GIN-debug] POST   /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/edit            --> go-barcode-webapp/internal/handlers.(*JobHandler).EditJobForm-fm (8 handlers)
[GIN-debug] PUT    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/update          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobDevices-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDevice-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/bulk-scan       --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevices-fm (8 handlers)
[GIN-debug] GET    /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevices-fm (8 handlers)
[GIN-debug] GET    /devices/new              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).NewDeviceForm-fm (8 handlers)
[GIN-debug] POST   /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/edit         --> go-barcode-webapp/internal/handlers.(*DeviceHandler).EditDeviceForm-fm (8 handlers)
[GIN-debug] PUT    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDevice-fm (8 handlers)
[GIN-debug] DELETE /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/qr           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceQR-fm (8 handlers)
[GIN-debug] GET    /devices/:id/barcode      --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /devices/:id/stats        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /devices/available        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevices-fm (8 handlers)
[GIN-debug] GET    /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomers-fm (8 handlers)
[GIN-debug] GET    /customers/new            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).NewCustomerForm-fm (8 handlers)
[GIN-debug] POST   /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id/edit       --> go-barcode-webapp/internal/handlers.(*CustomerHandler).EditCustomerForm-fm (8 handlers)
[GIN-debug] PUT    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomer-fm (8 handlers)
[GIN-debug] DELETE /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomer-fm (8 handlers)
[GIN-debug] GET    /statuses                 --> go-barcode-webapp/internal/handlers.(*StatusHandler).ListStatuses-fm (8 handlers)
[GIN-debug] GET    /products                 --> go-barcode-webapp/internal/handlers.(*ProductHandler).ListProducts-fm (8 handlers)
[GIN-debug] GET    /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCases-fm (8 handlers)
[GIN-debug] GET    /cases/new                --> go-barcode-webapp/internal/handlers.(*CaseHandler).NewCaseForm-fm (8 handlers)
[GIN-debug] POST   /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/edit           --> go-barcode-webapp/internal/handlers.(*CaseHandler).EditCaseForm-fm (8 handlers)
[GIN-debug] PUT    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).CaseDeviceMapping-fm (8 handlers)
[GIN-debug] POST   /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).ScanDeviceToCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*CaseHandler).RemoveDeviceFromCase-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/qr --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceQR-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/barcode --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /scan/select              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJobSelection-fm (8 handlers)
[GIN-debug] GET    /scan/:jobId              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJob-fm (8 handlers)
[GIN-debug] POST   /scan/:jobId/assign       --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] DELETE /scan/:jobId/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*ScannerHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] GET    /analytics                --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /analytics/revenue        --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetRevenueAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/equipment      --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetEquipmentAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/export         --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).ExportAnalytics-fm (8 handlers)
[GIN-debug] GET    /search/global            --> go-barcode-webapp/internal/handlers.(*SearchHandler).GlobalSearch-fm (8 handlers)
[GIN-debug] POST   /search/advanced          --> go-barcode-webapp/internal/handlers.(*SearchHandler).AdvancedSearch-fm (8 handlers)
[GIN-debug] GET    /search/suggestions       --> go-barcode-webapp/internal/handlers.(*SearchHandler).SearchSuggestions-fm (8 handlers)
[GIN-debug] GET    /search/saved             --> go-barcode-webapp/internal/handlers.(*SearchHandler).SavedSearches-fm (8 handlers)
[GIN-debug] DELETE /search/saved/:id         --> go-barcode-webapp/internal/handlers.(*SearchHandler).DeleteSavedSearch-fm (8 handlers)
[GIN-debug] POST   /pwa/subscribe            --> go-barcode-webapp/internal/handlers.(*PWAHandler).SubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/unsubscribe          --> go-barcode-webapp/internal/handlers.(*PWAHandler).UnsubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/sync                 --> go-barcode-webapp/internal/handlers.(*PWAHandler).SyncOfflineData-fm (8 handlers)
[GIN-debug] GET    /pwa/manifest             --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetOfflineManifest-fm (8 handlers)
[GIN-debug] GET    /pwa/install              --> go-barcode-webapp/internal/handlers.(*PWAHandler).InstallPrompt-fm (8 handlers)
[GIN-debug] GET    /pwa/status               --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetConnectionStatus-fm (8 handlers)
[GIN-debug] GET    /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplates-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/new   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewJobTemplateForm-fm (8 handlers)
[GIN-debug] POST   /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id/edit --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).EditJobTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListEquipmentPackages-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/new    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewEquipmentPackageForm-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/debug  --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DebugPackageForm-fm (8 handlers)
[GIN-debug] POST   /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/:id    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/bulk            --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkOperationsForm-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/update-status --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkUpdateDeviceStatus-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/assign-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkAssignToJob-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/generate-qr --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkGenerateQRCodes-fm (8 handlers)
[GIN-debug] GET    /workflow/stats           --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetWorkflowStats-fm (8 handlers)
[GIN-debug] GET    /documents                --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocuments-fm (8 handlers)
[GIN-debug] GET    /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocumentForm-fm (8 handlers)
[GIN-debug] POST   /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/view       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ViewDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/download   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DownloadDocument-fm (8 handlers)
[GIN-debug] DELETE /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).SignatureForm-fm (8 handlers)
[GIN-debug] POST   /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).AddSignature-fm (8 handlers)
[GIN-debug] GET    /documents/signatures/:id/verify --> go-barcode-webapp/internal/handlers.(*DocumentHandler).VerifySignature-fm (8 handlers)
[GIN-debug] GET    /financial                --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialDashboard-fm (8 handlers)
[GIN-debug] GET    /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/new --> go-barcode-webapp/internal/handlers.(*FinancialHandler).NewTransactionForm-fm (8 handlers)
[GIN-debug] POST   /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).CreateTransaction-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/:id --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetTransaction-fm (8 handlers)
[GIN-debug] PUT    /financial/transactions/:id/status --> go-barcode-webapp/internal/handlers.(*FinancialHandler).UpdateTransactionStatus-fm (8 handlers)
[GIN-debug] POST   /financial/jobs/:jobId/invoice --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GenerateInvoice-fm (8 handlers)
[GIN-debug] GET    /financial/reports        --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialReports-fm (8 handlers)
[GIN-debug] GET    /financial/api/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/revenue --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportRevenue-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/tax-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTaxReportCSV-fm (8 handlers)
[GIN-debug] GET    /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).ListInvoices-fm (8 handlers)
[GIN-debug] GET    /invoices/new             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).NewInvoiceForm-fm (8 handlers)
[GIN-debug] POST   /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/edit        --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).EditInvoiceForm-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/preview     --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).PreviewInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id/status      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/pdf         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GenerateInvoicePDF-fm (8 handlers)
[GIN-debug] GET    /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).ListTemplates-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/new    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).NewTemplateForm-fm (8 handlers)
[GIN-debug] POST   /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).CreateTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).EditTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).UpdateTemplate-fm (8 handlers)
[GIN-debug] DELETE /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).DeleteTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).PreviewTemplate-fm (8 handlers)
[GIN-debug] POST   /invoice-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).SetDefaultTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/company         --> main.setupRoutes.func5 (8 handlers)
[GIN-debug] GET    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).ListEmailTemplates-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/new --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).NewEmailTemplateForm-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).CreateEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).GetEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).EditEmailTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).UpdateEmailTemplate-fm (8 handlers)
[GIN-debug] DELETE /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).DeleteEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).PreviewEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).SetDefaultEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/test --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).TestEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /security/roles           --> main.setupRoutes.func6 (8 handlers)
[GIN-debug] GET    /security/audit           --> main.setupRoutes.func7 (8 handlers)
[GIN-debug] GET    /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /security/api/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/definitions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissionDefinitionsAPI-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/check --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
[GIN-debug] GET    /monitoring               --> main.setupRoutes.func8 (8 handlers)
[GIN-debug] GET    /monitoring/health        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetApplicationHealth-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics       --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetSystemMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics/prometheus --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ExportMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/performance   --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetPerformanceMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/errors        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetErrorDetails-fm (8 handlers)
[GIN-debug] POST   /monitoring/errors/:fingerprint/resolve --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ResolveError-fm (8 handlers)
[GIN-debug] POST   /monitoring/test-error    --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).TriggerTestError-fm (8 handlers)
[GIN-debug] GET    /monitoring/logs          --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetLogStream-fm (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId    --> main.setupRoutes.func9 (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId/enhanced --> main.setupRoutes.func10 (8 handlers)
[GIN-debug] GET    /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).ProfileSettingsForm-fm (8 handlers)
[GIN-debug] POST   /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateProfileSettings-fm (8 handlers)
[GIN-debug] GET    /profile/preferences      --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUserPreferences-fm (8 handlers)
[GIN-debug] GET    /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsers-fm (8 handlers)
[GIN-debug] POST   /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).CreateUserWeb-fm (8 handlers)
[GIN-debug] GET    /user-management/new      --> go-barcode-webapp/internal/handlers.(*AuthHandler).NewUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/edit --> go-barcode-webapp/internal/handlers.(*AuthHandler).EditUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/view --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUser-fm (8 handlers)
[GIN-debug] PUT    /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateUser-fm (8 handlers)
[GIN-debug] DELETE /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).DeleteUser-fm (8 handlers)
[GIN-debug] GET    /users/new                --> main.setupRoutes.func11 (8 handlers)
[GIN-debug] GET    /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobsAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJobAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJobAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJobAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDeviceAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/bulk-scan --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-device --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-case --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanCase-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/available --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevicesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomersAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomerAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomerAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCasesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCaseAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id/devices --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseDevicesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplatesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/most-used --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetMostUsedTemplatesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/category/:categoryId --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetTemplatesByCategoryAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] PUT    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocumentsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/stats   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocumentStats-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] DELETE /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactionsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/stats   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetFinancialStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id/status --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/stats    --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetProductDetails-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId/devices --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetDevicesByProduct-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit    --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/:id --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/auth/users --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsersAPI-fm (8 handlers)
[GIN-debug] GET    /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id/status  --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/stats       --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /api/security/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /api/security/check-permission --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
2025/07/10 11:36:49 Server starting on 0.0.0.0:8080
2025/07/10 11:43:00 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:43:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.843ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:43:00.694' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:43:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.244ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:43:00 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:43:00 ⏱️  DeviceRepository.List() started

2025/07/10 11:43:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[36.844ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:43:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[54.949ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 11:43:00 ⏱️  Device query took: 54.974777ms
2025/07/10 11:43:00 ⏱️  DeviceRepository.List() completed in 55.019537ms (found 20 devices)
2025/07/10 11:43:00 ⏱️  Database query took: 55.029861ms
2025/07/10 11:43:00 💾 Cached 20 devices

2025/07/10 11:43:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[36.669ms] [34;1m[rows:4][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,3,16,19)

2025/07/10 11:43:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.541ms] [34;1m[rows:2][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003)

2025/07/10 11:43:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.190ms] [34;1m[rows:4][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,3,12,15)

2025/07/10 11:43:01 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.256ms] [34;1m[rows:2][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1002','STG1001')

2025/07/10 11:43:01 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[178.962ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:43:01 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[197.410ms] [34;1m[rows:20][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC LIMIT 20

2025/07/10 11:43:01 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:66
[0m[33m[17.421ms] [34;1m[rows:5][0m SELECT * FROM `categories` ORDER BY name ASC
2025/07/10 11:43:01 🔧 GetAllCategories: Found 5 categories in database
2025/07/10 11:43:01 🔧 Category from DB: Effect (ID: 1004)
2025/07/10 11:43:01 🔧 Category from DB: Light (ID: 1002)
2025/07/10 11:43:01 🔧 Category from DB: Other (ID: 1005)
2025/07/10 11:43:01 🔧 Category from DB: Sound (ID: 1001)
2025/07/10 11:43:01 🔧 Category from DB: Stage (ID: 1003)
2025/07/10 11:43:01 🔧 DEBUG: Found 5 categories
2025/07/10 11:43:01 🔧 DEBUG: Category: Effect (ID: 1004)
2025/07/10 11:43:01 🔧 DEBUG: Category: Light (ID: 1002)
2025/07/10 11:43:01 🔧 DEBUG: Category: Other (ID: 1005)
2025/07/10 11:43:01 🔧 DEBUG: Category: Sound (ID: 1001)
2025/07/10 11:43:01 🔧 DEBUG: Category: Stage (ID: 1003)
2025/07/10 11:43:01 ⏱️  Template rendering took: 225.699957ms
2025/07/10 11:43:01 🏁 DeviceHandler.ListDevices() completed in 280.851765ms
{"timestamp":"2025-07-10T09:43:01.046976343Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140580694556403","method":"GET","path":"/devices","status_code":200,"duration":"352.417317ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":50003}}
2025/07/10 11:43:01 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 11:43:04 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:43:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.158ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:43:04.798' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:43:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.394ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:43:04 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:43:04 ⚡ Using cached devices (20 items)

2025/07/10 11:43:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.755ms] [34;1m[rows:3][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3)

2025/07/10 11:43:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.773ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/10 11:43:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.269ms] [34;1m[rows:3][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3)

2025/07/10 11:43:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.715ms] [34;1m[rows:2][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002')

2025/07/10 11:43:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[175.384ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (4,2,3,1)

2025/07/10 11:43:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140 [33mSLOW SQL >= 200ms
[0m[31;1m[211.006ms] [33m[rows:20][35m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID JOIN categories ON categories.categoryID = products.categoryID WHERE categories.name = 'Sound' ORDER BY deviceID DESC LIMIT 20[0m

2025/07/10 11:43:05 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:66
[0m[33m[17.637ms] [34;1m[rows:5][0m SELECT * FROM `categories` ORDER BY name ASC
2025/07/10 11:43:05 🔧 GetAllCategories: Found 5 categories in database
2025/07/10 11:43:05 🔧 Category from DB: Effect (ID: 1004)
2025/07/10 11:43:05 🔧 Category from DB: Light (ID: 1002)
2025/07/10 11:43:05 🔧 Category from DB: Other (ID: 1005)
2025/07/10 11:43:05 🔧 Category from DB: Sound (ID: 1001)
2025/07/10 11:43:05 🔧 Category from DB: Stage (ID: 1003)
2025/07/10 11:43:05 🔧 DEBUG: Found 5 categories
2025/07/10 11:43:05 🔧 DEBUG: Category: Effect (ID: 1004)
2025/07/10 11:43:05 🔧 DEBUG: Category: Light (ID: 1002)
2025/07/10 11:43:05 🔧 DEBUG: Category: Other (ID: 1005)
2025/07/10 11:43:05 🔧 DEBUG: Category: Sound (ID: 1001)
2025/07/10 11:43:05 🔧 DEBUG: Category: Stage (ID: 1003)
2025/07/10 11:43:05 ⏱️  Template rendering took: 239.676852ms
2025/07/10 11:43:05 🏁 DeviceHandler.ListDevices() completed in 239.709632ms
{"timestamp":"2025-07-10T09:43:05.109073295Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140584798483031","method":"GET","path":"/devices","status_code":200,"duration":"310.587371ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":50219}}
2025/07/10 11:43:14 Route Debug: GET /devices/TOP2002/qr
DEBUG: AuthMiddleware called for URL: /devices/TOP2002/qr
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:43:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.020ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:43:14.294' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:43:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.289ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:43:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.919ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 4

2025/07/10 11:43:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[70.409ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TOP2002' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T09:43:14.437300669Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140594294576774","method":"GET","path":"/devices/TOP2002/qr","status_code":200,"duration":"142.719685ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":359}}
2025/07/10 11:43:59 Route Debug: GET /
{"timestamp":"2025-07-10T09:43:59.830811171Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140639830630433","method":"GET","path":"/","status_code":307,"duration":"177.061µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 11:43:59 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:43:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.371ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:43:59.853' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:43:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.060ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:43:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[17.269ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 11:43:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.383ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 11:43:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.471ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 11:43:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[18.383ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 11:44:00 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.234ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T09:44:00.02414599Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140639852998517","method":"GET","path":"/dashboard","status_code":200,"duration":"171.144998ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 11:44:00 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 11:44:00 Route Debug: GET /static/images/icon-180.png
2025/07/10 11:44:00 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 11:44:00 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 11:44:02 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:44:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.738ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:44:02.477' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:44:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.560ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:44:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.257ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000443a60 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000402120 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T09:44:02.580377334Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140642477111330","method":"GET","path":"/jobs","status_code":200,"duration":"103.261876ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12748}}
2025/07/10 11:44:06 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:44:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.334ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:44:06.49' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:44:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.503ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:44:06 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:44:06 ⏱️  DeviceRepository.List() started

2025/07/10 11:44:06 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[35.704ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:44:06 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[53.739ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 11:44:06 ⏱️  Device query took: 53.755632ms
2025/07/10 11:44:06 ⏱️  DeviceRepository.List() completed in 53.789806ms (found 20 devices)
2025/07/10 11:44:06 ⏱️  Database query took: 53.796208ms
2025/07/10 11:44:06 💾 Cached 20 devices
2025/07/10 11:44:06 ⏱️  Template rendering took: 11.128873ms
2025/07/10 11:44:06 🏁 DeviceHandler.ListDevices() completed in 64.958334ms
{"timestamp":"2025-07-10T09:44:06.626820587Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140646490557932","method":"GET","path":"/devices","status_code":200,"duration":"136.258358ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":45179}}
2025/07/10 11:44:11 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:44:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.370ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:44:11.654' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:44:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.033ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:44:11 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:44:11 ⚡ Using cached devices (20 items)
2025/07/10 11:44:11 ⏱️  Template rendering took: 10.8547ms
2025/07/10 11:44:11 🏁 DeviceHandler.ListDevices() completed in 10.888063ms
{"timestamp":"2025-07-10T09:44:11.737836475Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140651654169670","method":"GET","path":"/devices","status_code":200,"duration":"83.6639ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":45179}}
2025/07/10 11:44:13 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:44:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.198ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:44:13.589' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:44:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.001ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:44:13 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:44:13 ⚡ Using cached devices (20 items)
2025/07/10 11:44:13 ⏱️  Template rendering took: 9.175495ms
2025/07/10 11:44:13 🏁 DeviceHandler.ListDevices() completed in 9.213737ms
{"timestamp":"2025-07-10T09:44:13.669964017Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140653589143072","method":"GET","path":"/devices","status_code":200,"duration":"80.817969ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":45179}}
2025/07/10 11:44:14 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:44:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.242ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:44:14.487' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:44:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.978ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:44:14 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:44:14 ⚡ Using cached devices (20 items)
2025/07/10 11:44:14 ⏱️  Template rendering took: 11.252806ms
2025/07/10 11:44:14 🏁 DeviceHandler.ListDevices() completed in 11.289105ms
{"timestamp":"2025-07-10T09:44:14.570886912Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140654487009122","method":"GET","path":"/devices","status_code":200,"duration":"83.873912ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":45179}}
2025/07/10 11:44:15 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:44:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.110ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:44:15.283' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:44:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.583ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:44:15 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:44:15 ⚡ Using cached devices (20 items)
2025/07/10 11:44:15 ⏱️  Template rendering took: 9.736126ms
2025/07/10 11:44:15 🏁 DeviceHandler.ListDevices() completed in 9.80224ms
{"timestamp":"2025-07-10T09:44:15.364652926Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140655283721172","method":"GET","path":"/devices","status_code":200,"duration":"80.928668ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":45179}}
2025/07/10 11:44:17 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.703ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:44:17.699' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.936ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:44:17 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:44:17 ⚡ Using cached devices (20 items)

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.886ms] [34;1m[rows:4][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,3,16,19)

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.953ms] [34;1m[rows:2][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003)

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.901ms] [34;1m[rows:4][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,3,12,15)

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.523ms] [34;1m[rows:2][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1002','STG1001')

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[177.925ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[196.132ms] [34;1m[rows:20][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC LIMIT 20

2025/07/10 11:44:17 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:66
[0m[33m[17.594ms] [34;1m[rows:5][0m SELECT * FROM `categories` ORDER BY name ASC
2025/07/10 11:44:17 🔧 GetAllCategories: Found 5 categories in database
2025/07/10 11:44:17 🔧 Category from DB: Effect (ID: 1004)
2025/07/10 11:44:17 🔧 Category from DB: Light (ID: 1002)
2025/07/10 11:44:17 🔧 Category from DB: Other (ID: 1005)
2025/07/10 11:44:17 🔧 Category from DB: Sound (ID: 1001)
2025/07/10 11:44:17 🔧 Category from DB: Stage (ID: 1003)
2025/07/10 11:44:17 🔧 DEBUG: Found 5 categories
2025/07/10 11:44:17 🔧 DEBUG: Category: Effect (ID: 1004)
2025/07/10 11:44:17 🔧 DEBUG: Category: Light (ID: 1002)
2025/07/10 11:44:17 🔧 DEBUG: Category: Other (ID: 1005)
2025/07/10 11:44:17 🔧 DEBUG: Category: Sound (ID: 1001)
2025/07/10 11:44:17 🔧 DEBUG: Category: Stage (ID: 1003)
2025/07/10 11:44:17 ⏱️  Template rendering took: 226.383216ms
2025/07/10 11:44:17 🏁 DeviceHandler.ListDevices() completed in 226.430916ms
{"timestamp":"2025-07-10T09:44:17.99743931Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140657692246947","method":"GET","path":"/devices","status_code":200,"duration":"305.186431ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":50003}}
2025/07/10 11:45:19 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:45:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.896ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:45:19.68' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:45:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.999ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:45:19 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:45:19 ⏱️  DeviceRepository.List() started

2025/07/10 11:45:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[36.107ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:45:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[54.199ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 11:45:19 ⏱️  Device query took: 54.214769ms
2025/07/10 11:45:19 ⏱️  DeviceRepository.List() completed in 54.241507ms (found 20 devices)
2025/07/10 11:45:19 ⏱️  Database query took: 54.245539ms
2025/07/10 11:45:19 💾 Cached 20 devices

2025/07/10 11:45:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.761ms] [34;1m[rows:4][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,3,16,19)

2025/07/10 11:45:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.842ms] [34;1m[rows:2][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003)

2025/07/10 11:45:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.826ms] [34;1m[rows:4][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,3,12,15)

2025/07/10 11:45:20 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.179ms] [34;1m[rows:2][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1002','STG1001')

2025/07/10 11:45:20 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[177.070ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:45:20 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[195.505ms] [34;1m[rows:20][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC LIMIT 20

2025/07/10 11:45:20 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:66
[0m[33m[17.611ms] [34;1m[rows:5][0m SELECT * FROM `categories` ORDER BY name ASC
2025/07/10 11:45:20 🔧 GetAllCategories: Found 5 categories in database
2025/07/10 11:45:20 🔧 Category from DB: Effect (ID: 1004)
2025/07/10 11:45:20 🔧 Category from DB: Light (ID: 1002)
2025/07/10 11:45:20 🔧 Category from DB: Other (ID: 1005)
2025/07/10 11:45:20 🔧 Category from DB: Sound (ID: 1001)
2025/07/10 11:45:20 🔧 Category from DB: Stage (ID: 1003)
2025/07/10 11:45:20 🔧 DEBUG: Found 5 categories
2025/07/10 11:45:20 🔧 DEBUG: Category: Effect (ID: 1004)
2025/07/10 11:45:20 🔧 DEBUG: Category: Light (ID: 1002)
2025/07/10 11:45:20 🔧 DEBUG: Category: Other (ID: 1005)
2025/07/10 11:45:20 🔧 DEBUG: Category: Sound (ID: 1001)
2025/07/10 11:45:20 🔧 DEBUG: Category: Stage (ID: 1003)
2025/07/10 11:45:20 ⏱️  Template rendering took: 224.212429ms
2025/07/10 11:45:20 🏁 DeviceHandler.ListDevices() completed in 278.501337ms
{"timestamp":"2025-07-10T09:45:20.031588299Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140719680807997","method":"GET","path":"/devices","status_code":200,"duration":"350.776309ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":50003}}
2025/07/10 11:45:28 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:45:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.181ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:45:28.844' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:45:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.645ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:45:28 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:45:28 ⚡ Using cached devices (20 items)

2025/07/10 11:45:29 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.304ms] [34;1m[rows:4][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,3,16,19)

2025/07/10 11:45:29 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.372ms] [34;1m[rows:2][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003)

2025/07/10 11:45:29 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.428ms] [34;1m[rows:4][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,3,12,15)

2025/07/10 11:45:29 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.785ms] [34;1m[rows:2][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1002','STG1001')

2025/07/10 11:45:29 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[177.087ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 11:45:29 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[195.089ms] [34;1m[rows:20][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC LIMIT 20

2025/07/10 11:45:29 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:66
[0m[33m[17.745ms] [34;1m[rows:5][0m SELECT * FROM `categories` ORDER BY name ASC
2025/07/10 11:45:29 🔧 GetAllCategories: Found 5 categories in database
2025/07/10 11:45:29 🔧 Category from DB: Effect (ID: 1004)
2025/07/10 11:45:29 🔧 Category from DB: Light (ID: 1002)
2025/07/10 11:45:29 🔧 Category from DB: Other (ID: 1005)
2025/07/10 11:45:29 🔧 Category from DB: Sound (ID: 1001)
2025/07/10 11:45:29 🔧 Category from DB: Stage (ID: 1003)
2025/07/10 11:45:29 🔧 DEBUG: Found 5 categories
2025/07/10 11:45:29 🔧 DEBUG: Category: Effect (ID: 1004)
2025/07/10 11:45:29 🔧 DEBUG: Category: Light (ID: 1002)
2025/07/10 11:45:29 🔧 DEBUG: Category: Other (ID: 1005)
2025/07/10 11:45:29 🔧 DEBUG: Category: Sound (ID: 1001)
2025/07/10 11:45:29 🔧 DEBUG: Category: Stage (ID: 1003)
2025/07/10 11:45:29 ⏱️  Template rendering took: 222.360562ms
2025/07/10 11:45:29 🏁 DeviceHandler.ListDevices() completed in 222.394265ms
{"timestamp":"2025-07-10T09:45:29.137785658Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140728844231388","method":"GET","path":"/devices","status_code":200,"duration":"293.551839ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":50003}}
2025/07/10 11:45:30 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 11:45:33 Route Debug: GET /favicon.ico
2025/07/10 11:45:33 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 11:45:33 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T09:45:33.909867819Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140733898822321","method":"GET","path":"/favicon.ico","status_code":404,"duration":"11.039406ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 11:45:37 Route Debug: GET /
{"timestamp":"2025-07-10T09:45:37.231656956Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140737231503158","method":"GET","path":"/","status_code":307,"duration":"151.354µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 11:45:37 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:45:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.546ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:45:37.481' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:45:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.010ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 11:45:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[17.630ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 11:45:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.980ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 11:45:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.896ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 11:45:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.967ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 11:45:37 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.630ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T09:45:37.653947838Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140737481847191","method":"GET","path":"/dashboard","status_code":200,"duration":"172.098393ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 11:45:37 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 11:45:41 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913

2025/07/10 11:45:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.921ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8fd32f3fb836411fd42d6d9bfcba09de56f3149a161fd4d9a3891fed7418913' AND expires_at > '2025-07-10 11:45:41.915' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 11:45:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.086ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 11:45:41 🚀 DeviceHandler.ListDevices() started
2025/07/10 11:45:41 ⚡ Using cached devices (20 items)
2025/07/10 11:45:41 ⏱️  Template rendering took: 10.511769ms
2025/07/10 11:45:41 🏁 DeviceHandler.ListDevices() completed in 10.549819ms
{"timestamp":"2025-07-10T09:45:41.9988314Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752140741915893682","method":"GET","path":"/devices","status_code":200,"duration":"82.934302ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":45179}}
2025/07/10 11:45:42 Route Debug: GET /static/css/rental-core-design.css

2025/07/10 12:06:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[191.455ms] [34;1m[rows:4][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 12:06:49.387'
DEBUG: Cleaned up 4 expired sessions
2025/07/10 12:34:04 Route Debug: GET /
{"timestamp":"2025-07-10T10:34:04.820393659Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143644820204534","method":"GET","path":"/","status_code":307,"duration":"186.299µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/10 12:34:04 Route Debug: GET /login
{"timestamp":"2025-07-10T10:34:05.002412542Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143644991871749","method":"GET","path":"/login","status_code":200,"duration":"10.53898ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 12:34:05 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 12:34:05 Route Debug: GET /static/images/icon-180.png
2025/07/10 12:34:05 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 12:34:05 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 12:34:05 Route Debug: GET /favicon.ico
2025/07/10 12:34:05 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 12:34:05 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T10:34:05.460690155Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143645446475832","method":"GET","path":"/favicon.ico","status_code":404,"duration":"14.20718ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 12:34:08 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 12:34:08 Form _method parameter: ''
2025/07/10 12:34:08 Route Debug: POST /login

2025/07/10 12:34:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[148.170ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[69.755ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe',5,'2025-07-10 13:34:09.412','2025-07-10 12:34:09.412')

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[70.493ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-10 12:34:09.499',`last_login`='2025-07-10 12:34:09.482' WHERE `userID` = 5
DEBUG: Login successful, session created: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe
2025/07/10 12:34:09 SLOW REQUEST: POST /login took 1.318213875s (status: 303)
{"timestamp":"2025-07-10T10:34:09.552990091Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143648234699702","method":"POST","path":"/login","status_code":303,"duration":"1.318287754s","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/10 12:34:09 Route Debug: GET /
{"timestamp":"2025-07-10T10:34:09.603372045Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143649603236891","method":"GET","path":"/","status_code":307,"duration":"132.198µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 12:34:09 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.238ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:09.651' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.051ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.822ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.909ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.360ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.571ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 12:34:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.123ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T10:34:09.820706793Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143649651342832","method":"GET","path":"/dashboard","status_code":200,"duration":"169.361016ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 12:34:09 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 12:34:11 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.649ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:11.255' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.187ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 12:34:11 🚀 DeviceHandler.ListDevices() started
2025/07/10 12:34:11 ⏱️  DeviceRepository.List() started

2025/07/10 12:34:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.027ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 12:34:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.529ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 12:34:11 ⏱️  Device query took: 51.553219ms
2025/07/10 12:34:11 ⏱️  DeviceRepository.List() completed in 51.599875ms (found 20 devices)
2025/07/10 12:34:11 ⏱️  Database query took: 51.607551ms
2025/07/10 12:34:11 💾 Cached 20 devices
2025/07/10 12:34:11 ⏱️  Template rendering took: 11.295166ms
2025/07/10 12:34:11 🏁 DeviceHandler.ListDevices() completed in 62.961124ms
{"timestamp":"2025-07-10T10:34:11.386418964Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143651255171011","method":"GET","path":"/devices","status_code":200,"duration":"131.245398ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":49758}}
2025/07/10 12:34:13 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.126ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:13.277' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.169ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:34:13 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.596ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc0001bcc80 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000403950 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T10:34:13.37308978Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143653277737591","method":"GET","path":"/jobs","status_code":200,"duration":"95.348272ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12748}}
2025/07/10 12:34:14 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.854ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:14.407' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.607ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 12:34:14 🚀 DeviceHandler.ListDevices() started
2025/07/10 12:34:14 ⚡ Using cached devices (20 items)
2025/07/10 12:34:14 ⏱️  Template rendering took: 9.259083ms
2025/07/10 12:34:14 🏁 DeviceHandler.ListDevices() completed in 9.291983ms
{"timestamp":"2025-07-10T10:34:14.48471793Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143654407666867","method":"GET","path":"/devices","status_code":200,"duration":"77.04921ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":49758}}
2025/07/10 12:34:15 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.739ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:15.981' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.639ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:34:16 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[19.326ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T10:34:16.08343717Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143655981351529","method":"GET","path":"/customers","status_code":200,"duration":"102.081212ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":150602}}
2025/07/10 12:34:17 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.241ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:17.607' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.143ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:34:17 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.404ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 12:34:17 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.870ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T10:34:17.739048896Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143657607116181","method":"GET","path":"/cases","status_code":200,"duration":"131.930611ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 12:34:22 Route Debug: GET /workflow/templates
DEBUG: AuthMiddleware called for URL: /workflow/templates
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.031ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:22.894' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.191ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:34:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:53
[0m[33m[34.004ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`userID` = 5

2025/07/10 12:34:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:53
[0m[33m[51.917ms] [34;1m[rows:1][0m SELECT * FROM `job_templates` ORDER BY created_at DESC

2025/07/10 12:34:23 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:185
[0m[33m[16.773ms] [34;1m[rows:1][0m SELECT count(*) FROM `job_templates`
{"timestamp":"2025-07-10T10:34:23.041406943Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143662894384747","method":"GET","path":"/workflow/templates","status_code":200,"duration":"147.016195ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6053,"errors":"Error #01: template: job_templates_list.html:138:71: executing \"job_templates_list.html\" at \u003c.ID\u003e: can't evaluate field ID in type models.JobTemplate\n"}}
2025/07/10 12:34:25 Route Debug: GET /
{"timestamp":"2025-07-10T10:34:25.924656584Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143665924420169","method":"GET","path":"/","status_code":307,"duration":"232.919µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 12:34:25 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.075ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:25.979' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.774ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:34:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.998ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 12:34:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.997ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 12:34:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.015ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 12:34:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.819ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 12:34:26 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.522ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T10:34:26.14563752Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143665979308854","method":"GET","path":"/dashboard","status_code":200,"duration":"166.325751ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 12:34:29 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.973ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:29.405' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.100ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:34:29 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.240ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000836db0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000c907b0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T10:34:29.498088643Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143669405207615","method":"GET","path":"/jobs","status_code":200,"duration":"92.878734ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12748}}
2025/07/10 12:34:34 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:34:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.068ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:34:34.755' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:34:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.624ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 12:34:34 🚀 DeviceHandler.ListDevices() started
2025/07/10 12:34:34 ⚡ Using cached devices (20 items)
2025/07/10 12:34:34 ⏱️  Template rendering took: 10.038731ms
2025/07/10 12:34:34 🏁 DeviceHandler.ListDevices() completed in 10.078786ms
{"timestamp":"2025-07-10T10:34:34.83340691Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143674755259031","method":"GET","path":"/devices","status_code":200,"duration":"78.144352ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":49758}}
2025/07/10 12:35:45 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:35:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.257ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:35:45.19' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:35:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.041ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:35:45 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[18.026ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T10:35:45.293147433Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143745190044490","method":"GET","path":"/customers","status_code":200,"duration":"103.097934ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":150602}}
2025/07/10 12:35:59 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:35:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.989ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:35:59.575' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:35:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.125ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 12:35:59 🚀 DeviceHandler.ListDevices() started
2025/07/10 12:35:59 ⏱️  DeviceRepository.List() started

2025/07/10 12:35:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.545ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 12:35:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.037ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 12:35:59 ⏱️  Device query took: 51.057001ms
2025/07/10 12:35:59 ⏱️  DeviceRepository.List() completed in 51.089618ms (found 20 devices)
2025/07/10 12:35:59 ⏱️  Database query took: 51.09628ms
2025/07/10 12:35:59 💾 Cached 20 devices
2025/07/10 12:35:59 ⏱️  Template rendering took: 8.839503ms
2025/07/10 12:35:59 🏁 DeviceHandler.ListDevices() completed in 59.971616ms
{"timestamp":"2025-07-10T10:35:59.703627832Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143759575202006","method":"GET","path":"/devices","status_code":200,"duration":"128.422741ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":49758}}
2025/07/10 12:36:01 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:36:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.608ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:36:01.423' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:36:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.018ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:36:01 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.362ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc0001bc5f0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000491b00 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T10:36:01.517555745Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143761423628718","method":"GET","path":"/jobs","status_code":200,"duration":"93.924654ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12748}}
2025/07/10 12:36:02 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:36:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.421ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:36:02.668' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:36:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.880ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:36:02 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.797ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T10:36:02.764715155Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143762668009235","method":"GET","path":"/customers","status_code":200,"duration":"96.703156ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":150602}}
2025/07/10 12:36:07 Route Debug: GET /customers/31
DEBUG: AuthMiddleware called for URL: /customers/31
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:36:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.771ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:36:07.65' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:36:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.959ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:36:07 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.988ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 12:36:07 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.197ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T10:36:07.796500994Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143767650505835","method":"GET","path":"/customers/31","status_code":200,"duration":"145.992865ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":5078}}

2025/07/10 12:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[69.460ms] [34;1m[rows:1][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 12:36:49.384'
DEBUG: Cleaned up 1 expired sessions
2025/07/10 12:38:22 Route Debug: GET /customers/31/edit
DEBUG: AuthMiddleware called for URL: /customers/31/edit
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:38:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.715ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:38:22.039' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:38:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.037ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:38:22 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.446ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 12:38:22 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.102ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T10:38:22.184577347Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143902039541291","method":"GET","path":"/customers/31/edit","status_code":200,"duration":"145.033552ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9523}}
2025/07/10 12:38:52 Route Debug: GET /
{"timestamp":"2025-07-10T10:38:52.804208794Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143932804033351","method":"GET","path":"/","status_code":307,"duration":"172.246µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 12:38:52 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:38:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.761ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:38:52.833' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:38:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.104ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:38:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.254ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 12:38:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.261ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 12:38:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.305ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 12:38:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.372ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 12:38:52 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[16.898ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T10:38:52.995746878Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143932833578071","method":"GET","path":"/dashboard","status_code":200,"duration":"162.166275ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 12:38:54 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:38:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.472ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:38:54.582' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:38:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.765ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 12:38:54 🚀 DeviceHandler.ListDevices() started
2025/07/10 12:38:54 ⏱️  DeviceRepository.List() started

2025/07/10 12:38:54 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.840ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 12:38:54 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[50.841ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 12:38:54 ⏱️  Device query took: 50.855287ms
2025/07/10 12:38:54 ⏱️  DeviceRepository.List() completed in 50.889616ms (found 20 devices)
2025/07/10 12:38:54 ⏱️  Database query took: 50.894492ms
2025/07/10 12:38:54 💾 Cached 20 devices
2025/07/10 12:38:54 ⏱️  Template rendering took: 9.634042ms
2025/07/10 12:38:54 🏁 DeviceHandler.ListDevices() completed in 60.560837ms
{"timestamp":"2025-07-10T10:38:54.710148239Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143934581985906","method":"GET","path":"/devices","status_code":200,"duration":"128.158986ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":49758}}
2025/07/10 12:38:55 Route Debug: GET /devices/TRS5001/edit
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/edit
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:38:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.239ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:38:55.987' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:38:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.246ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:38:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.742ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 12:38:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.473ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 12:38:56 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:60
[0m[33m[17.396ms] [34;1m[rows:43][0m SELECT * FROM `products` ORDER BY name ASC
{"timestamp":"2025-07-10T10:38:56.151273183Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143935986957670","method":"GET","path":"/devices/TRS5001/edit","status_code":200,"duration":"164.309177ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":20458}}
2025/07/10 12:39:54 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:39:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.341ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:39:54.902' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:39:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.018ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:39:54 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.292ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc00088efc0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc00020b840 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T10:39:54.998728588Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143994902832030","method":"GET","path":"/jobs","status_code":200,"duration":"95.893664ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12748}}
2025/07/10 12:39:55 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 12:39:56 Route Debug: GET /
{"timestamp":"2025-07-10T10:39:56.772292819Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143996772125770","method":"GET","path":"/","status_code":307,"duration":"164.324µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 12:39:56 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe

2025/07/10 12:39:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.160ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b19511354b4bb84a03f4c0c1cffbcd0b286bae43e9abe9f917032b0ea642e4fe' AND expires_at > '2025-07-10 12:39:56.808' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 12:39:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.275ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 12:39:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.743ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 12:39:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.879ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 12:39:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[15.968ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 12:39:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[16.906ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 12:39:56 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.069ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T10:39:56.968674302Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752143996808556019","method":"GET","path":"/dashboard","status_code":200,"duration":"160.115789ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}

2025/07/10 13:06:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[189.066ms] [34;1m[rows:0][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 13:06:49.387'

2025/07/10 13:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[190.518ms] [34;1m[rows:1][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 13:36:49.383'
DEBUG: Cleaned up 1 expired sessions
2025/07/10 13:46:56 Route Debug: GET /
{"timestamp":"2025-07-10T11:46:56.97602779Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148016975868919","method":"GET","path":"/","status_code":307,"duration":"156.459µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/10 13:46:57 Route Debug: GET /login
{"timestamp":"2025-07-10T11:46:57.305937174Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148017298124607","method":"GET","path":"/login","status_code":200,"duration":"7.811066ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 13:46:57 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 13:46:58 Route Debug: GET /static/images/icon-180.png
2025/07/10 13:46:58 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 13:46:58 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 13:46:58 Route Debug: GET /favicon.ico
2025/07/10 13:46:58 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 13:46:58 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T11:46:58.124606239Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148018115517168","method":"GET","path":"/favicon.ico","status_code":404,"duration":"9.084385ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 13:47:08 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 13:47:08 Form _method parameter: ''
2025/07/10 13:47:08 Route Debug: POST /login

2025/07/10 13:47:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[150.517ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/10 13:47:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[69.124ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252',5,'2025-07-10 14:47:09.699','2025-07-10 13:47:09.699')

2025/07/10 13:47:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[68.921ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-10 13:47:09.786',`last_login`='2025-07-10 13:47:09.768' WHERE `userID` = 5
DEBUG: Login successful, session created: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252
2025/07/10 13:47:09 SLOW REQUEST: POST /login took 1.298557531s (status: 303)
{"timestamp":"2025-07-10T11:47:09.837706911Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148028539064218","method":"POST","path":"/login","status_code":303,"duration":"1.298639119s","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/10 13:47:09 Route Debug: GET /
{"timestamp":"2025-07-10T11:47:09.894057052Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148029893903397","method":"GET","path":"/","status_code":307,"duration":"150.242µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 13:47:09 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:47:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.099ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:47:09.946' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:47:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.985ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:47:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.675ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 13:47:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.001ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 13:47:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.508ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 13:47:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.408ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 13:47:10 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.036ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T11:47:10.10986074Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148029946642723","method":"GET","path":"/dashboard","status_code":200,"duration":"163.215825ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 13:47:10 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 13:47:11 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:47:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.306ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:47:11.948' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:47:12 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.475ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:47:12 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.669ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T11:47:12.044563162Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148031948357180","method":"GET","path":"/customers","status_code":200,"duration":"96.20401ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":166447}}
2025/07/10 13:47:17 Route Debug: GET /api/customers/31
2025/07/10 13:47:17 NotFoundHandler: 404 for path: /api/customers/31
2025/07/10 13:47:17 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T11:47:17.469597188Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148037453653990","method":"GET","path":"/api/customers/31","status_code":404,"duration":"15.938643ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 13:47:20 Route Debug: GET /api/customers/31
2025/07/10 13:47:20 NotFoundHandler: 404 for path: /api/customers/31
2025/07/10 13:47:20 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T11:47:20.578339218Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148040563271333","method":"GET","path":"/api/customers/31","status_code":404,"duration":"15.06298ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 13:47:26 Route Debug: GET /api/customers/31
2025/07/10 13:47:26 NotFoundHandler: 404 for path: /api/customers/31
2025/07/10 13:47:26 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T11:47:26.490610094Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148046478234544","method":"GET","path":"/api/customers/31","status_code":404,"duration":"12.369218ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 13:47:29 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:47:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.245ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:47:29.968' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:47:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.087ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 13:47:30 🚀 DeviceHandler.ListDevices() started
2025/07/10 13:47:30 ⏱️  DeviceRepository.List() started

2025/07/10 13:47:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.767ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 13:47:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.050ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 13:47:30 ⏱️  Device query took: 51.063813ms
2025/07/10 13:47:30 ⏱️  DeviceRepository.List() completed in 51.096905ms (found 20 devices)
2025/07/10 13:47:30 ⏱️  Database query took: 51.101774ms
2025/07/10 13:47:30 💾 Cached 20 devices
2025/07/10 13:47:30 ⏱️  Template rendering took: 9.028791ms
2025/07/10 13:47:30 🏁 DeviceHandler.ListDevices() completed in 60.168677ms
{"timestamp":"2025-07-10T11:47:30.097338509Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148049968451310","method":"GET","path":"/devices","status_code":200,"duration":"128.883852ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":49758}}
2025/07/10 13:47:32 Route Debug: GET /devices/TRS5001/stats
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/stats
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.023ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:47:32.087' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.042ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.135ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.163ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:374
[0m[33m[33.833ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobdevices` WHERE deviceID = 'TRS5001'

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:389
[0m[33m[33.439ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate) * COALESCE(p.itemcostperday, 0)), 0) as total_earnings
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		JOIN devices d ON jd.deviceID = d.deviceID
		LEFT JOIN products p ON d.productID = p.productID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:402
[0m[33m[33.937ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate)), 0) as total_days
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[34.024ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 13:47:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[68.345ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T11:47:32.393967227Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148052087028315","method":"GET","path":"/devices/TRS5001/stats","status_code":200,"duration":"306.934913ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":830}}
2025/07/10 13:47:36 Route Debug: GET /devices/TRS5001/edit
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/edit
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:47:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.226ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:47:36.997' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:47:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.108ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:47:37 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.985ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 13:47:37 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.991ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 13:47:37 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:60
[0m[33m[17.432ms] [34;1m[rows:43][0m SELECT * FROM `products` ORDER BY name ASC
{"timestamp":"2025-07-10T11:47:37.161659383Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148056997817520","method":"GET","path":"/devices/TRS5001/edit","status_code":200,"duration":"163.839239ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":20458}}
2025/07/10 13:47:46 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:47:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.223ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:47:46.633' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:47:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.687ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:47:46 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.716ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T11:47:46.732033167Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148066633760264","method":"GET","path":"/customers","status_code":200,"duration":"98.270129ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":166447}}
2025/07/10 13:47:48 Route Debug: GET /api/customers/31
2025/07/10 13:47:48 NotFoundHandler: 404 for path: /api/customers/31
2025/07/10 13:47:48 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T11:47:48.630129137Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148068617436068","method":"GET","path":"/api/customers/31","status_code":404,"duration":"12.685359ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 13:54:10 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:54:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[162.513ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:54:10.6' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:54:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.679ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:54:10 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.727ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T11:54:10.828507954Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148450600209261","method":"GET","path":"/customers","status_code":200,"duration":"228.295137ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":166913}}
2025/07/10 13:54:10 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 13:54:13 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:54:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.733ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:54:13.066' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:54:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.612ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:54:13 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.467ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 13:54:13 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.162ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T11:54:13.202006642Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148453066112355","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"135.890211ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 13:54:19 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:54:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.670ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:54:19.624' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:54:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.231ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:54:19 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.405ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 13:54:19 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[67.511ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T11:54:19.761451659Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148459624640335","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"136.807156ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 13:54:25 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:54:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.392ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:54:25.823' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:54:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.176ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:54:25 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.989ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 13:54:25 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.013ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T11:54:25.960323167Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148465823331199","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"136.98783ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 13:54:30 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:54:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.921ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:54:30.852' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:54:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.212ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 13:54:30 🚀 DeviceHandler.ListDevices() started
2025/07/10 13:54:30 ⏱️  DeviceRepository.List() started

2025/07/10 13:54:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.283ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 13:54:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.704ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 13:54:30 ⏱️  Device query took: 51.730176ms
2025/07/10 13:54:30 ⏱️  DeviceRepository.List() completed in 51.77737ms (found 20 devices)
2025/07/10 13:54:30 ⏱️  Database query took: 51.789631ms
2025/07/10 13:54:30 💾 Cached 20 devices
2025/07/10 13:54:30 ⏱️  Template rendering took: 10.69139ms
2025/07/10 13:54:30 🏁 DeviceHandler.ListDevices() completed in 62.537524ms
{"timestamp":"2025-07-10T11:54:30.98397406Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148470852906081","method":"GET","path":"/devices","status_code":200,"duration":"131.064663ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51089}}
2025/07/10 13:54:35 Route Debug: GET /devices/TRS5001/edit
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/edit
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:54:35 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.190ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:54:35.477' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:54:35 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.560ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:54:35 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.987ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 13:54:35 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.605ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 13:54:35 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:60
[0m[33m[17.785ms] [34;1m[rows:43][0m SELECT * FROM `products` ORDER BY name ASC
{"timestamp":"2025-07-10T11:54:35.639199299Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148475477145781","method":"GET","path":"/devices/TRS5001/edit","status_code":200,"duration":"162.051123ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":20458}}
2025/07/10 13:54:37 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:54:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.879ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:54:37.796' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:54:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.627ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 13:54:37 🚀 DeviceHandler.ListDevices() started
2025/07/10 13:54:37 ⚡ Using cached devices (20 items)
2025/07/10 13:54:37 ⏱️  Template rendering took: 12.613709ms
2025/07/10 13:54:37 🏁 DeviceHandler.ListDevices() completed in 12.646097ms
{"timestamp":"2025-07-10T11:54:37.876932831Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148477796391077","method":"GET","path":"/devices","status_code":200,"duration":"80.538327ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51089}}
2025/07/10 13:58:26 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:58:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.814ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:58:26.219' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:58:26 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.183ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 13:58:26 🚀 DeviceHandler.ListDevices() started
2025/07/10 13:58:26 ⏱️  DeviceRepository.List() started

2025/07/10 13:58:26 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.449ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 13:58:26 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[52.338ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 13:58:26 ⏱️  Device query took: 52.35721ms
2025/07/10 13:58:26 ⏱️  DeviceRepository.List() completed in 52.389776ms (found 20 devices)
2025/07/10 13:58:26 ⏱️  Database query took: 52.395046ms
2025/07/10 13:58:26 💾 Cached 20 devices
2025/07/10 13:58:26 ⏱️  Template rendering took: 10.75065ms
2025/07/10 13:58:26 🏁 DeviceHandler.ListDevices() completed in 63.185485ms
{"timestamp":"2025-07-10T11:58:26.351125423Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148706219338866","method":"GET","path":"/devices","status_code":200,"duration":"131.784141ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51089}}
2025/07/10 13:58:30 Route Debug: GET /devices/TRS5001/stats
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/stats
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.624ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:58:30.114' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.070ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.808ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.972ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:374
[0m[33m[33.860ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobdevices` WHERE deviceID = 'TRS5001'

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:389
[0m[33m[34.488ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate) * COALESCE(p.itemcostperday, 0)), 0) as total_earnings
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		JOIN devices d ON jd.deviceID = d.deviceID
		LEFT JOIN products p ON d.productID = p.productID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:402
[0m[33m[34.198ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate)), 0) as total_days
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[34.429ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 13:58:30 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[68.998ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T11:58:30.424394137Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148710114327650","method":"GET","path":"/devices/TRS5001/stats","status_code":200,"duration":"310.053942ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":830}}
2025/07/10 13:58:33 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:58:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.211ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:58:33.014' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:58:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.968ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:58:33 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.580ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T11:58:33.111648444Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148713014222278","method":"GET","path":"/customers","status_code":200,"duration":"97.42337ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 13:58:34 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:58:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.452ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:58:34.727' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:58:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.076ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:58:34 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.340ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 13:58:34 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[67.127ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T11:58:34.861337568Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148714727292863","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"134.040757ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 13:58:38 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:58:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.450ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:58:38.821' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:58:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[32.978ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:58:38 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.993ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 13:58:38 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.161ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T11:58:38.95613118Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148718821178186","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"134.949958ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 13:58:47 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:58:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.831ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:58:47.427' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:58:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.252ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 13:58:47 🚀 DeviceHandler.ListDevices() started
2025/07/10 13:58:47 ⚡ Using cached devices (20 items)
2025/07/10 13:58:47 ⏱️  Template rendering took: 12.555863ms
2025/07/10 13:58:47 🏁 DeviceHandler.ListDevices() completed in 12.606162ms
{"timestamp":"2025-07-10T11:58:47.508953125Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148727427757213","method":"GET","path":"/devices","status_code":200,"duration":"81.192515ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51089}}
2025/07/10 13:58:51 Route Debug: GET /devices/TRS5001/edit
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/edit
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 13:58:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.285ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 13:58:51.429' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 13:58:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.592ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 13:58:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.208ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 13:58:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.251ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 13:58:51 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:60
[0m[33m[17.660ms] [34;1m[rows:43][0m SELECT * FROM `products` ORDER BY name ASC
{"timestamp":"2025-07-10T11:58:51.594543408Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752148731428991249","method":"GET","path":"/devices/TRS5001/edit","status_code":200,"duration":"165.550475ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":20458}}
2025/07/10 14:05:11 Route Debug: GET /api/v1/devices/DEV001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/DEV001
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T12:05:11.343316433Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149111343128348","method":"GET","path":"/api/v1/devices/DEV001","status_code":303,"duration":"186.07µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 14:06:39 Route Debug: GET /devices/TRS5001/edit
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/edit
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:06:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[135.250ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:06:39.643' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:06:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.277ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:06:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.308ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 14:06:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.259ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 14:06:39 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:60
[0m[33m[17.674ms] [34;1m[rows:43][0m SELECT * FROM `products` ORDER BY name ASC
{"timestamp":"2025-07-10T12:06:39.913403203Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149199643378288","method":"GET","path":"/devices/TRS5001/edit","status_code":200,"duration":"270.021807ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":20458}}
2025/07/10 14:06:40 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 14:06:40 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 14:06:40 Route Debug: GET /favicon.ico
2025/07/10 14:06:40 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 14:06:40 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T12:06:40.515169349Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149200499479923","method":"GET","path":"/favicon.ico","status_code":404,"duration":"15.680653ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 14:06:41 Route Debug: GET /
{"timestamp":"2025-07-10T12:06:41.895679621Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149201895363088","method":"GET","path":"/","status_code":307,"duration":"311.223µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 14:06:42 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:06:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.799ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:06:42.316' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:06:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.599ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:06:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.674ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 14:06:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.394ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 14:06:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.043ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 14:06:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[16.954ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 14:06:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.543ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T12:06:42.483303639Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149202316722320","method":"GET","path":"/dashboard","status_code":200,"duration":"166.578374ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 14:06:42 Route Debug: GET /static/images/icon-180.png
2025/07/10 14:06:42 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 14:06:42 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 14:06:43 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:06:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.985ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:06:43.849' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:06:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.066ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:06:43 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:06:43 ⏱️  DeviceRepository.List() started

2025/07/10 14:06:43 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[35.208ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 14:06:43 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[53.340ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 14:06:43 ⏱️  Device query took: 53.355235ms
2025/07/10 14:06:43 ⏱️  DeviceRepository.List() completed in 53.405199ms (found 20 devices)
2025/07/10 14:06:43 ⏱️  Database query took: 53.410619ms
2025/07/10 14:06:43 💾 Cached 20 devices
2025/07/10 14:06:43 ⏱️  Template rendering took: 10.840674ms
2025/07/10 14:06:43 🏁 DeviceHandler.ListDevices() completed in 64.30287ms
{"timestamp":"2025-07-10T12:06:43.983077451Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149203849270349","method":"GET","path":"/devices","status_code":200,"duration":"133.803685ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 14:06:45 Route Debug: GET /api/v1/devices/TRS5001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/TRS5001
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:06:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.527ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:06:45.74' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:06:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.580ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:06:45 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.464ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 14:06:45 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[69.020ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T12:06:45.877854367Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149205740043925","method":"GET","path":"/api/v1/devices/TRS5001","status_code":200,"duration":"137.805573ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":713}}

2025/07/10 14:06:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[67.506ms] [34;1m[rows:0][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 14:06:49.384'
2025/07/10 14:07:03 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:07:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.091ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:07:03.305' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:07:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.674ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:07:03 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.640ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T12:07:03.406263944Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149223305837245","method":"GET","path":"/customers","status_code":200,"duration":"100.423761ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 14:07:06 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:07:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.733ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:07:06.247' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:07:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.766ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:07:06 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.574ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 14:07:06 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[67.368ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T12:07:06.38271381Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149226247422064","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"135.288311ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 14:07:10 Route Debug: GET /api/v1/customers/24
DEBUG: AuthMiddleware called for URL: /api/v1/customers/24
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:07:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.134ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:07:10.104' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:07:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.817ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:07:10 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[32.771ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 24

2025/07/10 14:07:10 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[66.699ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 24 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T12:07:10.238940856Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149230104887058","method":"GET","path":"/api/v1/customers/24","status_code":200,"duration":"134.050919ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":286}}
2025/07/10 14:07:13 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:07:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.936ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:07:13.811' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:07:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.820ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:07:13 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.567ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 14:07:13 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[67.413ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T12:07:13.947489688Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149233811862751","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"135.623751ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 14:07:16 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:07:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.467ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:07:16.257' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:07:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.749ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:07:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[35.060ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:07:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[52.158ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:07:16.391413697Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149236257577560","method":"GET","path":"/cases","status_code":200,"duration":"133.83308ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:07:18 Route Debug: GET /cases/1001
DEBUG: AuthMiddleware called for URL: /cases/1001
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:07:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.186ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:07:18.253' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:07:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.501ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:07:18 [32m
[0m[33m[34.650ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:07:18 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[71.101ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:07:18 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[106.742ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:07:18 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[142.626ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T12:07:18.48333645Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149238253524509","method":"GET","path":"/cases/1001","status_code":200,"duration":"229.800697ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":10184}}
2025/07/10 14:08:29 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:08:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.294ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:08:29.712' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:08:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.037ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:08:29 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.246ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000c86a50 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000616ec0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T12:08:29.808094902Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149309712873921","method":"GET","path":"/jobs","status_code":200,"duration":"95.218126ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Mobile/15E148 Safari/604.1","fields":{"bytes_in":0,"bytes_out":13906}}
2025/07/10 14:08:43 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:08:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.790ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:08:43.606' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:08:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.590ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:08:43 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:08:43 ⏱️  DeviceRepository.List() started

2025/07/10 14:08:43 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.010ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 14:08:43 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.170ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 14:08:43 ⏱️  Device query took: 51.197448ms
2025/07/10 14:08:43 ⏱️  DeviceRepository.List() completed in 51.224619ms (found 20 devices)
2025/07/10 14:08:43 ⏱️  Database query took: 51.228427ms
2025/07/10 14:08:43 💾 Cached 20 devices
2025/07/10 14:08:43 ⏱️  Template rendering took: 9.446484ms
2025/07/10 14:08:43 🏁 DeviceHandler.ListDevices() completed in 60.706851ms
{"timestamp":"2025-07-10T12:08:43.734381012Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149323605905821","method":"GET","path":"/devices","status_code":200,"duration":"128.472196ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Mobile/15E148 Safari/604.1","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 14:09:05 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:09:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.426ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:09:05.93' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:09:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.134ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:09:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.481ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:09:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.413ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:09:06.064271729Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149345930895799","method":"GET","path":"/cases","status_code":200,"duration":"133.373295ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Mobile/15E148 Safari/604.1","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:09:06 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:09:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.187ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:09:06.472' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:09:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.479ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:09:06 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.947ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T12:09:06.572916599Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149346472888022","method":"GET","path":"/customers","status_code":200,"duration":"100.025361ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Mobile/15E148 Safari/604.1","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 14:09:07 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:09:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.200ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:09:07.563' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:09:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.661ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:09:07 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:09:07 ⚡ Using cached devices (20 items)
2025/07/10 14:09:07 ⏱️  Template rendering took: 13.972282ms
2025/07/10 14:09:07 🏁 DeviceHandler.ListDevices() completed in 14.046319ms
{"timestamp":"2025-07-10T12:09:07.64667429Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149347563306551","method":"GET","path":"/devices","status_code":200,"duration":"83.364223ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Mobile/15E148 Safari/604.1","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 14:09:08 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.679ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:09:08.477' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.813ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.128ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:09:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.495ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:09:08.607241319Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149348477132458","method":"GET","path":"/cases","status_code":200,"duration":"130.104192ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.0.3 Mobile/15E148 Safari/604.1","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:09:13 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:09:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.251ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:09:13.456' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:09:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.725ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:09:13 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[35.248ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:09:13 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[53.745ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:09:13.588952394Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149353456467295","method":"GET","path":"/cases","status_code":200,"duration":"132.483184ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:14:03 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.881ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:03.045' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.946ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.048ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:14:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.960ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:14:03.18136581Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149643045348042","method":"GET","path":"/cases","status_code":200,"duration":"136.014333ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:14:03 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 14:14:05 Route Debug: GET /cases/1001
DEBUG: AuthMiddleware called for URL: /cases/1001
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.202ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:05.376' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.006ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:05 [32m
[0m[33m[36.620ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:14:05 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[72.119ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:14:05 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[105.701ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:14:05 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[140.087ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T12:14:05.605545433Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149645376503206","method":"GET","path":"/cases/1001","status_code":200,"duration":"229.0327ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":10184}}
2025/07/10 14:14:13 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.223ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:13.714' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.579ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:13 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.596ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:14:13 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.454ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:14:13.841617233Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149653714146861","method":"GET","path":"/cases","status_code":200,"duration":"127.468224ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:14:14 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 14:14:15 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 14:14:18 Route Debug: GET /static/images/icon-180.png
2025/07/10 14:14:18 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 14:14:18 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 14:14:19 Route Debug: GET /favicon.ico
2025/07/10 14:14:19 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 14:14:19 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T12:14:19.206052781Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149659196543881","method":"GET","path":"/favicon.ico","status_code":404,"duration":"9.502039ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 14:14:23 Route Debug: GET /cases/1001
DEBUG: AuthMiddleware called for URL: /cases/1001
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.815ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:23.396' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.938ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:23 [32m
[0m[33m[34.089ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:14:23 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[68.386ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:14:23 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[102.196ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:14:23 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[137.146ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T12:14:23.613071892Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149663396591520","method":"GET","path":"/cases/1001","status_code":200,"duration":"216.477547ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":10184}}
2025/07/10 14:14:27 Route Debug: GET /cases/1001/devices
DEBUG: AuthMiddleware called for URL: /cases/1001/devices
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.882ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:27.473' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.621ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:27 [32m
[0m[33m[34.015ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[68.372ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[102.936ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[137.286ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1

2025/07/10 14:14:27 [32m
[0m[33m[33.764ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 14:14:27 [32m
[0m[33m[33.893ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[102.687ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[137.517ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:14:27 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[171.297ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
{"timestamp":"2025-07-10T12:14:27.85850389Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149667472969408","method":"GET","path":"/cases/1001/devices","status_code":200,"duration":"385.532378ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":37462}}
2025/07/10 14:14:30 Route Debug: GET /cases/1001/edit
DEBUG: AuthMiddleware called for URL: /cases/1001/edit
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.828ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:30.274' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.705ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:30 [32m
[0m[33m[35.004ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:14:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[71.057ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:14:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[107.270ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:14:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[143.276ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1

2025/07/10 14:14:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:110
[0m[33m[36.426ms] [34;1m[rows:37][0m SELECT * FROM `products` WHERE `products`.`productID` IN (43,46,7,8,44,15,6,12,21,22,28,30,10,17,18,19,20,26,37,5,11,14,40,35,45,13,16,33,1,3,2,4,23,24,25,29,32)

2025/07/10 14:14:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:110
[0m[33m[73.503ms] [34;1m[rows:101][0m SELECT * FROM `devices` WHERE deviceID NOT IN (SELECT deviceID FROM devicescases WHERE caseID != 1001)
2025/07/10 14:14:30 EditCaseForm: Found 101 available devices for case 1001
2025/07/10 14:14:30   Device 1: ID='ACC3001', Status='free', Product='Botex 321 PSA'
2025/07/10 14:14:30   Device 2: ID='ACC4001', Status='free', Product='Cleaning'
2025/07/10 14:14:30   Device 3: ID='CO21001', Status='free', Product='CO2 Bottle to Hose Connector'
{"timestamp":"2025-07-10T12:14:30.572815923Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149670274055209","method":"GET","path":"/cases/1001/edit","status_code":200,"duration":"298.755344ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46599}}
2025/07/10 14:14:33 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.204ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:33.228' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.153ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:33 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.185ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000778c90 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000350720 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T12:14:33.324837113Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149673228858092","method":"GET","path":"/jobs","status_code":200,"duration":"95.97315ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:jobs.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:14:36 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252

2025/07/10 14:14:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.570ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'b8081e3f518804224dfe500ee3fdb1f1bf5d19ea4add550e18ac5e07b65f1252' AND expires_at > '2025-07-10 14:14:36.538' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.623ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.117ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000621820 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000c80c20 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T12:14:36.639094743Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149676538740837","method":"GET","path":"/jobs","status_code":200,"duration":"100.348864ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:jobs.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:14:42 Route Debug: GET /
{"timestamp":"2025-07-10T12:14:42.033944123Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149682033739759","method":"GET","path":"/","status_code":307,"duration":"200.561µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/10 14:14:42 Route Debug: GET /login
{"timestamp":"2025-07-10T12:14:42.279139039Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149682269952927","method":"GET","path":"/login","status_code":200,"duration":"9.18154ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 14:14:42 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 14:14:43 Route Debug: GET /static/images/icon-180.png
2025/07/10 14:14:43 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 14:14:43 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 14:14:43 Route Debug: GET /favicon.ico
2025/07/10 14:14:43 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 14:14:43 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T12:14:43.887900525Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149683876917708","method":"GET","path":"/favicon.ico","status_code":404,"duration":"10.976238ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 14:14:47 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 14:14:47 Form _method parameter: ''
2025/07/10 14:14:47 Route Debug: POST /login

2025/07/10 14:14:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[35.563ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[69.576ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c',5,'2025-07-10 15:14:48.393','2025-07-10 14:14:48.393')

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[70.405ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-10 14:14:48.48',`last_login`='2025-07-10 14:14:48.463' WHERE `userID` = 5
DEBUG: Login successful, session created: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c
2025/07/10 14:14:48 SLOW REQUEST: POST /login took 1.219327805s (status: 303)
{"timestamp":"2025-07-10T12:14:48.533803118Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149687314393642","method":"POST","path":"/login","status_code":303,"duration":"1.219405233s","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/10 14:14:48 Route Debug: GET /
{"timestamp":"2025-07-10T12:14:48.668345362Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149688668190030","method":"GET","path":"/","status_code":307,"duration":"150.909µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 14:14:48 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.735ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:14:48.858' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.449ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.678ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.966ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.916ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 14:14:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[16.933ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 14:14:49 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.557ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T12:14:49.020484227Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149688858478715","method":"GET","path":"/dashboard","status_code":200,"duration":"162.002687ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 14:14:49 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 14:14:50 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:14:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.170ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:14:50.741' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.854ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:50 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.177ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000813990 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000c800f0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T12:14:50.835409616Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149690740974451","method":"GET","path":"/jobs","status_code":200,"duration":"94.430023ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:jobs.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:14:53 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:14:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.331ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:14:53.174' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.846ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:14:53 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:14:53 ⏱️  DeviceRepository.List() started

2025/07/10 14:14:53 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[35.756ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 14:14:53 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[53.890ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 14:14:53 ⏱️  Device query took: 53.921114ms
2025/07/10 14:14:53 ⏱️  DeviceRepository.List() completed in 53.962966ms (found 20 devices)
2025/07/10 14:14:53 ⏱️  Database query took: 53.969365ms
2025/07/10 14:14:53 💾 Cached 20 devices
2025/07/10 14:14:53 ⏱️  Template rendering took: 15.443955ms
2025/07/10 14:14:53 🏁 DeviceHandler.ListDevices() completed in 69.459448ms
{"timestamp":"2025-07-10T12:14:53.312672187Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149693174511653","method":"GET","path":"/devices","status_code":200,"duration":"138.156221ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 14:14:55 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:14:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.623ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:14:55.507' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.906ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:55 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.607ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T12:14:55.606212494Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149695507702158","method":"GET","path":"/customers","status_code":200,"duration":"98.506892ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 14:14:56 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:14:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.908ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:14:56.876' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.705ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.167ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:14:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.671ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:14:57.007017824Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149696876323936","method":"GET","path":"/cases","status_code":200,"duration":"130.690784ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:14:58 Route Debug: GET /workflow/templates
DEBUG: AuthMiddleware called for URL: /workflow/templates
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:14:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.692ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:14:58.691' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:14:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.030ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:14:58 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:53
[0m[33m[33.539ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`userID` = 5

2025/07/10 14:14:58 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:53
[0m[33m[51.386ms] [34;1m[rows:1][0m SELECT * FROM `job_templates` ORDER BY created_at DESC

2025/07/10 14:14:58 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:185
[0m[33m[16.654ms] [34;1m[rows:1][0m SELECT count(*) FROM `job_templates`
{"timestamp":"2025-07-10T12:14:58.835892871Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149698691047886","method":"GET","path":"/workflow/templates","status_code":200,"duration":"144.841512ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6053,"errors":"Error #01: template: job_templates_list.html:138:71: executing \"job_templates_list.html\" at \u003c.ID\u003e: can't evaluate field ID in type models.JobTemplate\n"}}
2025/07/10 14:15:00 Route Debug: GET /workflow/templates
DEBUG: AuthMiddleware called for URL: /workflow/templates
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:15:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.080ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:15:00.763' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:15:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.010ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:15:00 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:53
[0m[33m[34.692ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE `users`.`userID` = 5

2025/07/10 14:15:00 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:53
[0m[33m[51.725ms] [34;1m[rows:1][0m SELECT * FROM `job_templates` ORDER BY created_at DESC

2025/07/10 14:15:00 [32m/opt/dev/go-barcode-webapp/internal/repository/job_template_repository.go:185
[0m[33m[17.006ms] [34;1m[rows:1][0m SELECT count(*) FROM `job_templates`
{"timestamp":"2025-07-10T12:15:00.909206239Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149700763509072","method":"GET","path":"/workflow/templates","status_code":200,"duration":"145.692474ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6053,"errors":"Error #01: template: job_templates_list.html:138:71: executing \"job_templates_list.html\" at \u003c.ID\u003e: can't evaluate field ID in type models.JobTemplate\n"}}
2025/07/10 14:15:01 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:15:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.213ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:15:01.634' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:15:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.529ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:15:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.649ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:15:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[52.427ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:15:01.773996226Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149701634775163","method":"GET","path":"/cases","status_code":200,"duration":"139.215442ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:15:04 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:15:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.912ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:15:04.022' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:15:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.600ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:15:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.825ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000894dd0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000a5c700 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T12:15:04.123414514Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149704022355791","method":"GET","path":"/jobs","status_code":200,"duration":"101.051374ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:jobs.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:15:20 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T12:15:20.330072763Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149720329921610","method":"GET","path":"/jobs","status_code":303,"duration":"147.906µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 14:16:44 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T12:16:44.391330435Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752149804391182423","method":"GET","path":"/jobs","status_code":303,"duration":"145.349µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 14:29:38 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[161.232ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:38.536' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.647ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:38 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.307ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000778de0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000a5c620 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T12:29:38.762129659Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150578536279322","method":"GET","path":"/jobs","status_code":200,"duration":"225.84698ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":28483}}
2025/07/10 14:29:38 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 14:29:39 Route Debug: GET /static/images/icon-180.png
2025/07/10 14:29:39 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 14:29:39 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 14:29:39 Route Debug: GET /favicon.ico
2025/07/10 14:29:39 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 14:29:39 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T12:29:39.180862263Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150579171458600","method":"GET","path":"/favicon.ico","status_code":404,"duration":"9.398303ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 14:29:41 Route Debug: GET /api/v1/jobs/1004
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.622ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:41.341' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.618ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.041ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 14:29:41 [32m
[0m[33m[33.939ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 14:29:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[68.797ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 14:29:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[103.948ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 14:29:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.517ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 14:29:41 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[207.487ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''
{"timestamp":"2025-07-10T12:29:41.618479831Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150581340963286","method":"GET","path":"/api/v1/jobs/1004","status_code":200,"duration":"277.511766ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":10638}}
2025/07/10 14:29:44 Route Debug: GET /api/v1/jobs/1004
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.153ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:44.267' ORDER BY `sessions`.`session_id` LIMIT 1
2025/07/10 14:29:44 Route Debug: GET /api/v1/customers
DEBUG: AuthMiddleware called for URL: /api/v1/customers
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c
2025/07/10 14:29:44 Route Debug: GET /statuses
DEBUG: AuthMiddleware called for URL: /statuses
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.599ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.085ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[136.098ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:44.302' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[137.465ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:44.334' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[32.900ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.954ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T12:29:44.490340311Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150584302824730","method":"GET","path":"/api/v1/customers","status_code":200,"duration":"187.511695ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":13957}}

2025/07/10 14:29:44 [32m
[0m[33m[33.314ms] [34;1m[rows:3][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,2)

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[66.993ms] [34;1m[rows:8][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','TOP1001','TOP1002')

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[101.088ms] [34;1m[rows:8][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.793ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/repository/status_repository.go:15
[0m[33m[16.383ms] [34;1m[rows:4][0m SELECT * FROM `status`
{"timestamp":"2025-07-10T12:29:44.522080791Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150584334005637","method":"GET","path":"/statuses","status_code":200,"duration":"188.072141ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":161}}

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[33.299ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/10 14:29:44 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[203.368ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: ''
{"timestamp":"2025-07-10T12:29:44.539013085Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150584267321438","method":"GET","path":"/api/v1/jobs/1004","status_code":200,"duration":"271.688554ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":10638}}
2025/07/10 14:29:46 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.860ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:46.624' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.874ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:29:46 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:29:46 ⏱️  DeviceRepository.List() started

2025/07/10 14:29:46 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[35.265ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 14:29:46 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[52.911ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 14:29:46 ⏱️  Device query took: 52.929356ms
2025/07/10 14:29:46 ⏱️  DeviceRepository.List() completed in 52.962176ms (found 20 devices)
2025/07/10 14:29:46 ⏱️  Database query took: 52.967629ms
2025/07/10 14:29:46 💾 Cached 20 devices
2025/07/10 14:29:46 ⏱️  Template rendering took: 10.810475ms
2025/07/10 14:29:46 🏁 DeviceHandler.ListDevices() completed in 63.835873ms
{"timestamp":"2025-07-10T12:29:46.758284401Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150586624279611","method":"GET","path":"/devices","status_code":200,"duration":"134.000903ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 14:29:48 Route Debug: GET /devices/TRS5001/stats
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/stats
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.350ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:48.556' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.696ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.614ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.164ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:374
[0m[33m[33.932ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobdevices` WHERE deviceID = 'TRS5001'

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:389
[0m[33m[33.506ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate) * COALESCE(p.itemcostperday, 0)), 0) as total_earnings
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		JOIN devices d ON jd.deviceID = d.deviceID
		LEFT JOIN products p ON d.productID = p.productID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:402
[0m[33m[34.170ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate)), 0) as total_days
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[34.093ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 14:29:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[68.744ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T12:29:48.861712832Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150588556417569","method":"GET","path":"/devices/TRS5001/stats","status_code":200,"duration":"305.292572ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":830}}
2025/07/10 14:29:51 Route Debug: GET /api/v1/devices/TRS5001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/TRS5001
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.659ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:51.156' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.611ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.081ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 14:29:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.263ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T12:29:51.29280833Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150591156870301","method":"GET","path":"/api/v1/devices/TRS5001","status_code":200,"duration":"135.935679ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":713}}
2025/07/10 14:29:54 Route Debug: GET /devices/TRS5001/qr
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/qr
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.711ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:54.087' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.097ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:54 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.040ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 14:29:54 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[69.252ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T12:29:54.226482129Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150594087306954","method":"GET","path":"/devices/TRS5001/qr","status_code":200,"duration":"139.173066ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":350}}
2025/07/10 14:29:56 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.330ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:56.688' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.626ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:56 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[18.358ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T12:29:56.795306574Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150596687971155","method":"GET","path":"/customers","status_code":200,"duration":"107.330738ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 14:29:58 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:29:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.179ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:29:58.444' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:29:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.103ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:29:58 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[34.058ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 14:29:58 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.304ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T12:29:58.581795485Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150598444755736","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"137.036134ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 14:30:05 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:30:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.317ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:30:05.391' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:30:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.082ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:30:05 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[34.041ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 14:30:05 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.420ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T12:30:05.528987778Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150605391681094","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"137.302445ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 14:30:07 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:30:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.965ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:30:07.458' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:30:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.581ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:30:07 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[36.398ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:30:07 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[54.128ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:30:07.593954236Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150607458249067","method":"GET","path":"/cases","status_code":200,"duration":"135.70284ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":19654}}
2025/07/10 14:30:09 Route Debug: GET /cases/1001
DEBUG: AuthMiddleware called for URL: /cases/1001
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:30:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.159ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:30:09.562' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:30:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.834ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:30:09 [32m
[0m[33m[35.256ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:30:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[69.790ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:30:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[104.579ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:30:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[138.782ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T12:30:09.780579629Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752150609562706496","method":"GET","path":"/cases/1001","status_code":200,"duration":"217.86994ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":10184}}

2025/07/10 14:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[190.487ms] [34;1m[rows:0][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 14:36:49.383'
2025/07/10 14:37:59 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:37:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.996ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:37:59.038' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:37:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.654ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:37:59 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.084ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:37:59 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[49.495ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:37:59.166121203Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151079038517610","method":"GET","path":"/cases","status_code":200,"duration":"127.595819ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:cases_list.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:38:00 Route Debug: GET /favicon.ico
2025/07/10 14:38:00 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 14:38:00 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T12:38:00.52117708Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151080505885859","method":"GET","path":"/favicon.ico","status_code":404,"duration":"15.284659ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 14:38:04 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:38:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.026ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:38:04.985' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:38:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.021ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:38:05 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.045ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:38:05 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.021ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:38:05.113816102Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151084985372104","method":"GET","path":"/cases","status_code":200,"duration":"128.439008ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:cases_list.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:38:05 Route Debug: GET /favicon.ico
2025/07/10 14:38:05 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 14:38:05 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T12:38:05.343492088Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151085332192483","method":"GET","path":"/favicon.ico","status_code":404,"duration":"11.294255ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 14:38:11 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:38:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.521ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:38:11.468' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:38:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.557ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:38:11 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.096ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:38:11 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.019ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:38:11.598569922Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151091468264578","method":"GET","path":"/cases","status_code":200,"duration":"130.299743ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:cases_list.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:38:11 Route Debug: GET /favicon.ico
2025/07/10 14:38:11 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 14:38:11 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T12:38:11.841698765Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151091832911967","method":"GET","path":"/favicon.ico","status_code":404,"duration":"8.782941ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 14:38:14 Route Debug: GET /
{"timestamp":"2025-07-10T12:38:14.447538026Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151094447359382","method":"GET","path":"/","status_code":307,"duration":"175.127µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 14:38:14 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:38:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.582ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:38:14.747' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:38:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.012ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:38:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.839ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 14:38:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.185ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 14:38:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.742ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 14:38:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[18.094ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 14:38:14 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.004ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T12:38:14.915489946Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151094747180891","method":"GET","path":"/dashboard","status_code":200,"duration":"168.30637ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 14:38:15 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 14:38:15 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 14:38:16 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:38:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.550ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:38:16.734' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:38:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.909ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:38:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.944ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:38:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.738ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:38:16.86709336Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151096734313652","method":"GET","path":"/cases","status_code":200,"duration":"132.773817ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template:cases_list.html: ends in a non-text context: {stateJSBqStr delimNone urlPartNone jsCtxRegexp attrNone elementScript \u003cnil\u003e}\n"}}
2025/07/10 14:40:30 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:40:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.955ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:40:30.114' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:40:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.157ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:40:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.586ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:40:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.939ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:40:30.248433651Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151230114147051","method":"GET","path":"/cases","status_code":200,"duration":"134.283395ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":40439}}
2025/07/10 14:40:32 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:40:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.718ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:40:32.484' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:40:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.212ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:40:32 [32m
[0m[33m[34.507ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:40:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[68.303ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:40:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[102.540ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:40:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[136.381ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T12:40:32.689259316Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151232484417497","method":"GET","path":"/api/v1/cases/1001","status_code":200,"duration":"204.839526ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3714}}
2025/07/10 14:40:35 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:40:35 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.565ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:40:35.001' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:40:35 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.048ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:40:35 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 14:40:35 [32m
[0m[33m[33.454ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 14:40:35 [32m
[0m[33m[35.040ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 14:40:35 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[102.914ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:40:35 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[137.379ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:40:35 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[171.014ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 14:40:35 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T12:40:35.240823224Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151235001512809","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"239.304294ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 14:40:41 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:40:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.497ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:40:41.546' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:40:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.665ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:40:41 [32m
[0m[33m[33.891ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:40:41 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[68.320ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:40:41 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[103.564ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 14:40:41 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[137.406ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T12:40:41.753570377Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151241546510916","method":"GET","path":"/api/v1/cases/1001","status_code":200,"duration":"207.056556ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3714}}
2025/07/10 14:40:45 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:40:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.259ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:40:45.268' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:40:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.810ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:40:45 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 14:40:45 [32m
[0m[33m[33.934ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 14:40:45 [32m
[0m[33m[33.405ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 14:40:45 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[102.091ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:40:45 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[136.439ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:40:45 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[171.184ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 14:40:45 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T12:40:45.510091709Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151245268208161","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"241.879059ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 14:40:48 Route Debug: GET /cases/new
DEBUG: AuthMiddleware called for URL: /cases/new
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:40:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.768ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:40:48.909' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:40:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.078ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:40:49 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:100
[0m[33m[34.511ms] [34;1m[rows:37][0m SELECT * FROM `products` WHERE `products`.`productID` IN (43,46,7,8,44,15,6,12,21,22,28,30,10,17,18,19,20,26,37,5,11,14,40,35,45,13,16,33,1,3,2,4,23,24,25,29,32)

2025/07/10 14:40:49 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:100
[0m[33m[53.245ms] [34;1m[rows:97][0m SELECT * FROM `devices` WHERE deviceID NOT IN (SELECT deviceID FROM devicescases)
{"timestamp":"2025-07-10T12:40:49.03946802Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151248909044750","method":"GET","path":"/cases/new","status_code":200,"duration":"130.421387ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12156}}
2025/07/10 14:40:55 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:40:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.743ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:40:55.396' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:40:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.837ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:40:55 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.678ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:40:55 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[52.075ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:40:55.528973417Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151255396369877","method":"GET","path":"/cases","status_code":200,"duration":"132.599363ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":40439}}
2025/07/10 14:41:10 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:41:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.236ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:41:10.436' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:41:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.045ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:41:10 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.597ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T12:41:10.535485581Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151270436768096","method":"GET","path":"/customers","status_code":200,"duration":"98.71454ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 14:41:24 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:41:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.712ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:41:24.848' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:41:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.199ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:41:24 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:41:24 ⏱️  DeviceRepository.List() started

2025/07/10 14:41:24 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.845ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 14:41:24 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.236ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 14:41:24 ⏱️  Device query took: 51.261194ms
2025/07/10 14:41:24 ⏱️  DeviceRepository.List() completed in 51.29494ms (found 20 devices)
2025/07/10 14:41:24 ⏱️  Database query took: 51.3014ms
2025/07/10 14:41:24 💾 Cached 20 devices
2025/07/10 14:41:24 ⏱️  Template rendering took: 9.641869ms
2025/07/10 14:41:24 🏁 DeviceHandler.ListDevices() completed in 60.983865ms
{"timestamp":"2025-07-10T12:41:24.978448786Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151284848127544","method":"GET","path":"/devices","status_code":200,"duration":"130.318077ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 14:41:28 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:41:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.337ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:41:28.315' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:41:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.759ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:41:28 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:41:28 ⏱️  DeviceRepository.List() started

2025/07/10 14:41:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[35.602ms] [34;1m[rows:0][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` LEFT JOIN products ON products.productID = devices.productID WHERE devices.deviceID LIKE '%Truss%' OR devices.serialnumber LIKE '%Truss%' OR products.name LIKE '%Truss%' ORDER BY deviceID DESC LIMIT 20
2025/07/10 14:41:28 ⏱️  Device query took: 35.716808ms
2025/07/10 14:41:28 ⏱️  DeviceRepository.List() completed in 35.764858ms (found 0 devices)
2025/07/10 14:41:28 ⏱️  Database query took: 35.786784ms
2025/07/10 14:41:28 ⏱️  Template rendering took: 13.30507ms
2025/07/10 14:41:28 🏁 DeviceHandler.ListDevices() completed in 49.162029ms
{"timestamp":"2025-07-10T12:41:28.43379082Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151288315084956","method":"GET","path":"/devices","status_code":200,"duration":"118.701426ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":26118}}
2025/07/10 14:41:31 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:41:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.706ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:41:31.009' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:41:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.583ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:41:31 🚀 DeviceHandler.ListDevices() started
2025/07/10 14:41:31 ⏱️  DeviceRepository.List() started

2025/07/10 14:41:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.532ms] [34;1m[rows:2][0m SELECT * FROM `products` WHERE `products`.`productID` IN (3,1)

2025/07/10 14:41:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[69.023ms] [34;1m[rows:13][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` LEFT JOIN products ON products.productID = devices.productID WHERE devices.deviceID LIKE '%Sub%' OR devices.serialnumber LIKE '%Sub%' OR products.name LIKE '%Sub%' ORDER BY deviceID DESC LIMIT 20
2025/07/10 14:41:31 ⏱️  Device query took: 69.06017ms
2025/07/10 14:41:31 ⏱️  DeviceRepository.List() completed in 69.09689ms (found 13 devices)
2025/07/10 14:41:31 ⏱️  Database query took: 69.10901ms
2025/07/10 14:41:31 ⏱️  Template rendering took: 9.073736ms
2025/07/10 14:41:31 🏁 DeviceHandler.ListDevices() completed in 78.221189ms
{"timestamp":"2025-07-10T12:41:31.155300361Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151291009354070","method":"GET","path":"/devices","status_code":200,"duration":"145.943275ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":48922}}
2025/07/10 14:41:32 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:41:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.480ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:41:32.706' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:41:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.158ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:41:32 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.155ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc00080fe50 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc00020bb40 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T12:41:32.802736808Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151292706431836","method":"GET","path":"/jobs","status_code":200,"duration":"96.302456ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":28483}}
2025/07/10 14:41:34 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:41:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.285ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:41:34.556' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:41:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.208ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 14:41:34 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.699ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 14:41:34 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.447ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T12:41:34.684493353Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151294556773150","method":"GET","path":"/cases","status_code":200,"duration":"127.717084ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":40439}}
2025/07/10 14:41:36 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 14:41:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.205ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 14:41:36.61' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 14:41:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.715ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 14:41:36 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 14:41:36 [32m
[0m[33m[33.373ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 14:41:36 [32m
[0m[33m[32.987ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 14:41:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[100.322ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 14:41:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[133.746ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 14:41:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[166.796ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 14:41:36 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T12:41:36.844921013Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752151296610730068","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"234.186586ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 15:05:09 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:05:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[160.770ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:05:09.735' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:05:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.075ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:05:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.931ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:05:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.939ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:05:09.995782404Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152709735566859","method":"GET","path":"/cases","status_code":200,"duration":"260.211808ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":50537}}
2025/07/10 15:05:10 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 15:05:12 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 15:05:15 Route Debug: GET /static/images/icon-180.png
2025/07/10 15:05:15 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 15:05:15 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 15:05:16 Route Debug: GET /favicon.ico
2025/07/10 15:05:16 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 15:05:16 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T13:05:16.037204353Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152716026180171","method":"GET","path":"/favicon.ico","status_code":404,"duration":"11.01796ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}

2025/07/10 15:06:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[69.777ms] [34;1m[rows:1][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 15:06:49.387'
DEBUG: Cleaned up 1 expired sessions
2025/07/10 15:07:50 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:07:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.242ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:07:50.692' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:07:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.056ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:07:50 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 15:07:50 [32m
[0m[33m[33.688ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 15:07:50 [32m
[0m[33m[33.288ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 15:07:50 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[101.841ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:07:50 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[135.771ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:07:50 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[169.633ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 15:07:50 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T13:07:50.930766479Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152870692169190","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"238.593425ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 15:07:59 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.228ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:07:59.51' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.968ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.587ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.165ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.370ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.908ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[171.060ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/10 15:07:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[189.525ms] [34;1m[rows:113][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-10T13:07:59.769979734Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152879510744022","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"259.231118ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":122417}}
2025/07/10 15:08:51 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:08:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.122ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:08:51.714' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:08:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.571ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:08:51 [32m
[0m[33m[33.739ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:08:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[67.453ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:08:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[101.350ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 15:08:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[135.166ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T13:08:51.917423244Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152931714011297","method":"GET","path":"/api/v1/cases/1001","status_code":200,"duration":"203.408793ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3714}}
2025/07/10 15:08:54 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:08:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.879ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:08:54.518' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:08:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.214ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:08:54 [32m
[0m[33m[34.259ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:08:54 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[68.712ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:08:54 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[102.665ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 15:08:54 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[136.049ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T13:08:54.721800475Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152934518138577","method":"GET","path":"/api/v1/cases/1001","status_code":200,"duration":"203.653778ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3714}}
2025/07/10 15:08:57 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:08:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.936ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:08:57.292' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:08:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.893ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:08:57 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 15:08:57 [32m
[0m[33m[36.248ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 15:08:57 [32m
[0m[33m[34.081ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 15:08:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[105.085ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:08:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[139.126ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:08:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[172.366ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 15:08:57 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T13:08:57.53429066Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152937292549296","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"241.738388ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 15:09:00 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.844ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:00.683' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.369ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.295ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.869ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.236ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.272ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[174.390ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/10 15:09:00 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[193.948ms] [34;1m[rows:113][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-10T13:09:00.950007501Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152940683510494","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"266.490338ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":122417}}
2025/07/10 15:09:19 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.015ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:19.132' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.099ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:09:19 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.693ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:09:19.237570081Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152959132566256","method":"GET","path":"/customers","status_code":200,"duration":"104.998928ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 15:09:28 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.829ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:28.908' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.332ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:09:28 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.992ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000442100 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc00020b290 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T13:09:29.003958539Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152968908035517","method":"GET","path":"/jobs","status_code":200,"duration":"95.919399ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29577}}
2025/07/10 15:09:29 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.140ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:29.881' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.172ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:09:29 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.478ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000742d20 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000c80760 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T13:09:29.978904591Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152969881489552","method":"GET","path":"/jobs","status_code":200,"duration":"97.411984ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29577}}
2025/07/10 15:09:34 Route Debug: GET /
{"timestamp":"2025-07-10T13:09:34.551832215Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152974551583082","method":"GET","path":"/","status_code":307,"duration":"245.486µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 15:09:34 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[32.853ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:34.62' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.092ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:09:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.415ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 15:09:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.995ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 15:09:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.539ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 15:09:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[18.943ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 15:09:34 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.021ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T13:09:34.784760664Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152974620473658","method":"GET","path":"/dashboard","status_code":200,"duration":"164.28377ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 15:09:38 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.127ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:38.192' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.502ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:09:38 🚀 DeviceHandler.ListDevices() started
2025/07/10 15:09:38 ⏱️  DeviceRepository.List() started

2025/07/10 15:09:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.461ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 15:09:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[50.955ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 15:09:38 ⏱️  Device query took: 50.969907ms
2025/07/10 15:09:38 ⏱️  DeviceRepository.List() completed in 51.005179ms (found 20 devices)
2025/07/10 15:09:38 ⏱️  Database query took: 51.010001ms
2025/07/10 15:09:38 💾 Cached 20 devices
2025/07/10 15:09:38 ⏱️  Template rendering took: 11.246981ms
2025/07/10 15:09:38 🏁 DeviceHandler.ListDevices() completed in 62.312731ms
{"timestamp":"2025-07-10T13:09:38.321471512Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152978192075128","method":"GET","path":"/devices","status_code":200,"duration":"129.373647ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 15:09:40 Route Debug: GET /
{"timestamp":"2025-07-10T13:09:40.053359159Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152980053089108","method":"GET","path":"/","status_code":307,"duration":"266.042µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 15:09:40 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.407ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:40.085' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[32.614ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:09:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.365ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 15:09:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.623ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 15:09:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.035ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 15:09:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[16.626ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 15:09:40 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.535ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T13:09:40.247695098Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152980084971035","method":"GET","path":"/dashboard","status_code":200,"duration":"162.720661ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 15:09:41 Route Debug: GET /scan
2025/07/10 15:09:41 NotFoundHandler: 404 for path: /scan
2025/07/10 15:09:41 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T13:09:41.455452968Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152981444841236","method":"GET","path":"/scan","status_code":404,"duration":"10.604984ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 15:09:42 Route Debug: GET /
{"timestamp":"2025-07-10T13:09:42.576210658Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152982576058833","method":"GET","path":"/","status_code":307,"duration":"149.342µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 15:09:42 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[32.866ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:09:42.606' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[32.884ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.330ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 15:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.113ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 15:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.505ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 15:09:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.138ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 15:09:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[16.985ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T13:09:42.766357219Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752152982606538520","method":"GET","path":"/dashboard","status_code":200,"duration":"159.816411ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 15:10:14 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:10:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.896ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:10:14.775' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:10:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.543ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:10:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.116ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:10:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.507ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:10:14.903493994Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153014775098708","method":"GET","path":"/cases","status_code":200,"duration":"128.391829ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51560}}
2025/07/10 15:10:16 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:10:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.108ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:10:16.413' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:10:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.900ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:10:16 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 15:10:16 [32m
[0m[33m[33.859ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 15:10:16 [32m
[0m[33m[34.035ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 15:10:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[101.915ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:10:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[135.563ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:10:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[169.187ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 15:10:16 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T13:10:16.651089061Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153016413286564","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"237.797157ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 15:10:18 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.261ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:10:18.07' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.571ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.093ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.805ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.848ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.750ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[171.573ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/10 15:10:18 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.450ms] [34;1m[rows:113][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-10T13:10:18.330046463Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153018070380625","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"259.662311ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":122417}}
2025/07/10 15:11:10 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:11:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.757ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:11:10.502' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:11:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.061ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:11:10 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 15:11:10 [32m
[0m[33m[33.502ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 15:11:10 [32m
[0m[33m[34.278ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 15:11:10 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[102.253ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:11:10 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[136.094ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:11:10 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[170.103ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 15:11:10 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T13:11:10.741242941Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153070502842140","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"238.398276ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 15:13:01 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:13:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.513ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:13:01.191' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:13:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.420ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:13:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.833ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:13:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[52.184ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:13:01.325222256Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153181191340540","method":"GET","path":"/cases","status_code":200,"duration":"133.876522ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53558}}
2025/07/10 15:13:04 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:13:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.013ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:13:04.732' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:13:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.745ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:13:04 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 15:13:04 [32m
[0m[33m[37.050ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 15:13:04 [32m
[0m[33m[34.257ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 15:13:04 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[105.971ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:13:04 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[141.050ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:13:04 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[175.662ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 15:13:04 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T13:13:04.978092433Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153184732065664","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"246.022836ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 15:13:05 Route Debug: GET /api/v1/devices/MHD1001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1001
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c
2025/07/10 15:13:05 Route Debug: GET /api/v1/devices/MHD1002
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1002
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.433ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:13:05.05' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.407ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:13:05 Route Debug: GET /api/v1/devices/MHD1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1003
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c
2025/07/10 15:13:05 Route Debug: GET /api/v1/devices/MHD1004
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1004
DEBUG: Found session cookie: fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.325ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.609ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:13:05.18835283Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153185050469954","method":"GET","path":"/api/v1/devices/MHD1001","status_code":200,"duration":"137.880163ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[160.555ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:13:05.084' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[136.659ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:13:05.132' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.383ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.698ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[137.165ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'fdbc58a96c3ab9812e95ce39e78d272f6f39d48e61bcc8c00cbd269e9ec40b3c' AND expires_at > '2025-07-10 15:13:05.166' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.167ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.690ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.687ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1002' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:13:05.347539946Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153185084462760","method":"GET","path":"/api/v1/devices/MHD1002","status_code":200,"duration":"263.074422ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.381ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[66.879ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:13:05.37042483Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153185132733756","method":"GET","path":"/api/v1/devices/MHD1003","status_code":200,"duration":"237.687494ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.492ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:13:05 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.884ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1004' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:13:05.405711889Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153185166051826","method":"GET","path":"/api/v1/devices/MHD1004","status_code":200,"duration":"239.656766ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}
2025/07/10 15:17:05 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T13:17:05.030984128Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153425030789437","method":"GET","path":"/api/v1/cases/1001","status_code":303,"duration":"192.606µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 15:17:05 Route Debug: GET /login
{"timestamp":"2025-07-10T13:17:05.363223959Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153425351379197","method":"GET","path":"/login","status_code":200,"duration":"11.840226ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 15:17:09 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T13:17:09.416090271Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153429415928701","method":"GET","path":"/api/v1/cases/1001/devices","status_code":303,"duration":"158.613µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 15:17:09 Route Debug: GET /login
{"timestamp":"2025-07-10T13:17:09.477988151Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153429468408423","method":"GET","path":"/login","status_code":200,"duration":"9.577862ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 15:17:11 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T13:17:11.972904751Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153431972750802","method":"GET","path":"/cases","status_code":303,"duration":"150.673µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 15:17:12 Route Debug: GET /login
{"timestamp":"2025-07-10T13:17:12.034538693Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153432025896450","method":"GET","path":"/login","status_code":200,"duration":"8.636398ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 15:17:12 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 15:17:14 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 15:17:14 Form _method parameter: ''
2025/07/10 15:17:14 Route Debug: POST /login

2025/07/10 15:17:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[32.843ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/10 15:17:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[69.152ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284',5,'2025-07-10 16:17:15.646','2025-07-10 15:17:15.646')

2025/07/10 15:17:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[70.381ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-10 15:17:15.732',`last_login`='2025-07-10 15:17:15.715' WHERE `userID` = 5
DEBUG: Login successful, session created: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284
2025/07/10 15:17:15 SLOW REQUEST: POST /login took 1.224367149s (status: 303)
{"timestamp":"2025-07-10T13:17:15.786588917Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153434562142795","method":"POST","path":"/login","status_code":303,"duration":"1.224441745s","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/10 15:17:15 Route Debug: GET /
{"timestamp":"2025-07-10T13:17:15.836568559Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153435836387159","method":"GET","path":"/","status_code":307,"duration":"178.226µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 15:17:16 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.280ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:16.05' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.826ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.567ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 15:17:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.818ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 15:17:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.956ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 15:17:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.230ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 15:17:16 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.419ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T13:17:16.212668171Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153436050745333","method":"GET","path":"/dashboard","status_code":200,"duration":"161.921061ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 15:17:17 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.295ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:17.629' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.844ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:17:17 🚀 DeviceHandler.ListDevices() started
2025/07/10 15:17:17 ⏱️  DeviceRepository.List() started

2025/07/10 15:17:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.352ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 15:17:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.605ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 15:17:17 ⏱️  Device query took: 51.681934ms
2025/07/10 15:17:17 ⏱️  DeviceRepository.List() completed in 51.719004ms (found 20 devices)
2025/07/10 15:17:17 ⏱️  Database query took: 51.723371ms
2025/07/10 15:17:17 💾 Cached 20 devices
2025/07/10 15:17:17 ⏱️  Template rendering took: 9.842305ms
2025/07/10 15:17:17 🏁 DeviceHandler.ListDevices() completed in 61.612483ms
{"timestamp":"2025-07-10T13:17:17.758942855Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153437629795536","method":"GET","path":"/devices","status_code":200,"duration":"129.143736ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 15:17:18 Route Debug: GET /devices/TRS5001/stats
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/stats
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.460ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:18.966' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.231ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.289ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[66.525ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:374
[0m[33m[33.902ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobdevices` WHERE deviceID = 'TRS5001'

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:389
[0m[33m[33.265ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate) * COALESCE(p.itemcostperday, 0)), 0) as total_earnings
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		JOIN devices d ON jd.deviceID = d.deviceID
		LEFT JOIN products p ON d.productID = p.productID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:402
[0m[33m[33.741ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate)), 0) as total_days
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[33.598ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 15:17:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[67.504ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:17:19.269670802Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153438966306753","method":"GET","path":"/devices/TRS5001/stats","status_code":200,"duration":"303.361629ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":830}}
2025/07/10 15:17:22 Route Debug: GET /api/v1/devices/TRS5001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/TRS5001
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.300ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:22.574' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.874ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:22 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.392ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 15:17:22 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[66.665ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:17:22.70818863Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153442573969907","method":"GET","path":"/api/v1/devices/TRS5001","status_code":200,"duration":"134.216242ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":713}}
2025/07/10 15:17:25 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.639ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:25.768' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.546ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:25 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.588ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:17:25.868104282Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153445768742499","method":"GET","path":"/customers","status_code":200,"duration":"99.359103ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 15:17:27 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.262ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:27.35' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.269ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:27 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.626ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 15:17:27 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[68.456ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T13:17:27.487134763Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153447350674468","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"136.456096ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 15:17:29 Route Debug: GET /api/v1/customers/31
DEBUG: AuthMiddleware called for URL: /api/v1/customers/31
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.472ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:29.508' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.107ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:29 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[33.682ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`customerID` = 31

2025/07/10 15:17:29 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:21
[0m[33m[67.205ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 31 ORDER BY `customers`.`customerID` LIMIT 1
{"timestamp":"2025-07-10T13:17:29.642629836Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153449508436113","method":"GET","path":"/api/v1/customers/31","status_code":200,"duration":"134.190973ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":238}}
2025/07/10 15:17:31 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.539ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:31.621' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.217ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.305ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:17:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.073ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:17:31.748971008Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153451621887761","method":"GET","path":"/cases","status_code":200,"duration":"127.079664ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53558}}
2025/07/10 15:17:32 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.865ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:32.134' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.697ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.159ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:17:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.861ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:17:32.265840579Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153452134064520","method":"GET","path":"/cases","status_code":200,"duration":"131.773419ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53558}}
2025/07/10 15:17:33 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.179ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:33.529' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.844ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:33 [32m
[0m[33m[33.133ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:17:33 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[67.277ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:17:33 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[100.485ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 15:17:33 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[134.205ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T13:17:33.731160453Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153453529504030","method":"GET","path":"/api/v1/cases/1001","status_code":200,"duration":"201.653851ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3714}}
2025/07/10 15:17:35 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.920ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:35.983' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.754ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:17:36 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 15:17:36 [32m
[0m[33m[33.041ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 15:17:36 [32m
[0m[33m[38.902ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[106.616ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[140.721ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[174.437ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 15:17:36 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T13:17:36.22634362Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153455983571646","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"242.766733ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 15:17:36 Route Debug: GET /api/v1/devices/MHD1001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1001
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284
2025/07/10 15:17:36 Route Debug: GET /api/v1/devices/MHD1002
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1002
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.647ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:36.285' ORDER BY `sessions`.`session_id` LIMIT 1
2025/07/10 15:17:36 Route Debug: GET /api/v1/devices/MHD1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1003
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.778ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:36.308' ORDER BY `sessions`.`session_id` LIMIT 1
2025/07/10 15:17:36 Route Debug: GET /api/v1/devices/MHD1004
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1004
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.136ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.360ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:36.328' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.997ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.155ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:36.351' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.367ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.587ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[37.144ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[70.483ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:17:36.427775705Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153456285919565","method":"GET","path":"/api/v1/devices/MHD1001","status_code":200,"duration":"141.851574ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.325ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.772ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1002' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:17:36.445480747Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153456308397097","method":"GET","path":"/api/v1/devices/MHD1002","status_code":200,"duration":"137.080137ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.149ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[66.894ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:17:36.46437283Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153456328832612","method":"GET","path":"/api/v1/devices/MHD1003","status_code":200,"duration":"135.536497ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.812ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:17:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[69.068ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1004' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T13:17:36.491325259Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153456351778370","method":"GET","path":"/api/v1/devices/MHD1004","status_code":200,"duration":"139.543882ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":735}}
2025/07/10 15:17:38 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.092ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:38.471' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.206ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[32.945ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.018ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.635ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.477ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[168.875ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/10 15:17:38 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[187.531ms] [34;1m[rows:113][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-10T13:17:38.727307585Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153458470951099","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"256.354054ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":122417}}
2025/07/10 15:17:44 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.777ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:44.294' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.676ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:44 [32m
[0m[33m[34.986ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 15:17:44 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[69.704ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 15:17:44 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[103.562ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 15:17:44 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[137.908ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T13:17:44.500297672Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153464294464257","method":"GET","path":"/api/v1/cases/1001","status_code":200,"duration":"205.830576ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3714}}
2025/07/10 15:17:48 Route Debug: GET /cases/new
DEBUG: AuthMiddleware called for URL: /cases/new
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:17:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.753ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:17:48.05' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:17:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.662ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:17:48 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:100
[0m[33m[34.926ms] [34;1m[rows:37][0m SELECT * FROM `products` WHERE `products`.`productID` IN (43,46,7,8,44,15,6,12,21,22,28,30,10,17,18,19,20,26,37,5,11,14,40,35,45,13,16,33,1,3,2,4,23,24,25,29,32)

2025/07/10 15:17:48 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:100
[0m[33m[52.883ms] [34;1m[rows:97][0m SELECT * FROM `devices` WHERE deviceID NOT IN (SELECT deviceID FROM devicescases)
{"timestamp":"2025-07-10T13:17:48.181135041Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153468050772047","method":"GET","path":"/cases/new","status_code":200,"duration":"130.360889ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":12156}}
2025/07/10 15:19:31 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284

2025/07/10 15:19:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.433ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'eaa5ad7928a4d80f4d6e474e55b6b45c0e52786966a4f17d2db42515fb7b8284' AND expires_at > '2025-07-10 15:19:31.519' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:19:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.182ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:19:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[32.248ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:19:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[48.838ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:19:31.646597064Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153571519512808","method":"GET","path":"/cases","status_code":200,"duration":"127.080838ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53558}}
2025/07/10 15:19:44 Route Debug: GET /
{"timestamp":"2025-07-10T13:19:44.340360745Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153584340123671","method":"GET","path":"/","status_code":307,"duration":"233.567µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/10 15:19:44 Route Debug: GET /login
{"timestamp":"2025-07-10T13:19:44.388939804Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153584375373796","method":"GET","path":"/login","status_code":200,"duration":"13.562973ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 15:19:44 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 15:19:45 Route Debug: GET /static/images/icon-180.png
2025/07/10 15:19:45 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 15:19:45 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 15:19:45 Route Debug: GET /favicon.ico
2025/07/10 15:19:45 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 15:19:45 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T13:19:45.862289238Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153585850506759","method":"GET","path":"/favicon.ico","status_code":404,"duration":"11.774534ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 15:19:51 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 15:19:51 Form _method parameter: ''
2025/07/10 15:19:51 Route Debug: POST /login

2025/07/10 15:19:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[34.436ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[69.239ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47',5,'2025-07-10 16:19:52.328','2025-07-10 15:19:52.328')

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[69.513ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-10 15:19:52.415',`last_login`='2025-07-10 15:19:52.397' WHERE `userID` = 5
DEBUG: Login successful, session created: 3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47
2025/07/10 15:19:52 SLOW REQUEST: POST /login took 1.197267796s (status: 303)
{"timestamp":"2025-07-10T13:19:52.467693337Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153591270336984","method":"POST","path":"/login","status_code":303,"duration":"1.197351864s","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/10 15:19:52 Route Debug: GET /
{"timestamp":"2025-07-10T13:19:52.523711891Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153592523552502","method":"GET","path":"/","status_code":307,"duration":"156.273µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 15:19:52 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.155ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47' AND expires_at > '2025-07-10 15:19:52.578' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.575ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.796ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.318ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.048ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.442ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 15:19:52 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.681ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T13:19:52.74341583Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153592578826260","method":"GET","path":"/dashboard","status_code":200,"duration":"164.587185ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 15:19:52 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 15:19:55 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47

2025/07/10 15:19:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.247ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47' AND expires_at > '2025-07-10 15:19:55.17' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:19:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.090ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:19:55 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.793ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc00085d920 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000374ad0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T13:19:55.270049448Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153595170279516","method":"GET","path":"/jobs","status_code":200,"duration":"99.766486ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29577}}
2025/07/10 15:20:03 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: 3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47

2025/07/10 15:20:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.541ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47' AND expires_at > '2025-07-10 15:20:03.377' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:20:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.591ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:20:03 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.953ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:20:03.481640664Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153603377636041","method":"GET","path":"/customers","status_code":200,"duration":"104.000225ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 15:20:08 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47

2025/07/10 15:20:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.473ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47' AND expires_at > '2025-07-10 15:20:08.029' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:20:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.966ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:20:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.075ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:20:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.045ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:20:08.160100475Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153608029696996","method":"GET","path":"/cases","status_code":200,"duration":"130.401495ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53558}}
2025/07/10 15:24:15 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47

2025/07/10 15:24:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.889ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3b60f27fced958af441ac77625f27bf09b945e3ad0a5da104e296aed1deedc47' AND expires_at > '2025-07-10 15:24:15.705' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:24:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.123ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:24:15 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.667ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:24:15 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.527ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:24:15.837617675Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153855705717234","method":"GET","path":"/cases","status_code":200,"duration":"131.898558ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53558}}
2025/07/10 15:24:16 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 15:24:16 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 15:24:22 Route Debug: GET /static/images/icon-180.png
2025/07/10 15:24:22 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 15:24:22 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 15:24:22 Route Debug: GET /favicon.ico
2025/07/10 15:24:22 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 15:24:22 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T13:24:22.450861205Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153862442329126","method":"GET","path":"/favicon.ico","status_code":404,"duration":"8.527811ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 15:24:40 Route Debug: GET /
{"timestamp":"2025-07-10T13:24:40.802688689Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153880802444602","method":"GET","path":"/","status_code":307,"duration":"240.343µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/10 15:24:41 Route Debug: GET /login
{"timestamp":"2025-07-10T13:24:41.069026276Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153881052377920","method":"GET","path":"/login","status_code":200,"duration":"16.645199ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 15:24:41 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 15:24:41 Route Debug: GET /static/images/icon-180.png
2025/07/10 15:24:41 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 15:24:41 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 15:24:41 Route Debug: GET /favicon.ico
2025/07/10 15:24:41 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 15:24:41 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T13:24:41.797519756Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153881786080365","method":"GET","path":"/favicon.ico","status_code":404,"duration":"11.433693ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 15:24:44 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 15:24:44 Form _method parameter: ''
2025/07/10 15:24:44 Route Debug: POST /login

2025/07/10 15:24:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[38.041ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[75.720ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165',5,'2025-07-10 16:24:45.453','2025-07-10 15:24:45.453')

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[75.022ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-10 15:24:45.548',`last_login`='2025-07-10 15:24:45.529' WHERE `userID` = 5
DEBUG: Login successful, session created: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165
2025/07/10 15:24:45 SLOW REQUEST: POST /login took 1.311272502s (status: 303)
{"timestamp":"2025-07-10T13:24:45.605085048Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153884293724654","method":"POST","path":"/login","status_code":303,"duration":"1.311356075s","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/10 15:24:45 Route Debug: GET /
{"timestamp":"2025-07-10T13:24:45.672651083Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153885672471291","method":"GET","path":"/","status_code":307,"duration":"176.341µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 15:24:45 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.807ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:24:45.783' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[37.835ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[18.156ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[18.391ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[18.327ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[19.086ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 15:24:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[19.430ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T13:24:45.96367691Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153885783165483","method":"GET","path":"/dashboard","status_code":200,"duration":"180.507476ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 15:24:46 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 15:24:53 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:24:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[37.428ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:24:53.391' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:24:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.294ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:24:53 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[19.007ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:24:53.497358832Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153893390908325","method":"GET","path":"/customers","status_code":200,"duration":"106.448662ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 15:25:11 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:25:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.928ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:25:11.188' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:25:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.503ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:25:11 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.764ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:25:11.286265713Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153911188259136","method":"GET","path":"/customers","status_code":200,"duration":"98.003531ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 15:25:15 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:25:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.268ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:25:15.187' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:25:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.098ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:25:15 🚀 DeviceHandler.ListDevices() started
2025/07/10 15:25:15 ⏱️  DeviceRepository.List() started

2025/07/10 15:25:15 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.996ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 15:25:15 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.143ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 15:25:15 ⏱️  Device query took: 51.158381ms
2025/07/10 15:25:15 ⏱️  DeviceRepository.List() completed in 51.197734ms (found 20 devices)
2025/07/10 15:25:15 ⏱️  Database query took: 51.202984ms
2025/07/10 15:25:15 💾 Cached 20 devices
2025/07/10 15:25:15 ⏱️  Template rendering took: 9.439399ms
2025/07/10 15:25:15 🏁 DeviceHandler.ListDevices() completed in 60.678892ms
{"timestamp":"2025-07-10T13:25:15.316616423Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153915187153226","method":"GET","path":"/devices","status_code":200,"duration":"129.4595ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 15:25:19 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:25:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.624ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:25:19.222' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:25:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.649ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:25:19 🚀 DeviceHandler.ListDevices() started
2025/07/10 15:25:19 ⏱️  DeviceRepository.List() started

2025/07/10 15:25:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.890ms] [34;1m[rows:2][0m SELECT * FROM `products` WHERE `products`.`productID` IN (3,1)

2025/07/10 15:25:19 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[67.510ms] [34;1m[rows:13][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` LEFT JOIN products ON products.productID = devices.productID WHERE devices.deviceID LIKE '%sub%' OR devices.serialnumber LIKE '%sub%' OR products.name LIKE '%sub%' ORDER BY deviceID DESC LIMIT 20
2025/07/10 15:25:19 ⏱️  Device query took: 67.547507ms
2025/07/10 15:25:19 ⏱️  DeviceRepository.List() completed in 67.584256ms (found 13 devices)
2025/07/10 15:25:19 ⏱️  Database query took: 67.593844ms
2025/07/10 15:25:19 ⏱️  Template rendering took: 9.977658ms
2025/07/10 15:25:19 🏁 DeviceHandler.ListDevices() completed in 77.622377ms
{"timestamp":"2025-07-10T13:25:19.367815992Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153919222570736","method":"GET","path":"/devices","status_code":200,"duration":"145.241419ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":48922}}
2025/07/10 15:25:28 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:25:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.437ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:25:28.795' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:25:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.657ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:25:28 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.822ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:25:28.895885817Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153928795841653","method":"GET","path":"/customers","status_code":200,"duration":"100.041158ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":167972}}
2025/07/10 15:25:38 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:25:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.252ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:25:38.103' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:25:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.999ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:25:38 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[33.963ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE companyname LIKE '%noah%' OR firstname LIKE '%noah%' OR lastname LIKE '%noah%' OR email LIKE '%noah%' ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:25:38.216731097Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752153938103209629","method":"GET","path":"/customers","status_code":200,"duration":"113.519113ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":27680}}
2025/07/10 15:28:38 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:28:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.073ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:28:38.006' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:28:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.966ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:28:38 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[34.003ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE companyname LIKE '%noah%' OR firstname LIKE '%noah%' OR lastname LIKE '%noah%' OR email LIKE '%noah%' ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:28:38.121714528Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154118006592092","method":"GET","path":"/customers","status_code":200,"duration":"115.118779ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":27766}}
2025/07/10 15:28:52 Route Debug: GET /
{"timestamp":"2025-07-10T13:28:52.547341724Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154132547189829","method":"GET","path":"/","status_code":307,"duration":"148.529µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 15:28:52 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:28:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.086ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:28:52.679' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:28:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.121ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:28:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.747ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 15:28:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.029ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 15:28:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.870ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 15:28:52 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[16.943ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 15:28:52 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.050ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T13:28:52.841816199Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154132679412364","method":"GET","path":"/dashboard","status_code":200,"duration":"162.401981ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 15:28:54 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:28:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.357ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:28:54.541' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:28:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[32.957ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:28:54 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.528ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:28:54.6359582Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154134541486063","method":"GET","path":"/customers","status_code":200,"duration":"94.469542ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":168058}}

2025/07/10 15:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[159.816ms] [34;1m[rows:1][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 15:36:49.384'
DEBUG: Cleaned up 1 expired sessions
2025/07/10 15:42:18 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:42:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[154.751ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:42:18.473' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:42:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.492ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:42:18 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[18.054ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:42:18.692419508Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154938473174539","method":"GET","path":"/customers","status_code":200,"duration":"219.241973ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":168195}}
2025/07/10 15:42:19 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 15:42:20 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 15:42:25 Route Debug: GET /static/images/icon-180.png
2025/07/10 15:42:25 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 15:42:25 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 15:42:25 Route Debug: GET /favicon.ico
2025/07/10 15:42:25 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 15:42:25 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T13:42:25.487176585Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154945476853560","method":"GET","path":"/favicon.ico","status_code":404,"duration":"10.318477ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 15:42:34 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:42:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.377ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:42:34.93' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:42:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.586ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:42:34 🚀 DeviceHandler.ListDevices() started
2025/07/10 15:42:34 ⏱️  DeviceRepository.List() started

2025/07/10 15:42:35 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.126ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 15:42:35 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.763ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 15:42:35 ⏱️  Device query took: 51.778071ms
2025/07/10 15:42:35 ⏱️  DeviceRepository.List() completed in 51.81467ms (found 20 devices)
2025/07/10 15:42:35 ⏱️  Database query took: 51.823666ms
2025/07/10 15:42:35 💾 Cached 20 devices
2025/07/10 15:42:35 ⏱️  Template rendering took: 11.085524ms
2025/07/10 15:42:35 🏁 DeviceHandler.ListDevices() completed in 62.961799ms
{"timestamp":"2025-07-10T13:42:35.061164227Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154954930892416","method":"GET","path":"/devices","status_code":200,"duration":"130.269387ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 15:42:39 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:42:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.137ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:42:39.366' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:42:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.985ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:42:39 🚀 DeviceHandler.ListDevices() started
2025/07/10 15:42:39 ⏱️  DeviceRepository.List() started

2025/07/10 15:42:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[33.292ms] [34;1m[rows:2][0m SELECT * FROM `products` WHERE `products`.`productID` IN (3,1)

2025/07/10 15:42:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[68.116ms] [34;1m[rows:13][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` LEFT JOIN products ON products.productID = devices.productID WHERE devices.deviceID LIKE '%sub%' OR devices.serialnumber LIKE '%sub%' OR products.name LIKE '%sub%' ORDER BY deviceID DESC LIMIT 20
2025/07/10 15:42:39 ⏱️  Device query took: 68.154814ms
2025/07/10 15:42:39 ⏱️  DeviceRepository.List() completed in 68.189911ms (found 13 devices)
2025/07/10 15:42:39 ⏱️  Database query took: 68.195521ms
2025/07/10 15:42:39 ⏱️  Template rendering took: 16.724796ms
2025/07/10 15:42:39 🏁 DeviceHandler.ListDevices() completed in 84.965132ms
{"timestamp":"2025-07-10T13:42:39.519913095Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154959366369425","method":"GET","path":"/devices","status_code":200,"duration":"153.53828ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":48922}}
2025/07/10 15:42:41 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:42:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.774ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:42:41.091' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:42:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.825ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:42:41 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.504ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:42:41.189446657Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154961091706018","method":"GET","path":"/customers","status_code":200,"duration":"97.737914ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":168195}}
2025/07/10 15:42:46 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:42:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.930ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:42:46.23' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:42:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.643ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:42:46 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.167ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:42:46 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.965ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:42:46.36037436Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154966230179622","method":"GET","path":"/cases","status_code":200,"duration":"130.190961ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53543}}
2025/07/10 15:43:05 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T13:43:05.151255857Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752154985151074287","method":"GET","path":"/jobs","status_code":303,"duration":"179.205µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 15:43:48 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:43:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.189ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:43:48.567' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:43:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.608ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:43:48 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[33.757ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 15:43:48 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[50.753ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T13:43:48.700410762Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155028567712265","method":"GET","path":"/cases","status_code":200,"duration":"132.69509ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":53671}}
2025/07/10 15:43:51 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:43:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.586ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:43:51.48' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:43:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.434ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:43:51 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.542ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:43:51.577067894Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155031480537250","method":"GET","path":"/customers","status_code":200,"duration":"96.527959ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":168323}}
2025/07/10 15:43:55 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:43:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.190ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:43:55.004' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:43:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.618ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:43:55 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.620ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T13:43:55.101301566Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155035004568674","method":"GET","path":"/customers","status_code":200,"duration":"96.729546ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":168323}}
2025/07/10 15:44:19 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:44:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.357ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:44:19.904' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:44:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.746ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 15:44:19 🚀 DeviceHandler.ListDevices() started
2025/07/10 15:44:19 ⏱️  DeviceRepository.List() started

2025/07/10 15:44:20 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.151ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 15:44:20 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.639ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 15:44:20 ⏱️  Device query took: 51.684655ms
2025/07/10 15:44:20 ⏱️  DeviceRepository.List() completed in 51.742925ms (found 20 devices)
2025/07/10 15:44:20 ⏱️  Database query took: 51.75116ms
2025/07/10 15:44:20 💾 Cached 20 devices
2025/07/10 15:44:20 ⏱️  Template rendering took: 16.205814ms
2025/07/10 15:44:20 🏁 DeviceHandler.ListDevices() completed in 68.02906ms
{"timestamp":"2025-07-10T13:44:20.041025728Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155059904396079","method":"GET","path":"/devices","status_code":200,"duration":"136.6247ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 15:44:21 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:44:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.168ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:44:21.975' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:44:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.801ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:44:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.376ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000621940 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000873470 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T13:44:22.075120457Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155061975128912","method":"GET","path":"/jobs","status_code":200,"duration":"99.987828ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29698}}
2025/07/10 15:44:42 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:44:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.867ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:44:42.56' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:44:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.640ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:44:42 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.248ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc0007027d0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000872570 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T13:44:42.655647471Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155082560901190","method":"GET","path":"/jobs","status_code":200,"duration":"94.743917ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":30260}}
2025/07/10 15:45:09 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:45:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.278ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:45:09.549' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:45:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.180ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:45:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.189ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000770cc0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000873300 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T13:45:09.645613733Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155109549816563","method":"GET","path":"/jobs","status_code":200,"duration":"95.795217ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":30260}}
2025/07/10 15:45:11 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 15:45:11 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 15:45:13 Route Debug: GET /static/images/icon-180.png
2025/07/10 15:45:13 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/10 15:45:13 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/10 15:45:13 Route Debug: GET /favicon.ico
2025/07/10 15:45:13 NotFoundHandler: 404 for path: /favicon.ico
2025/07/10 15:45:13 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-10T13:45:13.852082347Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155113842268516","method":"GET","path":"/favicon.ico","status_code":404,"duration":"9.808692ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/10 15:45:25 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-10T13:45:25.125299386Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155125125135459","method":"GET","path":"/jobs","status_code":303,"duration":"162.023µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/10 15:45:25 Route Debug: GET /login
{"timestamp":"2025-07-10T13:45:25.333921468Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155125321912385","method":"GET","path":"/login","status_code":200,"duration":"12.006408ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 15:45:55 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165

2025/07/10 15:45:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.993ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'a2f1eae38facabbc7ca4414ff7557d8687ce133e47af2f37d70096b63d665165' AND expires_at > '2025-07-10 15:45:55.115' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 15:45:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.048ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 15:45:55 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.189ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc00083ae10 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc000374a30 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T13:45:55.213191799Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752155155115631368","method":"GET","path":"/jobs","status_code":200,"duration":"97.557456ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":30260}}

2025/07/10 16:06:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[180.689ms] [34;1m[rows:0][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 16:06:49.387'

2025/07/10 16:36:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[184.021ms] [34;1m[rows:3][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-10 16:36:49.383'
DEBUG: Cleaned up 3 expired sessions
2025/07/10 16:58:28 Route Debug: GET /
{"timestamp":"2025-07-10T14:58:28.3252038Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159508325034142","method":"GET","path":"/","status_code":307,"duration":"167.599µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/10 16:58:28 Route Debug: GET /login
{"timestamp":"2025-07-10T14:58:28.403376155Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159508394389016","method":"GET","path":"/login","status_code":200,"duration":"8.984448ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/10 16:58:28 Route Debug: GET /static/css/rental-core-design.css
2025/07/10 16:58:29 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:58:29.393106161Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159509392853677","method":"GET","path":"/sw.js","status_code":200,"duration":"249.441µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 16:58:46 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/10 16:58:46 Form _method parameter: ''
2025/07/10 16:58:46 Route Debug: POST /login

2025/07/10 16:58:46 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[163.321ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
2025/07/10 16:58:47 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:58:47.461462829Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159527460820817","method":"GET","path":"/sw.js","status_code":200,"duration":"636.722µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
DEBUG: Creating session for user admin (ID: 5)

2025/07/10 16:58:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[70.010ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716',5,'2025-07-10 17:58:47.634','2025-07-10 16:58:47.634')

2025/07/10 16:58:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[70.261ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-10 16:58:47.722',`last_login`='2025-07-10 16:58:47.704' WHERE `userID` = 5
DEBUG: Login successful, session created: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716
2025/07/10 16:58:47 SLOW REQUEST: POST /login took 1.349588899s (status: 303)
{"timestamp":"2025-07-10T14:58:47.775103432Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159526425450142","method":"POST","path":"/login","status_code":303,"duration":"1.349649002s","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/10 16:58:47 Route Debug: GET /
{"timestamp":"2025-07-10T14:58:47.844007219Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159527843855695","method":"GET","path":"/","status_code":307,"duration":"149.11µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/10 16:58:47 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:58:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.390ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:58:47.898' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:58:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.107ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 16:58:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.695ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/10 16:58:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.058ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/10 16:58:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.346ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/10 16:58:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.932ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/10 16:58:48 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.010ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-10T14:58:48.062392026Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159527898358801","method":"GET","path":"/dashboard","status_code":200,"duration":"164.030831ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":18959}}
2025/07/10 16:58:48 Route Debug: GET /static/js/rental-core-design.js
2025/07/10 16:58:48 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:58:48.9148715Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159528914641289","method":"GET","path":"/sw.js","status_code":200,"duration":"227.886µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 16:58:58 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:58:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.268ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:58:58.023' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:58:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.683ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 16:58:58 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.207ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000778d00 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:260 FinalRevenue:0xc00020bac0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:8 TotalRevenue:260}
{"timestamp":"2025-07-10T14:58:58.120461632Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159538023159525","method":"GET","path":"/jobs","status_code":200,"duration":"97.300313ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":30779}}
2025/07/10 16:58:59 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:58:59.182568481Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159539182337408","method":"GET","path":"/sw.js","status_code":200,"duration":"228.588µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 16:59:04 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:59:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.727ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:59:04.692' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:59:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.293ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 16:59:04 🚀 DeviceHandler.ListDevices() started
2025/07/10 16:59:04 ⏱️  DeviceRepository.List() started

2025/07/10 16:59:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.209ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 16:59:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.678ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 16:59:04 ⏱️  Device query took: 51.69254ms
2025/07/10 16:59:04 ⏱️  DeviceRepository.List() completed in 51.74548ms (found 20 devices)
2025/07/10 16:59:04 ⏱️  Database query took: 51.7563ms
2025/07/10 16:59:04 💾 Cached 20 devices
2025/07/10 16:59:04 ⏱️  Template rendering took: 12.98952ms
2025/07/10 16:59:04 🏁 DeviceHandler.ListDevices() completed in 64.785313ms
{"timestamp":"2025-07-10T14:59:04.827500739Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159544692195379","method":"GET","path":"/devices","status_code":200,"duration":"135.302705ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":60745}}
2025/07/10 16:59:05 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:59:05.914531402Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159545914277006","method":"GET","path":"/sw.js","status_code":200,"duration":"250.519µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 16:59:25 Route Debug: GET /devices/TRS5001/stats
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/stats
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.834ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:59:25.501' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.023ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.051ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.759ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:374
[0m[33m[33.786ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobdevices` WHERE deviceID = 'TRS5001'

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:389
[0m[33m[34.435ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate) * COALESCE(p.itemcostperday, 0)), 0) as total_earnings
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		JOIN devices d ON jd.deviceID = d.deviceID
		LEFT JOIN products p ON d.productID = p.productID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:402
[0m[33m[33.451ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(DATEDIFF(COALESCE(j.endDate, NOW()), j.startDate)), 0) as total_days
		FROM jobdevices jd
		JOIN jobs j ON jd.jobID = j.jobID
		WHERE jd.deviceID = 'TRS5001'
	

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[33.933ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 16:59:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:416
[0m[33m[68.159ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T14:59:25.80772781Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159565501521593","method":"GET","path":"/devices/TRS5001/stats","status_code":200,"duration":"306.203192ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":830}}
2025/07/10 16:59:32 Route Debug: GET /api/v1/devices/TRS5001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/TRS5001
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:59:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.727ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:59:32.233' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:59:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.754ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 16:59:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.029ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 16:59:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.640ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T14:59:32.370045659Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159572233495669","method":"GET","path":"/api/v1/devices/TRS5001","status_code":200,"duration":"136.54612ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":713}}
2025/07/10 16:59:35 Route Debug: GET /devices/TRS5001/qr
DEBUG: AuthMiddleware called for URL: /devices/TRS5001/qr
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:59:35 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.670ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:59:35.004' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:59:35 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.536ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 16:59:35 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.068ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 32

2025/07/10 16:59:35 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[70.192ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'TRS5001' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T14:59:35.146008428Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159575004721590","method":"GET","path":"/devices/TRS5001/qr","status_code":200,"duration":"141.28329ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":350}}
2025/07/10 16:59:36 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:59:36.221822961Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159576221608779","method":"GET","path":"/sw.js","status_code":200,"duration":"211.847µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 16:59:42 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.641ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:59:42.575' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.665ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 16:59:42 🚀 DeviceHandler.ListDevices() started
2025/07/10 16:59:42 ⏱️  DeviceRepository.List() started

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.144ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.694ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/10 16:59:42 ⏱️  Device query took: 51.726282ms
2025/07/10 16:59:42 ⏱️  DeviceRepository.List() completed in 51.780518ms (found 20 devices)
2025/07/10 16:59:42 ⏱️  Database query took: 51.79119ms
2025/07/10 16:59:42 💾 Cached 20 devices

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.812ms] [34;1m[rows:4][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,3,16,19)

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.067ms] [34;1m[rows:2][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003)

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.762ms] [34;1m[rows:4][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,3,12,15)

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.341ms] [34;1m[rows:2][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1002','STG1001')

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[170.324ms] [34;1m[rows:7][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2)

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[188.211ms] [34;1m[rows:20][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC LIMIT 20

2025/07/10 16:59:42 [32m/opt/dev/go-barcode-webapp/internal/repository/product_repository.go:66
[0m[33m[16.652ms] [34;1m[rows:5][0m SELECT * FROM `categories` ORDER BY name ASC
2025/07/10 16:59:42 🔧 GetAllCategories: Found 5 categories in database
2025/07/10 16:59:42 🔧 Category from DB: Effect (ID: 1004)
2025/07/10 16:59:42 🔧 Category from DB: Light (ID: 1002)
2025/07/10 16:59:42 🔧 Category from DB: Other (ID: 1005)
2025/07/10 16:59:42 🔧 Category from DB: Sound (ID: 1001)
2025/07/10 16:59:42 🔧 Category from DB: Stage (ID: 1003)
2025/07/10 16:59:42 🔧 DEBUG: Found 5 categories
2025/07/10 16:59:42 🔧 DEBUG: Category: Effect (ID: 1004)
2025/07/10 16:59:42 🔧 DEBUG: Category: Light (ID: 1002)
2025/07/10 16:59:42 🔧 DEBUG: Category: Other (ID: 1005)
2025/07/10 16:59:42 🔧 DEBUG: Category: Sound (ID: 1001)
2025/07/10 16:59:42 🔧 DEBUG: Category: Stage (ID: 1003)
2025/07/10 16:59:42 ⏱️  Template rendering took: 215.715728ms
2025/07/10 16:59:42 🏁 DeviceHandler.ListDevices() completed in 267.587203ms
{"timestamp":"2025-07-10T14:59:42.911316178Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159582574995194","method":"GET","path":"/devices","status_code":200,"duration":"336.318259ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":65569}}
2025/07/10 16:59:43 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:59:43.997857417Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159583997575337","method":"GET","path":"/sw.js","status_code":200,"duration":"278.202µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 16:59:53 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:59:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.006ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:59:53.635' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:59:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.073ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 16:59:53 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.639ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
{"timestamp":"2025-07-10T14:59:53.734393275Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159593635380438","method":"GET","path":"/customers","status_code":200,"duration":"99.010332ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":168323}}
2025/07/10 16:59:54 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:59:54.804356391Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159594804134752","method":"GET","path":"/sw.js","status_code":200,"duration":"219.705µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 16:59:57 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 16:59:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.676ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 16:59:57.517' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 16:59:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.207ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 16:59:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[34.177ms] [34;1m[rows:16][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/10 16:59:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:141
[0m[33m[51.575ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-10T14:59:57.64664151Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159597517703664","method":"GET","path":"/cases","status_code":200,"duration":"128.935542ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":53671}}
2025/07/10 16:59:58 Route Debug: GET /sw.js
{"timestamp":"2025-07-10T14:59:58.725631116Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159598725401209","method":"GET","path":"/sw.js","status_code":200,"duration":"227.703µs","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 26_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/140.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":8867}}
2025/07/10 17:00:01 Route Debug: GET /api/v1/cases/1001
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 17:00:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[37.592ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 17:00:01.195' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 17:00:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.815ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 17:00:01 [32m
[0m[33m[34.471ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 17:00:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[69.550ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 17:00:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[103.895ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` = 1001

2025/07/10 17:00:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:26
[0m[33m[137.117ms] [34;1m[rows:1][0m SELECT * FROM `cases` WHERE `cases`.`caseID` = 1001 ORDER BY `cases`.`caseID` LIMIT 1
{"timestamp":"2025-07-10T15:00:01.40429278Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159601195304272","method":"GET","path":"/api/v1/cases/1001","status_code":200,"duration":"208.98505ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":3714}}
2025/07/10 17:00:03 Route Debug: GET /api/v1/cases/1001/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1001/devices
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 17:00:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.856ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 17:00:03.663' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 17:00:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.506ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/10 17:00:03 GetCaseDevicesAPI: Getting devices for case ID: 1001

2025/07/10 17:00:03 [32m
[0m[33m[34.012ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1002

2025/07/10 17:00:03 [32m
[0m[33m[34.900ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'LGT1001'

2025/07/10 17:00:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[102.997ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 17:00:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[138.233ms] [34;1m[rows:4][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004')

2025/07/10 17:00:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:63
[0m[33m[172.249ms] [34;1m[rows:4][0m SELECT * FROM `devicescases` WHERE caseID = 1001
2025/07/10 17:00:03 GetCaseDevicesAPI: Found 4 devices for case 1001
{"timestamp":"2025-07-10T15:00:03.906041985Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159603663676537","method":"GET","path":"/api/v1/cases/1001/devices","status_code":200,"duration":"242.360497ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":4453}}
2025/07/10 17:00:03 Route Debug: GET /api/v1/devices/MHD1004
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1004
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716
2025/07/10 17:00:03 Route Debug: GET /api/v1/devices/MHD1001
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1001
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716
2025/07/10 17:00:03 Route Debug: GET /api/v1/devices/MHD1002
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1002
2025/07/10 17:00:03 Route Debug: GET /api/v1/devices/MHD1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MHD1003
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716
DEBUG: Found session cookie: 84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716

2025/07/10 17:00:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.472ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 17:00:03.95' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.372ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[136.268ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 17:00:03.95' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.396ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.670ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1004' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T15:00:04.087411086Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159603950390379","method":"GET","path":"/api/v1/devices/MHD1004","status_code":200,"duration":"137.018391ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[137.077ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 17:00:03.95' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[137.451ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '84a5860d33be88c1d41bfc22227b2b943b4f09bfcd07b8bdd794f0848e2e9716' AND expires_at > '2025-07-10 17:00:03.95' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.766ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.778ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.699ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.538ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.982ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1002' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-10T15:00:04.190128078Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752159603950405853","method":"GET","path":"/api/v1/devices/MHD1002","status_code":200,"duration":"239.719529ms","ip":"10.0.0.7","user_agent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/139.2  Mobile/15E148 Safari/605.1.15","fields":{"bytes_in":0,"bytes_out":735}}

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.941ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.936ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 10

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.558ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1001' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/10 17:00:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.449ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MHD1003' ORDER BY `devices`.`deviceID` LIMIT 1
fatal error: concurrent map read and map write

goroutine 841 [running]:
go-barcode-webapp/internal/middleware.(*PerformanceMonitor).updateMetrics(0xc0004ae6c0, {0xc000914018, 0x17}, 0xe4e9eef, 0x0)
	/opt/dev/go-barcode-webapp/internal/middleware/performance.go:117 +0x6a
main.main.(*PerformanceMonitor).PerformanceMiddleware.func35(0xc000a3c200)
	/opt/dev/go-barcode-webapp/internal/middleware/performance.go:92 +0x1c5
github.com/gin-gonic/gin.(*Context).Next(0xc000a3c200)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174 +0x2b
main.main.(*ErrorTracker).ErrorTrackingMiddleware.func34(0xc000a3c200)
	/opt/dev/go-barcode-webapp/internal/monitoring/error_tracker.go:571 +0x88
github.com/gin-gonic/gin.(*Context).Next(0xc000a3c200)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174 +0x2b
main.main.(*StructuredLogger).LoggingMiddleware.func33(0xc000a3c200)
	/opt/dev/go-barcode-webapp/internal/logger/structured_logger.go:443 +0x1bb
github.com/gin-gonic/gin.(*Context).Next(...)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000140680, 0xc000a3c200)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620 +0x65b
github.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000140680, {0xd4a498?, 0xc0007ac000}, 0xc000785300)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576 +0x1dd
main.main.func20({0xd4a498?, 0xc0007ac000?}, 0x0?)
	/opt/dev/go-barcode-webapp/cmd/server/main.go:386 +0x4aa
net/http.HandlerFunc.ServeHTTP(0x11fc920?, {0xd4a498?, 0xc0007ac000?}, 0xc00054cb50?)
	/home/noah/go/src/net/http/server.go:2136 +0x29
net/http.serverHandler.ServeHTTP({0xc00013a8d0?}, {0xd4a498?, 0xc0007ac000?}, 0x6?)
	/home/noah/go/src/net/http/server.go:2938 +0x8e
net/http.(*conn).serve(0xc0003dc240, {0xd4b6f8, 0xc0007d9290})
	/home/noah/go/src/net/http/server.go:2009 +0x5f4
created by net/http.(*Server).Serve in goroutine 1
	/home/noah/go/src/net/http/server.go:3086 +0x5cb

goroutine 1 [IO wait]:
internal/poll.runtime_pollWait(0x7f1ad15c6e80, 0x72)
	/home/noah/go/src/runtime/netpoll.go:343 +0x85
internal/poll.(*pollDesc).wait(0xc000391200?, 0x4?, 0x0)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:84 +0x27
internal/poll.(*pollDesc).waitRead(...)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Accept(0xc000391200)
	/home/noah/go/src/internal/poll/fd_unix.go:611 +0x2ac
net.(*netFD).accept(0xc000391200)
	/home/noah/go/src/net/fd_unix.go:172 +0x29
net.(*TCPListener).accept(0xc0005159c0)
	/home/noah/go/src/net/tcpsock_posix.go:152 +0x1e
net.(*TCPListener).Accept(0xc0005159c0)
	/home/noah/go/src/net/tcpsock.go:315 +0x30
net/http.(*Server).Serve(0xc000840000, {0xd4a798, 0xc0005159c0})
	/home/noah/go/src/net/http/server.go:3056 +0x364
net/http.(*Server).ListenAndServe(0xc000840000)
	/home/noah/go/src/net/http/server.go:2985 +0x71
net/http.ListenAndServe(...)
	/home/noah/go/src/net/http/server.go:3239
main.main()
	/opt/dev/go-barcode-webapp/cmd/server/main.go:390 +0x2a9b

goroutine 9 [select, 323 minutes]:
database/sql.(*DB).connectionOpener(0xc0006536c0, {0xd4b730, 0xc0005188c0})
	/home/noah/go/src/database/sql/sql.go:1218 +0x87
created by database/sql.OpenDB in goroutine 1
	/home/noah/go/src/database/sql/sql.go:791 +0x165

goroutine 14 [chan receive, 25 minutes]:
go-barcode-webapp/internal/monitoring.(*ErrorTracker).cleanup(0xc000598300)
	/opt/dev/go-barcode-webapp/internal/monitoring/error_tracker.go:542 +0xac
created by go-barcode-webapp/internal/monitoring.NewErrorTracker in goroutine 1
	/opt/dev/go-barcode-webapp/internal/monitoring/error_tracker.go:151 +0xc5

goroutine 15 [chan receive, 5 minutes]:
go-barcode-webapp/internal/cache.(*MemoryCache).cleanup(0xc0004ae5a0)
	/opt/dev/go-barcode-webapp/internal/cache/cache_manager.go:112 +0xa5
created by go-barcode-webapp/internal/cache.NewMemoryCache in goroutine 1
	/opt/dev/go-barcode-webapp/internal/cache/cache_manager.go:36 +0x9a

goroutine 16 [chan receive, 5 minutes]:
go-barcode-webapp/internal/cache.(*MemoryCache).cleanup(0xc0004ae600)
	/opt/dev/go-barcode-webapp/internal/cache/cache_manager.go:112 +0xa5
created by go-barcode-webapp/internal/cache.NewMemoryCache in goroutine 1
	/opt/dev/go-barcode-webapp/internal/cache/cache_manager.go:36 +0x9a

goroutine 50 [chan receive, 5 minutes]:
go-barcode-webapp/internal/cache.(*MemoryCache).cleanup(0xc0004ae660)
	/opt/dev/go-barcode-webapp/internal/cache/cache_manager.go:112 +0xa5
created by go-barcode-webapp/internal/cache.NewMemoryCache in goroutine 1
	/opt/dev/go-barcode-webapp/internal/cache/cache_manager.go:36 +0x9a

goroutine 66 [chan receive, 23 minutes]:
go-barcode-webapp/internal/handlers.(*AuthHandler).StartSessionCleanup.func1()
	/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:219 +0x75
created by go-barcode-webapp/internal/handlers.(*AuthHandler).StartSessionCleanup in goroutine 1
	/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:213 +0x4f

goroutine 853 [select]:
github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher.func1()
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:614 +0x9e
created by github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher in goroutine 843
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:611 +0xf9

goroutine 790 [select, 1 minutes]:
database/sql.(*DB).connectionCleaner(0xc0006536c0, 0xc00061001c?)
	/home/noah/go/src/database/sql/sql.go:1061 +0x9c
created by database/sql.(*DB).startCleanerLocked in goroutine 753
	/home/noah/go/src/database/sql/sql.go:1048 +0x105

goroutine 843 [stopping the world]:
runtime.ReadMemStats(0xc0009afcb0)
	/home/noah/go/src/runtime/mstats.go:361 +0x1f
go-barcode-webapp/internal/middleware.(*PerformanceMonitor).updateMemoryStats(0xc0004ae6c0)
	/opt/dev/go-barcode-webapp/internal/middleware/performance.go:146 +0x46
go-barcode-webapp/internal/middleware.(*PerformanceMonitor).updateMetrics(0xc0004ae6c0, {0xc000ba80a8, 0x17}, 0xe4e2756, 0x0)
	/opt/dev/go-barcode-webapp/internal/middleware/performance.go:133 +0x13a
main.main.(*PerformanceMonitor).PerformanceMiddleware.func35(0xc00031e700)
	/opt/dev/go-barcode-webapp/internal/middleware/performance.go:92 +0x1c5
github.com/gin-gonic/gin.(*Context).Next(0xc00031e700)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174 +0x2b
main.main.(*ErrorTracker).ErrorTrackingMiddleware.func34(0xc00031e700)
	/opt/dev/go-barcode-webapp/internal/monitoring/error_tracker.go:571 +0x88
github.com/gin-gonic/gin.(*Context).Next(0xc00031e700)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174 +0x2b
main.main.(*StructuredLogger).LoggingMiddleware.func33(0xc00031e700)
	/opt/dev/go-barcode-webapp/internal/logger/structured_logger.go:443 +0x1bb
github.com/gin-gonic/gin.(*Context).Next(...)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/context.go:174
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest(0xc000140680, 0xc00031e700)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:620 +0x65b
github.com/gin-gonic/gin.(*Engine).ServeHTTP(0xc000140680, {0xd4a498?, 0xc0008b6000}, 0xc00031e600)
	/home/noah/gopath/pkg/mod/github.com/gin-gonic/gin@v1.9.1/gin.go:576 +0x1dd
main.main.func20({0xd4a498?, 0xc0008b6000?}, 0x0?)
	/opt/dev/go-barcode-webapp/cmd/server/main.go:386 +0x4aa
net/http.HandlerFunc.ServeHTTP(0x11fc920?, {0xd4a498?, 0xc0008b6000?}, 0xc00079ab50?)
	/home/noah/go/src/net/http/server.go:2136 +0x29
net/http.serverHandler.ServeHTTP({0xc0008ac570?}, {0xd4a498?, 0xc0008b6000?}, 0x6?)
	/home/noah/go/src/net/http/server.go:2938 +0x8e
net/http.(*conn).serve(0xc0003dc360, {0xd4b6f8, 0xc0007d9290})
	/home/noah/go/src/net/http/server.go:2009 +0x5f4
created by net/http.(*Server).Serve in goroutine 1
	/home/noah/go/src/net/http/server.go:3086 +0x5cb

goroutine 842 [runnable]:
internal/poll.runtime_pollWait(0x7f1ad15c6aa0, 0x72)
	/home/noah/go/src/runtime/netpoll.go:343 +0x85
internal/poll.(*pollDesc).wait(0xc000176200?, 0xc00054f000?, 0x0)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:84 +0x27
internal/poll.(*pollDesc).waitRead(...)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc000176200, {0xc00054f000, 0x1000, 0x1000})
	/home/noah/go/src/internal/poll/fd_unix.go:164 +0x27a
net.(*netFD).Read(0xc000176200, {0xc00054f000?, 0x4df145?, 0x0?})
	/home/noah/go/src/net/fd_posix.go:55 +0x25
net.(*conn).Read(0xc000c0a010, {0xc00054f000?, 0x0?, 0xc0006b0218?})
	/home/noah/go/src/net/net.go:179 +0x45
net/http.(*connReader).Read(0xc0006b0210, {0xc00054f000, 0x1000, 0x1000})
	/home/noah/go/src/net/http/server.go:791 +0x14b
bufio.(*Reader).fill(0xc000614120)
	/home/noah/go/src/bufio/bufio.go:113 +0x103
bufio.(*Reader).Peek(0xc000614120, 0x4)
	/home/noah/go/src/bufio/bufio.go:151 +0x53
net/http.(*conn).serve(0xc0003dc2d0, {0xd4b6f8, 0xc0007d9290})
	/home/noah/go/src/net/http/server.go:2044 +0x75c
created by net/http.(*Server).Serve in goroutine 1
	/home/noah/go/src/net/http/server.go:3086 +0x5cb

goroutine 360 [IO wait]:
internal/poll.runtime_pollWait(0x7f1ad15c6d88, 0x72)
	/home/noah/go/src/runtime/netpoll.go:343 +0x85
internal/poll.(*pollDesc).wait(0xc000176300?, 0xc0008ac581?, 0x0)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:84 +0x27
internal/poll.(*pollDesc).waitRead(...)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc000176300, {0xc0008ac581, 0x1, 0x1})
	/home/noah/go/src/internal/poll/fd_unix.go:164 +0x27a
net.(*netFD).Read(0xc000176300, {0xc0008ac581?, 0xc00042af40?, 0x46a250?})
	/home/noah/go/src/net/fd_posix.go:55 +0x25
net.(*conn).Read(0xc000c0a018, {0xc0008ac581?, 0xc00049ba01?, 0xc0005180a0?})
	/home/noah/go/src/net/net.go:179 +0x45
net/http.(*connReader).backgroundRead(0xc0008ac570)
	/home/noah/go/src/net/http/server.go:683 +0x37
created by net/http.(*connReader).startBackgroundRead in goroutine 843
	/home/noah/go/src/net/http/server.go:679 +0xba

goroutine 851 [IO wait]:
internal/poll.runtime_pollWait(0x7f1ad15c67b8, 0x72)
	/home/noah/go/src/runtime/netpoll.go:343 +0x85
internal/poll.(*pollDesc).wait(0xc000176180?, 0xc00013a8e1?, 0x0)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:84 +0x27
internal/poll.(*pollDesc).waitRead(...)
	/home/noah/go/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0xc000176180, {0xc00013a8e1, 0x1, 0x1})
	/home/noah/go/src/internal/poll/fd_unix.go:164 +0x27a
net.(*netFD).Read(0xc000176180, {0xc00013a8e1?, 0xc0005dcf40?, 0x46a250?})
	/home/noah/go/src/net/fd_posix.go:55 +0x25
net.(*conn).Read(0xc000c0a008, {0xc00013a8e1?, 0xc00041ab01?, 0xc0006266e0?})
	/home/noah/go/src/net/net.go:179 +0x45
net/http.(*connReader).backgroundRead(0xc00013a8d0)
	/home/noah/go/src/net/http/server.go:683 +0x37
created by net/http.(*connReader).startBackgroundRead in goroutine 841
	/home/noah/go/src/net/http/server.go:679 +0xba

goroutine 784 [select, 1 minutes]:
github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher.func1()
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:614 +0x9e
created by github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher in goroutine 753
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:611 +0xf9

goroutine 852 [select]:
github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher.func1()
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:614 +0x9e
created by github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher in goroutine 842
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:611 +0xf9

goroutine 137 [select]:
github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher.func1()
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:614 +0x9e
created by github.com/go-sql-driver/mysql.(*mysqlConn).startWatcher in goroutine 841
	/home/noah/gopath/pkg/mod/github.com/go-sql-driver/mysql@v1.7.1/connection.go:611 +0xf9
exit status 2
