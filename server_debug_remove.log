2025/07/13 18:49:31 Database connection established successfully

2025/07/13 18:49:31 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/audit_logger.go:39 [35;1mrecord not found
[0m[33m[17.579ms] [34;1m[rows:0][0m SELECT * FROM `audit_events` ORDER BY timestamp DESC,`audit_events`.`id` LIMIT 1

2025/07/13 18:49:31 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.606ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:31 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.479ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:31 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.466ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND table_type = 'BASE TABLE'

2025/07/13 18:49:31 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.494ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.997ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.386ms] [34;1m[rows:-][0m SELECT * FROM `gobd_records` LIMIT 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.670ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.618ms] [34;1m[rows:0][0m ALTER TABLE `gobd_records` MODIFY COLUMN `is_immutable` boolean DEFAULT true

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.315ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.049ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.656ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_archive_date'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.886ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.126ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.899ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_retention_date'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.971ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.095ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.835ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_user_id'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.865ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.233ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.340ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_company_id'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.794ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.839ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.895ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_type'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.969ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.922ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.974ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_document_id'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.446ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.471ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.578ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'gobd_records' AND index_name = 'idx_gobd_records_data_hash'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.874ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.637ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.339ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND table_type = 'BASE TABLE'

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.956ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.543ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[17.410ms] [34;1m[rows:-][0m SELECT * FROM `audit_events` LIMIT 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[35.126ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[23.526ms] [34;1m[rows:0][0m ALTER TABLE `audit_events` MODIFY COLUMN `is_compliant` boolean DEFAULT true

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.893ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.567ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:32 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.761ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_previous_hash'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.874ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.045ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.352ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_retention_date'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.543ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.060ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.869ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_timestamp'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.283ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.698ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.929ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_event_type'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.409ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.566ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.437ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_type'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.809ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.666ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.362ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_object_id'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.511ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.054ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.428ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_user_id'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.459ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.090ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.896ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.statistics WHERE table_schema = 'TS-Lager' AND table_name = 'audit_events' AND index_name = 'idx_audit_events_session_id'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.421ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.466ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.435ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' AND table_type = 'BASE TABLE'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.824ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[33.656ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[16.777ms] [34;1m[rows:-][0m SELECT * FROM `retention_policies` LIMIT 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132
[0m[33m[34.150ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'retention_policies' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:33 [31;1m/opt/dev/go-barcode-webapp/internal/compliance/gobd_compliance.go:132 [35;1mError 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'
[0m[33m[32.330ms] [34;1m[rows:0][0m ALTER TABLE `retention_policies` ADD `document_type` varchar(191) NOT NULL UNIQUE
2025/07/13 18:49:33 Warning: Failed to create compliance middleware: failed to create GoBD compliance: failed to migrate GoBD tables: Error 1062 (23000): Duplicate entry '' for key 'retention_policies.document_type'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[16.773ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[33.958ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[32.966ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[16.460ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[33.584ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[17.366ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/13 18:49:33 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[34.158ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:139
[0m[33m[41.530ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[16.810ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[33.703ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[33.893ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[16.909ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[33.439ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[16.781ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:143
[0m[33m[34.135ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[16.195ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[33.597ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[34.001ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[16.388ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147 [33mSLOW SQL >= 200ms
[0m[31;1m[254.852ms] [33m[rows:1][35m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1[0m

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[18.413ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[35.651ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[17.001ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[34.108ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[34.455ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[16.416ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[34.160ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[16.846ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[34.532ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[37.754ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[16.926ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[33.439ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:147
[0m[33m[33.365ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/13 18:49:34 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:147 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[17.369ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/13 18:49:34 Failed to auto-migrate equipment_packages table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/13 18:49:34 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[16.824ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[33.551ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[33.975ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[16.901ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[34.040ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[16.759ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[34.773ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[16.666ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[33.414ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[33.862ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[16.440ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[34.124ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[16.545ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[34.559ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[44.138ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[17.545ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[38.419ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:151
[0m[33m[33.896ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/13 18:49:35 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:151 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[16.799ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/13 18:49:35 Failed to auto-migrate invoice_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.151ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[33.556ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[34.362ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' AND table_type = 'BASE TABLE'

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[17.147ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[33.754ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[16.859ms] [34;1m[rows:-][0m SELECT * FROM `company_settings` LIMIT 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:155
[0m[33m[33.997ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'company_settings' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.362ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[33.971ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[33.812ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' AND table_type = 'BASE TABLE'

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.483ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[32.848ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.407ms] [34;1m[rows:-][0m SELECT * FROM `sessions` LIMIT 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[34.047ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'sessions' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.626ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[34.077ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[33.909ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'users' AND table_type = 'BASE TABLE'

2025/07/13 18:49:35 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.346ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[34.558ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[16.914ms] [34;1m[rows:-][0m SELECT * FROM `users` LIMIT 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[33.989ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'users' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[36.247ms] [34;1m[rows:0][0m ALTER TABLE `users` MODIFY COLUMN `is_active` boolean DEFAULT true

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[17.344ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[33.077ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:159
[0m[33m[33.344ms] [34;1m[rows:-][0m SELECT count(*) FROM INFORMATION_SCHEMA.table_constraints WHERE constraint_schema = 'TS-Lager' AND table_name = 'users' AND constraint_name = 'fk_sessions_user'

2025/07/13 18:49:36 [31;1m/opt/dev/go-barcode-webapp/cmd/server/main.go:159 [35;1mError 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'
[0m[33m[16.912ms] [34;1m[rows:0][0m ALTER TABLE `users` ADD CONSTRAINT `fk_sessions_user` FOREIGN KEY (`userID`) REFERENCES `sessions`(`user_id`)
2025/07/13 18:49:36 Failed to auto-migrate email_templates table: Error 1142 (42000): REFERENCES command denied to user 'tsweb'@'93.209.253.229' for table 'TS-Lager.sessions'

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[16.711ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[33.766ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[34.009ms] [34;1m[rows:-][0m SELECT count(*) FROM information_schema.tables WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' AND table_type = 'BASE TABLE'

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[17.000ms] [34;1m[rows:-][0m SELECT DATABASE()

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[32.952ms] [34;1m[rows:1][0m SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'TS-Lager%' ORDER BY SCHEMA_NAME='TS-Lager' DESC,SCHEMA_NAME limit 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[16.893ms] [34;1m[rows:-][0m SELECT * FROM `user_preferences` LIMIT 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[34.108ms] [34;1m[rows:-][0m SELECT column_name, column_default, is_nullable = 'YES', data_type, character_maximum_length, column_type, column_key, extra, column_comment, numeric_precision, numeric_scale , datetime_precision FROM information_schema.columns WHERE table_schema = 'TS-Lager' AND table_name = 'user_preferences' ORDER BY ORDINAL_POSITION

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[23.127ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `email_notifications` boolean NOT NULL DEFAULT true

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.500ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `system_notifications` boolean NOT NULL DEFAULT true

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.877ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `job_status_notifications` boolean NOT NULL DEFAULT true

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.334ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `device_alert_notifications` boolean NOT NULL DEFAULT true

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[22.047ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `show_advanced_options` boolean NOT NULL DEFAULT false

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/cmd/server/main.go:163
[0m[33m[21.915ms] [34;1m[rows:0][0m ALTER TABLE `user_preferences` MODIFY COLUMN `auto_save_enabled` boolean NOT NULL DEFAULT true

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:510
[0m[33m[131.389ms] [34;1m[rows:1][0m SELECT * FROM `invoice_templates` ORDER BY is_default DESC, name ASC
2025/07/13 18:49:36 Templates already exist (1), skipping default template creation
[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] Loaded HTML Templates (63): 
	- customers.html
	- documents_list.html
	- invoices_list.html
	- scan_select_job.html
	- case_form.html
	- document_upload_form.html
	- email_templates_list.html
	- equipment_packages_list.html
	- financial_dashboard.html
	- financial_reports.html
	- customer_detail.html
	- email_template_form.html
	- invoice_template_german.html
	- transaction_form.html
	- device_detail.html
	- invoice_templates_list.html
	- mobile_scanner.html
	- monitoring_dashboard.html
	- home.html
	- job_template_form.html
	- search_results.html
	- security_roles.html
	- invoice_settings_form.html
	- content
	- cases_list.html
	- customer_form.html
	- devices_standalone.html
	- invoice_detail.html
	- invoice_preview.html
	- job_templates_list.html
	- jobs.html
	- scan_job.html
	- users_list.html
	- analytics_dashboard.html
	- css
	- case_detail.html
	- 
	- base.html
	- user_form.html
	- company_settings.html
	- equipment_package_form.html
	- bulk_operations.html
	- invoice_form.html
	- case_device_mapping.html
	- device_form.html
	- invoice_template_designer.html
	- security_audit.html
	- transaction_detail.html
	- user_detail.html
	- invoices_content.html
	- job_form.html
	- job_template_detail.html
	- signature_form.html
	- js
	- invoices-content
	- profile_settings.html
	- transactions_list.html
	- equipment_package_detail.html
	- error.html
	- invoice_template_designer_basic.html
	- email_template_preview.html
	- job_detail.html
	- login.html

[GIN-debug] GET    /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /static/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] HEAD   /uploads/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (6 handlers)
[GIN-debug] GET    /sw.js                    --> main.main.func18 (7 handlers)
[GIN-debug] GET    /manifest.json            --> main.main.func19 (7 handlers)

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[34.601ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'admin' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[34.466ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'manager' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[34.478ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'employee' ORDER BY `roles`.`roleID` LIMIT 1

2025/07/13 18:49:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/security_handler.go:867
[0m[33m[33.625ms] [34;1m[rows:1][0m SELECT * FROM `roles` WHERE name = 'viewer' ORDER BY `roles`.`roleID` LIMIT 1
[GIN-debug] GET    /                         --> main.setupRoutes.func1 (7 handlers)
[GIN-debug] GET    /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).LoginForm-fm (7 handlers)
[GIN-debug] POST   /login                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).Login-fm (7 handlers)
[GIN-debug] GET    /logout                   --> go-barcode-webapp/internal/handlers.(*AuthHandler).Logout-fm (7 handlers)
[GIN-debug] GET    /debug/invoice-test       --> main.setupRoutes.func2 (7 handlers)
[GIN-debug] GET    /debug/customer-selection --> main.setupRoutes.func3 (7 handlers)
[GIN-debug] GET    /debug/routes             --> main.setupRoutes.func4 (7 handlers)
[GIN-debug] GET    /dashboard                --> go-barcode-webapp/internal/handlers.(*HomeHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobs-fm (8 handlers)
[GIN-debug] GET    /jobs/new                 --> go-barcode-webapp/internal/handlers.(*JobHandler).NewJobForm-fm (8 handlers)
[GIN-debug] POST   /jobs                     --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/edit            --> go-barcode-webapp/internal/handlers.(*JobHandler).EditJobForm-fm (8 handlers)
[GIN-debug] PUT    /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/update          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJob-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id                 --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJob-fm (8 handlers)
[GIN-debug] GET    /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobDevices-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/devices         --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDevice-fm (8 handlers)
[GIN-debug] DELETE /jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] POST   /jobs/:id/bulk-scan       --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevices-fm (8 handlers)
[GIN-debug] GET    /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevices-fm (8 handlers)
[GIN-debug] GET    /devices/new              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).NewDeviceForm-fm (8 handlers)
[GIN-debug] POST   /devices                  --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/edit         --> go-barcode-webapp/internal/handlers.(*DeviceHandler).EditDeviceForm-fm (8 handlers)
[GIN-debug] PUT    /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDevice-fm (8 handlers)
[GIN-debug] DELETE /devices/:id              --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDevice-fm (8 handlers)
[GIN-debug] GET    /devices/:id/qr           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceQR-fm (8 handlers)
[GIN-debug] GET    /devices/:id/barcode      --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /devices/:id/stats        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /devices/available        --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevices-fm (8 handlers)
[GIN-debug] GET    /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomers-fm (8 handlers)
[GIN-debug] GET    /customers/new            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).NewCustomerForm-fm (8 handlers)
[GIN-debug] POST   /customers                --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomer-fm (8 handlers)
[GIN-debug] GET    /customers/:id/edit       --> go-barcode-webapp/internal/handlers.(*CustomerHandler).EditCustomerForm-fm (8 handlers)
[GIN-debug] PUT    /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomer-fm (8 handlers)
[GIN-debug] DELETE /customers/:id            --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomer-fm (8 handlers)
[GIN-debug] GET    /statuses                 --> go-barcode-webapp/internal/handlers.(*StatusHandler).ListStatuses-fm (8 handlers)
[GIN-debug] GET    /products                 --> go-barcode-webapp/internal/handlers.(*ProductHandler).ListProducts-fm (8 handlers)
[GIN-debug] GET    /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCases-fm (8 handlers)
[GIN-debug] GET    /cases/new                --> go-barcode-webapp/internal/handlers.(*CaseHandler).NewCaseForm-fm (8 handlers)
[GIN-debug] POST   /cases                    --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/edit           --> go-barcode-webapp/internal/handlers.(*CaseHandler).EditCaseForm-fm (8 handlers)
[GIN-debug] PUT    /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id                --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCase-fm (8 handlers)
[GIN-debug] GET    /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).CaseDeviceMapping-fm (8 handlers)
[GIN-debug] POST   /cases/:id/devices        --> go-barcode-webapp/internal/handlers.(*CaseHandler).ScanDeviceToCase-fm (8 handlers)
[GIN-debug] DELETE /cases/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*CaseHandler).RemoveDeviceFromCase-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/qr --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceQR-fm (8 handlers)
[GIN-debug] GET    /barcodes/device/:serialNo/barcode --> go-barcode-webapp/internal/handlers.(*BarcodeHandler).GenerateDeviceBarcode-fm (8 handlers)
[GIN-debug] GET    /scan                     --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJobSelection-fm (8 handlers)
[GIN-debug] GET    /scan/select              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJobSelection-fm (8 handlers)
[GIN-debug] GET    /scan/:jobId              --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanJob-fm (8 handlers)
[GIN-debug] POST   /scan/:jobId/assign       --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] DELETE /scan/:jobId/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*ScannerHandler).RemoveDevice-fm (8 handlers)
[GIN-debug] GET    /analytics                --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).Dashboard-fm (8 handlers)
[GIN-debug] GET    /analytics/revenue        --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetRevenueAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/equipment      --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).GetEquipmentAPI-fm (8 handlers)
[GIN-debug] GET    /analytics/export         --> go-barcode-webapp/internal/handlers.(*AnalyticsHandler).ExportAnalytics-fm (8 handlers)
[GIN-debug] GET    /search/global            --> go-barcode-webapp/internal/handlers.(*SearchHandler).GlobalSearch-fm (8 handlers)
[GIN-debug] POST   /search/advanced          --> go-barcode-webapp/internal/handlers.(*SearchHandler).AdvancedSearch-fm (8 handlers)
[GIN-debug] GET    /search/suggestions       --> go-barcode-webapp/internal/handlers.(*SearchHandler).SearchSuggestions-fm (8 handlers)
[GIN-debug] GET    /search/saved             --> go-barcode-webapp/internal/handlers.(*SearchHandler).SavedSearches-fm (8 handlers)
[GIN-debug] DELETE /search/saved/:id         --> go-barcode-webapp/internal/handlers.(*SearchHandler).DeleteSavedSearch-fm (8 handlers)
[GIN-debug] POST   /pwa/subscribe            --> go-barcode-webapp/internal/handlers.(*PWAHandler).SubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/unsubscribe          --> go-barcode-webapp/internal/handlers.(*PWAHandler).UnsubscribePush-fm (8 handlers)
[GIN-debug] POST   /pwa/sync                 --> go-barcode-webapp/internal/handlers.(*PWAHandler).SyncOfflineData-fm (8 handlers)
[GIN-debug] GET    /pwa/manifest             --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetOfflineManifest-fm (8 handlers)
[GIN-debug] GET    /pwa/install              --> go-barcode-webapp/internal/handlers.(*PWAHandler).InstallPrompt-fm (8 handlers)
[GIN-debug] GET    /pwa/status               --> go-barcode-webapp/internal/handlers.(*PWAHandler).GetConnectionStatus-fm (8 handlers)
[GIN-debug] GET    /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplates-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/new   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewJobTemplateForm-fm (8 handlers)
[GIN-debug] POST   /workflow/templates       --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/templates/:id/edit --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).EditJobTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /workflow/templates/:id   --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListEquipmentPackages-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/new    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).NewEquipmentPackageForm-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/debug  --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DebugPackageForm-fm (8 handlers)
[GIN-debug] POST   /workflow/packages        --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/packages/:id    --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetEquipmentPackage-fm (8 handlers)
[GIN-debug] GET    /workflow/bulk            --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkOperationsForm-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/update-status --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkUpdateDeviceStatus-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/assign-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkAssignToJob-fm (8 handlers)
[GIN-debug] POST   /workflow/bulk/generate-qr --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).BulkGenerateQRCodes-fm (8 handlers)
[GIN-debug] GET    /workflow/stats           --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetWorkflowStats-fm (8 handlers)
[GIN-debug] GET    /documents                --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocuments-fm (8 handlers)
[GIN-debug] GET    /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocumentForm-fm (8 handlers)
[GIN-debug] POST   /documents/upload         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).UploadDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/view       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ViewDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/download   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DownloadDocument-fm (8 handlers)
[GIN-debug] DELETE /documents/:id            --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).SignatureForm-fm (8 handlers)
[GIN-debug] POST   /documents/:id/sign       --> go-barcode-webapp/internal/handlers.(*DocumentHandler).AddSignature-fm (8 handlers)
[GIN-debug] GET    /documents/signatures/:id/verify --> go-barcode-webapp/internal/handlers.(*DocumentHandler).VerifySignature-fm (8 handlers)
[GIN-debug] GET    /financial                --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialDashboard-fm (8 handlers)
[GIN-debug] GET    /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/new --> go-barcode-webapp/internal/handlers.(*FinancialHandler).NewTransactionForm-fm (8 handlers)
[GIN-debug] POST   /financial/transactions   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).CreateTransaction-fm (8 handlers)
[GIN-debug] GET    /financial/transactions/:id --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetTransaction-fm (8 handlers)
[GIN-debug] PUT    /financial/transactions/:id/status --> go-barcode-webapp/internal/handlers.(*FinancialHandler).UpdateTransactionStatus-fm (8 handlers)
[GIN-debug] POST   /financial/jobs/:jobId/invoice --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GenerateInvoice-fm (8 handlers)
[GIN-debug] GET    /financial/reports        --> go-barcode-webapp/internal/handlers.(*FinancialHandler).FinancialReports-fm (8 handlers)
[GIN-debug] GET    /financial/api/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTransactions-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/revenue --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportRevenue-fm (8 handlers)
[GIN-debug] GET    /financial/api/export/tax-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ExportTaxReportCSV-fm (8 handlers)
[GIN-debug] GET    /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).ListInvoices-fm (8 handlers)
[GIN-debug] GET    /invoices/new             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).NewInvoiceForm-fm (8 handlers)
[GIN-debug] POST   /invoices                 --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/edit        --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).EditInvoiceForm-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/preview     --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).PreviewInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /invoices/:id/status      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /invoices/:id             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /invoices/:id/pdf         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GenerateInvoicePDF-fm (8 handlers)
[GIN-debug] GET    /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).ListTemplates-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/new    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).NewTemplateForm-fm (8 handlers)
[GIN-debug] POST   /invoice-templates        --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).CreateTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).EditTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).UpdateTemplate-fm (8 handlers)
[GIN-debug] DELETE /invoice-templates/:id    --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).DeleteTemplate-fm (8 handlers)
[GIN-debug] GET    /invoice-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).PreviewTemplate-fm (8 handlers)
[GIN-debug] POST   /invoice-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*InvoiceTemplateHandler).SetDefaultTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/company         --> main.setupRoutes.func5 (8 handlers)
[GIN-debug] GET    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /settings/company/api     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /settings/company/logo    --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).ListEmailTemplates-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/new --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).NewEmailTemplateForm-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).CreateEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).GetEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/edit --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).EditEmailTemplateForm-fm (8 handlers)
[GIN-debug] PUT    /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).UpdateEmailTemplate-fm (8 handlers)
[GIN-debug] DELETE /settings/email-templates/:id --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).DeleteEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /settings/email-templates/:id/preview --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).PreviewEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/set-default --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).SetDefaultEmailTemplate-fm (8 handlers)
[GIN-debug] POST   /settings/email-templates/:id/test --> go-barcode-webapp/internal/handlers.(*EmailTemplateHandler).TestEmailTemplate-fm (8 handlers)
[GIN-debug] GET    /security/roles           --> main.setupRoutes.func6 (8 handlers)
[GIN-debug] GET    /security/audit           --> main.setupRoutes.func7 (8 handlers)
[GIN-debug] GET    /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /security/api/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /security/api/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /security/api/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /security/api/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /security/api/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/definitions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissionDefinitionsAPI-fm (8 handlers)
[GIN-debug] GET    /security/api/permissions/check --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
[GIN-debug] GET    /monitoring               --> main.setupRoutes.func8 (8 handlers)
[GIN-debug] GET    /monitoring/health        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetApplicationHealth-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics       --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetSystemMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/metrics/prometheus --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ExportMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/performance   --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetPerformanceMetrics-fm (8 handlers)
[GIN-debug] GET    /monitoring/errors        --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetErrorDetails-fm (8 handlers)
[GIN-debug] POST   /monitoring/errors/:fingerprint/resolve --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).ResolveError-fm (8 handlers)
[GIN-debug] POST   /monitoring/test-error    --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).TriggerTestError-fm (8 handlers)
[GIN-debug] GET    /monitoring/logs          --> go-barcode-webapp/internal/handlers.(*MonitoringHandler).GetLogStream-fm (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId    --> main.setupRoutes.func9 (8 handlers)
[GIN-debug] GET    /mobile/scanner/:jobId/enhanced --> main.setupRoutes.func10 (8 handlers)
[GIN-debug] GET    /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).ProfileSettingsForm-fm (8 handlers)
[GIN-debug] POST   /profile/settings         --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateProfileSettings-fm (8 handlers)
[GIN-debug] GET    /profile/preferences      --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUserPreferences-fm (8 handlers)
[GIN-debug] GET    /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsers-fm (8 handlers)
[GIN-debug] POST   /users                    --> go-barcode-webapp/internal/handlers.(*AuthHandler).CreateUserWeb-fm (8 handlers)
[GIN-debug] GET    /user-management/new      --> go-barcode-webapp/internal/handlers.(*AuthHandler).NewUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/edit --> go-barcode-webapp/internal/handlers.(*AuthHandler).EditUserForm-fm (8 handlers)
[GIN-debug] GET    /user-management/:id/view --> go-barcode-webapp/internal/handlers.(*AuthHandler).GetUser-fm (8 handlers)
[GIN-debug] PUT    /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).UpdateUser-fm (8 handlers)
[GIN-debug] DELETE /user-management/:id      --> go-barcode-webapp/internal/handlers.(*AuthHandler).DeleteUser-fm (8 handlers)
[GIN-debug] GET    /users/new                --> main.setupRoutes.func11 (8 handlers)
[GIN-debug] GET    /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).ListJobsAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs              --> go-barcode-webapp/internal/handlers.(*JobHandler).CreateJobAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).GetJobAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).UpdateJobAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id          --> go-barcode-webapp/internal/handlers.(*JobHandler).DeleteJobAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).AssignDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/jobs/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*JobHandler).RemoveDeviceAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/bulk-scan --> go-barcode-webapp/internal/handlers.(*JobHandler).BulkScanDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-device --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanDevice-fm (8 handlers)
[GIN-debug] POST   /api/v1/jobs/:id/assign-case --> go-barcode-webapp/internal/handlers.(*ScannerHandler).ScanCase-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).ListDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/devices           --> go-barcode-webapp/internal/handlers.(*DeviceHandler).CreateDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetDeviceAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).UpdateDeviceAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/devices/:id       --> go-barcode-webapp/internal/handlers.(*DeviceHandler).DeleteDeviceAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/devices/available --> go-barcode-webapp/internal/handlers.(*DeviceHandler).GetAvailableDevicesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).ListCustomersAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/customers         --> go-barcode-webapp/internal/handlers.(*CustomerHandler).CreateCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).GetCustomerAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).UpdateCustomerAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/customers/:id     --> go-barcode-webapp/internal/handlers.(*CustomerHandler).DeleteCustomerAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).ListCasesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/cases             --> go-barcode-webapp/internal/handlers.(*CaseHandler).CreateCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseAPI-fm (8 handlers)
[GIN-debug] PUT    /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).UpdateCaseAPI-fm (8 handlers)
[GIN-debug] DELETE /api/v1/cases/:id         --> go-barcode-webapp/internal/handlers.(*CaseHandler).DeleteCaseAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/cases/:id/devices --> go-barcode-webapp/internal/handlers.(*CaseHandler).GetCaseDevicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/cases/:id/devices --> go-barcode-webapp/internal/handlers.(*CaseHandler).ScanDeviceToCase-fm (8 handlers)
[GIN-debug] DELETE /api/v1/cases/:id/devices/:deviceId --> go-barcode-webapp/internal/handlers.(*CaseHandler).RemoveDeviceFromCase-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).ListJobTemplatesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/most-used --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetMostUsedTemplatesAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/category/:categoryId --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetTemplatesByCategoryAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).GetJobTemplate-fm (8 handlers)
[GIN-debug] PUT    /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).UpdateJobTemplate-fm (8 handlers)
[GIN-debug] DELETE /api/v1/workflow/templates/:id --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).DeleteJobTemplate-fm (8 handlers)
[GIN-debug] POST   /api/v1/workflow/templates/:id/create-job --> go-barcode-webapp/internal/handlers.(*WorkflowHandler).CreateJobFromTemplate-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents         --> go-barcode-webapp/internal/handlers.(*DocumentHandler).ListDocumentsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/stats   --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocumentStats-fm (8 handlers)
[GIN-debug] GET    /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).GetDocument-fm (8 handlers)
[GIN-debug] DELETE /api/v1/documents/:id     --> go-barcode-webapp/internal/handlers.(*DocumentHandler).DeleteDocument-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/transactions --> go-barcode-webapp/internal/handlers.(*FinancialHandler).ListTransactionsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/stats   --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetFinancialStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/revenue-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetRevenueReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/financial/payment-report --> go-barcode-webapp/internal/handlers.(*FinancialHandler).GetPaymentReport-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/v1/invoices          --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/v1/invoices/:id/status --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/v1/invoices/:id      --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/stats    --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetProductDetails-fm (8 handlers)
[GIN-debug] GET    /api/v1/invoices/products/:productId/devices --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetDevicesByProduct-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit    --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/:id --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/v1/security/auth/users --> go-barcode-webapp/internal/handlers.(*AuthHandler).ListUsersAPI-fm (8 handlers)
[GIN-debug] GET    /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoicesAPI-fm (8 handlers)
[GIN-debug] POST   /api/invoices             --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).CreateInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoice-fm (8 handlers)
[GIN-debug] PUT    /api/invoices/:id/status  --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).UpdateInvoiceStatus-fm (8 handlers)
[GIN-debug] DELETE /api/invoices/:id         --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).DeleteInvoice-fm (8 handlers)
[GIN-debug] GET    /api/invoices/stats       --> go-barcode-webapp/internal/handlers.(*InvoiceHandlerNew).GetInvoiceStatsAPI-fm (8 handlers)
[GIN-debug] GET    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).GetCompanySettings-fm (8 handlers)
[GIN-debug] PUT    /api/company-settings     --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UpdateCompanySettings-fm (8 handlers)
[GIN-debug] POST   /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).UploadCompanyLogo-fm (8 handlers)
[GIN-debug] DELETE /api/company-settings/logo --> go-barcode-webapp/internal/handlers.(*CompanyHandler).DeleteCompanyLogo-fm (8 handlers)
[GIN-debug] GET    /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRoles-fm (8 handlers)
[GIN-debug] GET    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetRole-fm (8 handlers)
[GIN-debug] POST   /api/security/roles       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CreateRole-fm (8 handlers)
[GIN-debug] PUT    /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).UpdateRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/roles/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).DeleteRole-fm (8 handlers)
[GIN-debug] GET    /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetUserRoles-fm (8 handlers)
[GIN-debug] POST   /api/security/users/:userId/roles --> go-barcode-webapp/internal/handlers.(*SecurityHandler).AssignUserRole-fm (8 handlers)
[GIN-debug] DELETE /api/security/users/:userId/roles/:roleId --> go-barcode-webapp/internal/handlers.(*SecurityHandler).RevokeUserRole-fm (8 handlers)
[GIN-debug] GET    /api/security/audit       --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/:id   --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetAuditLog-fm (8 handlers)
[GIN-debug] GET    /api/security/audit/export --> go-barcode-webapp/internal/handlers.(*SecurityHandler).ExportAuditLogs-fm (8 handlers)
[GIN-debug] GET    /api/security/permissions --> go-barcode-webapp/internal/handlers.(*SecurityHandler).GetPermissions-fm (8 handlers)
[GIN-debug] GET    /api/security/check-permission --> go-barcode-webapp/internal/handlers.(*SecurityHandler).CheckPermission-fm (8 handlers)
2025/07/13 18:49:36 Server starting on 0.0.0.0:8080
2025/07/13 18:51:31 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: No session cookie found, redirecting to login
{"timestamp":"2025-07-13T16:51:31.829001733Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425491828816054","method":"GET","path":"/cases","status_code":303,"duration":"181.188µs","ip":"127.0.0.1","user_agent":"curl/7.88.1","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/13 18:52:13 Route Debug: GET /
{"timestamp":"2025-07-13T16:52:13.412455213Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425533412268160","method":"GET","path":"/","status_code":307,"duration":"184.729µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/13 18:52:13 Route Debug: GET /login
{"timestamp":"2025-07-13T16:52:13.429954295Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425533418738521","method":"GET","path":"/login","status_code":200,"duration":"11.214211ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/13 18:52:13 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 18:52:13 Route Debug: GET /static/images/icon-180.png
2025/07/13 18:52:13 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 18:52:13 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 18:52:13 Route Debug: GET /favicon.ico
2025/07/13 18:52:13 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 18:52:13 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T16:52:13.608534423Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425533593840790","method":"GET","path":"/favicon.ico","status_code":404,"duration":"14.286377ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 18:52:15 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/13 18:52:15 Form _method parameter: ''
2025/07/13 18:52:15 Route Debug: POST /login

2025/07/13 18:52:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[34.784ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[68.356ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc',5,'2025-07-13 19:52:16.483','2025-07-13 18:52:16.483')

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[72.025ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 18:52:16.569',`last_login`='2025-07-13 18:52:16.552' WHERE `userID` = 5
DEBUG: Login successful, session created: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 18:52:16 SLOW REQUEST: POST /login took 1.25295889s (status: 303)
{"timestamp":"2025-07-13T16:52:16.624650465Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425535371616398","method":"POST","path":"/login","status_code":303,"duration":"1.253030932s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/13 18:52:16 Route Debug: GET /
{"timestamp":"2025-07-13T16:52:16.630966264Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425536630825475","method":"GET","path":"/","status_code":307,"duration":"138.774µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 18:52:16 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.231ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:16.636' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.581ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.749ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.947ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.524ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.924ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 18:52:16 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.704ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T16:52:16.802868901Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425536635965630","method":"GET","path":"/dashboard","status_code":200,"duration":"166.900246ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 18:52:16 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 18:52:19 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.950ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:19.287' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.547ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 18:52:19 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[33.676ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 18:52:19 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[50.641ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T16:52:19.421582565Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425539287316122","method":"GET","path":"/cases","status_code":200,"duration":"134.264199ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":54779}}
2025/07/13 18:52:21 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.907ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:21.631' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.663ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:21 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:21 [32m
[0m[33m[33.914ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:52:21 [32m
[0m[33m[33.932ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:52:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.313ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.519ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:52:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.214ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:21 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:52:21.871642315Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425541631136883","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"240.501084ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:52:21 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.379ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:21.877' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.246ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:52:22 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.077ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:22 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.499ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T16:52:22.01401725Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425541877462816","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"136.548704ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 18:52:24 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.415ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:24.496' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.377ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 18:52:24 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[68.667ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T16:52:24.63466093Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425544496805652","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"137.851962ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 18:52:24 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.124ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:24.84' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.609ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:24 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:24 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.902ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:24 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:52:24.942446422Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425544840383293","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.059352ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:52:24 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.059ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:24.945' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.078ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:25 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:25 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.528ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:25 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:52:25.047864888Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425544945797711","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.062719ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:52:27 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142 [33mSLOW SQL >= 200ms
[0m[31;1m[258.260ms] [33m[rows:1][35m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:27.219' ORDER BY `sessions`.`session_id` LIMIT 1[0m

2025/07/13 18:52:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.082ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:27 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:27 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.966ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:27 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:52:27.546319017Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425547219519539","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"326.794619ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:52:28 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.075ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:28.197' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.489ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.544ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.623ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.267ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.795ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[173.027ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 18:52:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[191.323ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T16:52:28.458315366Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425548197499084","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"260.812436ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 18:52:32 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 18:52:32 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.462ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:32.352' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.786ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.532ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[69.494ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[34.157ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 18:52:32 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[33.455ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[69.073ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T16:52:32.628592028Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425552352418366","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"276.170967ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 18:52:32 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.973ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:32.635' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.170ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:32 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:32 [32m
[0m[33m[33.889ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:52:32 [32m
[0m[33m[33.922ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.193ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.324ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[169.437ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:32 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:52:32.87360784Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425552635663499","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"237.941646ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:52:32 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 18:52:32 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.730ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:32.886' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:32 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.712ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:32 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[134.642ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:32.888' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.832ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:52:33 [32m
[0m[33m[34.055ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:52:33 [32m
[0m[33m[33.857ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:52:33 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.440ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:33 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.133ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:52:33 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[169.661ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:33 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:52:33.123490527Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425552886032857","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"237.454364ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}

2025/07/13 18:52:33 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.188ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:33 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[66.503ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T16:52:33.123710531Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425552888410503","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"235.298344ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 18:52:36 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.803ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:36.204' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.208ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 18:52:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[33.917ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 18:52:36 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[50.803ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T16:52:36.336933993Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425556204477023","method":"GET","path":"/cases","status_code":200,"duration":"132.453955ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":54779}}
2025/07/13 18:52:45 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.788ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:45.142' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.031ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 18:52:45 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[33.112ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 18:52:45 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[50.025ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T16:52:45.269931367Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425565142216334","method":"GET","path":"/cases","status_code":200,"duration":"127.712308ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":54779}}
2025/07/13 18:52:47 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.567ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:47.832' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.118ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:47 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:48 [32m
[0m[33m[34.014ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:52:48 [32m
[0m[33m[33.553ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:52:48 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[101.303ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:48 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[135.063ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:52:48 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[169.062ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:48 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:52:48.068297846Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425567832191341","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"236.102928ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:52:48 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.260ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:48.085' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.617ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:52:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.117ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:52:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.224ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T16:52:48.222525511Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425568085100992","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"137.421884ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 18:52:50 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.341ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:50.678' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.116ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 18:52:50 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[68.477ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T16:52:50.815671776Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425570678290978","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"137.377802ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 18:52:51 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 18:52:51 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.194ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:51.037' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.119ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:51.041' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.251ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:51 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.744ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:51 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[32.957ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:51 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:52:51.139404557Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425571037623584","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"101.778188ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}

2025/07/13 18:52:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.608ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:51 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:52:51.142843496Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425571041092778","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"101.747993ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:52:54 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.509ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:54.643' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.169ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:52:54 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:52:54 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.370ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:52:54 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:52:54.744591696Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425574643113408","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"101.474411ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:52:55 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.791ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:52:55.714' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.687ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.790ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.802ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.302ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.842ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[171.599ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 18:52:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.201ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T16:52:55.974115831Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425575714570487","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"259.540315ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 18:53:08 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 18:53:08 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:53:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.569ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:53:08.89' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:53:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.235ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[32.997ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[66.795ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[33.419ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 18:53:09 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[33.478ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[69.980ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T16:53:09.163098108Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425588889971347","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"273.123815ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 18:53:09 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.573ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:53:09.172' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.611ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:53:09 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:53:09 [32m
[0m[33m[33.975ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:53:09 [32m
[0m[33m[33.905ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.290ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.033ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[169.462ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:53:09 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:53:09.410661105Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425589172583872","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"238.072335ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:53:09 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 18:53:09 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.379ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:53:09.414' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.786ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:53:09.418' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.131ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:53:09 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.075ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.354ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[66.154ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T16:53:09.552299802Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425589418910216","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"133.386111ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}

2025/07/13 18:53:09 [32m
[0m[33m[35.263ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:53:09 [32m
[0m[33m[33.618ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[103.402ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[138.172ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:53:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.780ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:53:09 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:53:09.655533525Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425589414846291","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"240.683958ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:55:47 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:55:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.938ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:47.79' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.920ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 18:55:47 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[34.569ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 18:55:47 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[51.769ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T16:55:47.938531159Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425747790769969","method":"GET","path":"/cases","status_code":200,"duration":"147.757182ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":55440}}
2025/07/13 18:55:47 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 18:55:47 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 18:55:48 Route Debug: GET /static/images/icon-180.png
2025/07/13 18:55:48 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 18:55:48 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 18:55:48 Route Debug: GET /favicon.ico
2025/07/13 18:55:48 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 18:55:48 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T16:55:48.169037312Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425748156853557","method":"GET","path":"/favicon.ico","status_code":404,"duration":"12.178986ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 18:55:51 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.509ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:51.281' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.028ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:55:51 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:55:51 [32m
[0m[33m[34.068ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:55:51 [32m
[0m[33m[33.885ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[103.446ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[137.846ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.525ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:55:51 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:55:51.523399848Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425751281849643","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"241.545868ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:55:51 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.797ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:51.531' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.355ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[36.043ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:55:51 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[70.901ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T16:55:51.67165426Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425751531081058","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"140.569235ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 18:55:53 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:55:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.957ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:53.639' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.223ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 18:55:53 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[69.246ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T16:55:53.777908608Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425753638953657","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"138.951355ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 18:55:53 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 18:55:53 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:55:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.201ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:53.993' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.221ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:53.995' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.131ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:55:54 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:55:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.307ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:55:54 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:55:54 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[34.176ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:55:54 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:55:54.096149704Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425753993045268","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"103.099898ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}

2025/07/13 18:55:54 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[34.655ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:55:54 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:55:54.100168114Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425753995477097","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"104.686188ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:55:56 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:55:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.048ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:56.309' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.595ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:55:56 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:55:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[34.491ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:55:56 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:55:56.412688494Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425756309034364","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"103.64863ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:55:57 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.320ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:55:57.189' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.126ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.195ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.882ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.866ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.745ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[170.480ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 18:55:57 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[188.787ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T16:55:57.446349281Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425757189164436","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"257.181959ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 18:56:00 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 18:56:00 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.684ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:00.917' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.333ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.650ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.220ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[33.449ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 18:56:01 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[34.149ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[67.529ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T16:56:01.190050028Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425760917005184","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"273.04235ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 18:56:01 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.206ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:01.397' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.015ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:56:01 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:56:01 [32m
[0m[33m[34.622ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:56:01 [32m
[0m[33m[33.140ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.789ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[137.187ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:56:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.845ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:56:01 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:56:01.639149003Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425761397645875","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"241.499922ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:56:07 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.859ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:07.985' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.232ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:56:08 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:56:08 [32m
[0m[33m[34.014ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:56:08 [32m
[0m[33m[32.925ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[100.727ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[134.531ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[167.900ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:56:08 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:56:08.221467569Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425767985091438","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"236.372665ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:56:08 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.995ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:08.23' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.059ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.080ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:56:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.706ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T16:56:08.36770975Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425768230305575","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"137.40153ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 18:56:10 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.388ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:10.06' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.608ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[69.294ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T16:56:10.196737902Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425770059997071","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"136.737957ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 18:56:10 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 18:56:10 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.417ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:10.407' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.646ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:10.407' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.414ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:56:10 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.227ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:56:10 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.915ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:56:10 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:56:10.509200448Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425770407187731","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"101.990947ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}

2025/07/13 18:56:10 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[34.343ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:56:10 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T16:56:10.509510526Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425770407822912","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"101.681853ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 18:56:11 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.278ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:11.25' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.166ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.691ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.858ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.517ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.644ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[172.178ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 18:56:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.807ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T16:56:11.510201104Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425771249968064","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"260.229452ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 18:56:15 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 18:56:15 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.068ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:15.722' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:15 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.501ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:56:15 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.471ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:56:15 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.583ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 18:56:15 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[33.385ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 18:56:15 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[33.576ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 18:56:15 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[69.263ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T16:56:15.994404842Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425775722336554","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"272.06431ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 18:56:16 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:56:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.970ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:56:16.201' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:56:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.106ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:56:16 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 18:56:16 [32m
[0m[33m[33.433ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 18:56:16 [32m
[0m[33m[33.463ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 18:56:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[100.366ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 18:56:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[134.092ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 18:56:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[167.071ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 18:56:16 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T16:56:16.437025769Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425776201515171","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"235.507151ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 18:58:55 Route Debug: GET /
{"timestamp":"2025-07-13T16:58:55.607840906Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425935607396090","method":"GET","path":"/","status_code":307,"duration":"440.824µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 18:58:55 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:58:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.913ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:58:55.615' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:58:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.045ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:58:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.823ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 18:58:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[18.376ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 18:58:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[20.461ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 18:58:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[18.431ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 18:58:55 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.676ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T16:58:55.790439984Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425935615480273","method":"GET","path":"/dashboard","status_code":200,"duration":"174.95596ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 18:59:01 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.234ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:01.961' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.011ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/13 18:59:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.232ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000882760 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:430 FinalRevenue:0xc0003949d0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:12 TotalRevenue:430}
{"timestamp":"2025-07-13T16:59:02.077525276Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425941961463531","method":"GET","path":"/jobs","status_code":200,"duration":"116.056106ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29484}}
2025/07/13 18:59:03 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.305ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:03.403' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.602ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:59:03 🚀 DeviceHandler.ListDevices() started
2025/07/13 18:59:03 ⏱️  DeviceRepository.List() started

2025/07/13 18:59:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[39.705ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/13 18:59:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[56.818ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/13 18:59:03 ⏱️  Device query took: 56.833287ms
2025/07/13 18:59:03 ⏱️  DeviceRepository.List() completed in 56.865615ms (found 20 devices)
2025/07/13 18:59:03 ⏱️  Database query took: 56.869663ms
2025/07/13 18:59:03 💾 Cached 20 devices
2025/07/13 18:59:03 ⏱️  Template rendering took: 15.678739ms
2025/07/13 18:59:03 🏁 DeviceHandler.ListDevices() completed in 72.579619ms
{"timestamp":"2025-07-13T16:59:03.545494653Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425943403553349","method":"GET","path":"/devices","status_code":200,"duration":"141.936455ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60675}}
2025/07/13 18:59:04 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.427ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:04.177' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[36.081ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Customer Handler: All query params: map[]
DEBUG Customer Handler: Raw search parameter: ''
DEBUG Customer Handler: Final params: SearchTerm=''

2025/07/13 18:59:04 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[19.054ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
DEBUG: Found 53 customers with search term ''
{"timestamp":"2025-07-13T16:59:04.288090793Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425944177834607","method":"GET","path":"/customers","status_code":200,"duration":"110.252579ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":168094}}
2025/07/13 18:59:05 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.818ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:05.473' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.490ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 18:59:05 🚀 DeviceHandler.ListDevices() started
2025/07/13 18:59:05 ⚡ Using cached devices (20 items)
2025/07/13 18:59:05 ⏱️  Template rendering took: 15.390351ms
2025/07/13 18:59:05 🏁 DeviceHandler.ListDevices() completed in 15.436006ms
{"timestamp":"2025-07-13T16:59:05.558809426Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425945473663099","method":"GET","path":"/devices","status_code":200,"duration":"85.141918ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60675}}
2025/07/13 18:59:06 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.497ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:06.01' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.142ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/13 18:59:06 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.325ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000a4adc0 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:430 FinalRevenue:0xc0003b6ec0 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:12 TotalRevenue:430}
{"timestamp":"2025-07-13T16:59:06.108457692Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425946010250825","method":"GET","path":"/jobs","status_code":200,"duration":"98.204182ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29484}}
2025/07/13 18:59:08 Route Debug: GET /
{"timestamp":"2025-07-13T16:59:08.417611623Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425948417374649","method":"GET","path":"/","status_code":307,"duration":"233.308µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 18:59:08 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.122ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:08.425' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.112ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.692ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 18:59:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.975ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 18:59:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.971ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 18:59:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.502ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 18:59:08 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.126ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T16:59:08.594247128Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425948425747925","method":"GET","path":"/dashboard","status_code":200,"duration":"168.494444ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 18:59:09 Route Debug: GET /scan
DEBUG: AuthMiddleware called for URL: /scan
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.896ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:09.429' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.136ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[34.236ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/13 18:59:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[34.690ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)

2025/07/13 18:59:09 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.674ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/13 18:59:09 ⏱️  DeviceRepository.List() started

2025/07/13 18:59:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.484ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/13 18:59:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.878ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/13 18:59:09 ⏱️  Device query took: 51.89259ms
2025/07/13 18:59:09 ⏱️  DeviceRepository.List() completed in 51.918126ms (found 20 devices)
{"timestamp":"2025-07-13T16:59:09.684260992Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425949429798589","method":"GET","path":"/scan","status_code":200,"duration":"254.458887ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18601}}
2025/07/13 18:59:11 Route Debug: GET /scan/1004
DEBUG: AuthMiddleware called for URL: /scan/1004
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.608ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:11.564' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.137ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[34.074ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/13 18:59:11 [32m
[0m[33m[33.945ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[68.410ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[102.391ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE `jobdevices`.`jobID` = 1004

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25
[0m[33m[33.731ms] [34;1m[rows:1][0m SELECT * FROM `status` WHERE `status`.`statusID` = 1001

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:25 [33mSLOW SQL >= 200ms
[0m[31;1m[204.562ms] [33m[rows:1][35m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 1004 ORDER BY `jobs`.`jobID` LIMIT 1[0m
🔧 DEBUG JobRepo.GetByID: Loaded job 1004 with description: 'Test Auftrag
'

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[33.032ms] [34;1m[rows:4][0m SELECT * FROM `products` WHERE `products`.`productID` IN (10,1,3,2)

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[67.277ms] [34;1m[rows:12][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` IN ('MHD1001','MHD1002','MHD1003','MHD1004','SUB1001','SUB1002','SUB1003','SUB1004','SUB2001','SUB2002','TOP1001','TOP1002')

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:168
[0m[33m[100.908ms] [34;1m[rows:12][0m SELECT * FROM `jobdevices` WHERE jobID = 1004

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[33.714ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 18:59:11 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[50.987ms] [34;1m[rows:5][0m SELECT * FROM `cases`
{"timestamp":"2025-07-13T16:59:11.998068966Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425951564179912","method":"GET","path":"/scan/1004","status_code":200,"duration":"433.886319ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":84420}}
2025/07/13 18:59:16 Route Debug: GET /
{"timestamp":"2025-07-13T16:59:16.006445584Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425956006257871","method":"GET","path":"/","status_code":307,"duration":"183.826µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 18:59:16 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.927ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:16.023' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.657ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.704ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 18:59:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.045ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 18:59:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.617ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 18:59:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.837ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 18:59:16 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.624ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T16:59:16.18789796Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425956023124453","method":"GET","path":"/dashboard","status_code":200,"duration":"164.76915ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 18:59:28 Route Debug: GET /invoices
DEBUG: AuthMiddleware called for URL: /invoices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.241ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:28.407' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.651ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:478
[0m[33m[17.750ms] [34;1m[rows:1][0m SELECT count(*) FROM `invoices`

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:495
[0m[33m[34.620ms] [34;1m[rows:1][0m SELECT * FROM `customers` WHERE `customers`.`customerID` = 52

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:495
[0m[33m[33.901ms] [34;1m[rows:0][0m SELECT * FROM `jobs` WHERE `jobs`.`jobID` = 30

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:495
[0m[33m[33.934ms] [34;1m[rows:0][0m SELECT * FROM `invoice_templates` WHERE `invoice_templates`.`template_id` = 30

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/invoice_repository.go:495
[0m[33m[119.601ms] [34;1m[rows:1][0m SELECT * FROM `invoices` ORDER BY issue_date DESC, created_at DESC LIMIT 20
{"timestamp":"2025-07-13T16:59:28.627809006Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425968407011762","method":"GET","path":"/invoices","status_code":200,"duration":"220.79543ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":30297}}
2025/07/13 18:59:28 Route Debug: GET /static/sw.js
2025/07/13 18:59:28 Route Debug: GET /static/css/app-new.css
2025/07/13 18:59:28 NotFoundHandler: 404 for path: /static/css/app-new.css
2025/07/13 18:59:28 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 18:59:28 Route Debug: GET /static/js/app.js
2025/07/13 18:59:28 NotFoundHandler: 404 for path: /static/js/app.js
2025/07/13 18:59:28 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 18:59:28 Route Debug: GET /static/images/icon-192.png
2025/07/13 18:59:28 NotFoundHandler: 404 for path: /static/images/icon-192.png
2025/07/13 18:59:28 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 18:59:28 Route Debug: GET /static/images/icon-512.png
2025/07/13 18:59:28 NotFoundHandler: 404 for path: /static/images/icon-512.png
2025/07/13 18:59:28 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 18:59:28 Route Debug: GET /
2025/07/13 18:59:28 Route Debug: GET /analytics
DEBUG: AuthMiddleware called for URL: /analytics
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
{"timestamp":"2025-07-13T16:59:28.74883372Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425968747124283","method":"GET","path":"/","status_code":307,"duration":"1.70647ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 18:59:28 Route Debug: GET /scan/select
DEBUG: AuthMiddleware called for URL: /scan/select
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 18:59:28 Route Debug: GET /manifest.json
{"timestamp":"2025-07-13T16:59:28.762843526Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425968762438626","method":"GET","path":"/manifest.json","status_code":200,"duration":"402.406µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3182}}

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.374ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:28.747' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.367ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:28.755' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.376ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[37.126ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:83
[0m[33m[33.368ms] [34;1m[rows:-][0m SELECT COALESCE(SUM(final_revenue), 0) as total, COUNT(*) as count, COALESCE(AVG(final_revenue), 0) as avg FROM `jobs` WHERE endDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817' AND final_revenue IS NOT NULL

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[33.912ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:94
[0m[33m[33.451ms] [34;1m[rows:-][0m SELECT COALESCE(SUM(final_revenue), 0) as total, COUNT(*) as count FROM `jobs` WHERE endDate BETWEEN '2025-05-14 18:59:28.817' AND '2025-06-13 18:59:28.817' AND final_revenue IS NOT NULL

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[33.005ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)
2025/07/13 18:59:28 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:121
[0m[33m[16.945ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:124
[0m[33m[33.270ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices` WHERE status IN ('checked out')

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.327ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/13 18:59:28 ⏱️  DeviceRepository.List() started

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:127
[0m[33m[33.609ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices` WHERE status = 'maintance'

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.752ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/13 18:59:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[52.480ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/13 18:59:28 ⏱️  Device query took: 52.503928ms
2025/07/13 18:59:28 ⏱️  DeviceRepository.List() completed in 52.542078ms (found 20 devices)

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:142
[0m[33m[40.634ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(j.final_revenue), 0)
		FROM jobs j
		INNER JOIN jobdevices jd ON j.jobID = jd.jobID
		WHERE j.endDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817'
	
{"timestamp":"2025-07-13T16:59:29.010742284Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425968755612770","method":"GET","path":"/scan/select","status_code":200,"duration":"255.126187ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18601}}

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:164
[0m[33m[16.557ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[143.057ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 18:59:28.899' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:171
[0m[33m[33.571ms] [34;1m[rows:1][0m SELECT COUNT(DISTINCT(`customers`.`customerID`)) FROM `customers` INNER JOIN jobs ON customers.customerID = jobs.customerID WHERE jobs.startDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817'

2025/07/13 18:59:29 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:176 [35;1mError 1054 (42S22): Unknown column 'created_at' in 'where clause'
[0m[33m[16.513ms] [34;1m[rows:0][0m SELECT count(*) FROM `customers` WHERE created_at BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817'

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.631ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[17.327ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.494ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:200
[0m[33m[33.927ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs` WHERE endDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817' AND statusID IN (3,4)

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.483ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:206
[0m[33m[33.045ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs` WHERE startDate <= '2025-07-13 18:59:28.817' AND (endDate >= '2025-06-13 18:59:28.817' OR endDate IS NULL) AND statusID IN (1,2)

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[16.926ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.213ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:211
[0m[33m[42.368ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs` WHERE endDate < '2025-07-13 18:59:29.143' AND statusID NOT IN (3,4)
{"timestamp":"2025-07-13T16:59:29.186640189Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425968899309855","method":"GET","path":"/dashboard","status_code":200,"duration":"287.32728ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}

2025/07/13 18:59:29 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:218 [35;1msql: Scan error on column index 0, name "AVG(DATEDIFF(endDate, startDate))": converting NULL to float64 is unsupported
[0m[33m[33.405ms] [34;1m[rows:1][0m SELECT AVG(DATEDIFF(endDate, startDate)) FROM `jobs` WHERE endDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817' AND startDate IS NOT NULL AND endDate IS NOT NULL

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:246
[0m[33m[33.971ms] [34;1m[rows:-][0m 
		SELECT 
			d.deviceID,
			p.name as product_name,
			COUNT(jd.jobID) as rental_count,
			COALESCE(SUM(j.final_revenue), 0) as total_revenue,
			COALESCE(AVG(j.final_revenue), 0) as avg_revenue
		FROM devices d
		LEFT JOIN products p ON d.productID = p.productID
		LEFT JOIN jobdevices jd ON d.deviceID = jd.deviceID
		LEFT JOIN jobs j ON jd.jobID = j.jobID AND j.endDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817'
		GROUP BY d.deviceID, p.name
		ORDER BY total_revenue DESC
		LIMIT 10
	

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:292
[0m[33m[34.447ms] [34;1m[rows:-][0m 
		SELECT 
			c.customerID,
			COALESCE(c.companyname, CONCAT(c.firstname, ' ', c.lastname)) as customer_name,
			COUNT(j.jobID) as job_count,
			COALESCE(SUM(j.final_revenue), 0) as total_revenue,
			COALESCE(AVG(j.final_revenue), 0) as avg_revenue
		FROM customers c
		LEFT JOIN jobs j ON c.customerID = j.customerID 
			AND j.endDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817'
			AND j.final_revenue IS NOT NULL
		WHERE c.customerID IS NOT NULL
		GROUP BY c.customerID, c.companyname, c.firstname, c.lastname
		HAVING total_revenue > 0
		ORDER BY total_revenue DESC
		LIMIT 10
	

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:334
[0m[33m[17.357ms] [34;1m[rows:-][0m 
		SELECT 
			p.name as product_name,
			COUNT(d.deviceID) as total_devices,
			SUM(CASE WHEN d.status = 'checked out' THEN 1 ELSE 0 END) as active_devices,
			ROUND((SUM(CASE WHEN d.status = 'checked out' THEN 1 ELSE 0 END) * 100.0) / COUNT(d.deviceID), 2) as utilization_rate
		FROM products p
		LEFT JOIN devices d ON p.productID = d.productID
		GROUP BY p.productID, p.name
		HAVING COUNT(d.deviceID) > 0
		ORDER BY utilization_rate DESC
	

2025/07/13 18:59:29 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:373
[0m[33m[34.058ms] [34;1m[rows:-][0m 
		SELECT 
			DATE(j.endDate) as date,
			COALESCE(SUM(j.final_revenue), 0) as revenue,
			COUNT(j.jobID) as jobs
		FROM jobs j
		WHERE j.endDate BETWEEN '2025-06-13 18:59:28.817' AND '2025-07-13 18:59:28.817'
		GROUP BY DATE(j.endDate)
		ORDER BY date
	
2025/07/13 18:59:29 SLOW REQUEST: GET /analytics took 604.030621ms (status: 200)
{"timestamp":"2025-07-13T16:59:29.35156814Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752425968747170167","method":"GET","path":"/analytics","status_code":200,"duration":"604.38552ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":7795,"errors":"Error #01: template: analytics_dashboard.html:175:51: executing \"analytics_dashboard.html\" at \u003cgt .analytics.revenue.revenueGrowth 0\u003e: error calling gt: incompatible types for comparison\n"}}
2025/07/13 19:00:19 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:19 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.277ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:19.947' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.556ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:00:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.863ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:00:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.505ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:00:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.577ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:00:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.511ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:00:20 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.586ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:00:20.109868081Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426019947183473","method":"GET","path":"/dashboard","status_code":200,"duration":"162.682133ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:00:20 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:00:20 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 19:00:20 Route Debug: GET /static/images/icon-180.png
2025/07/13 19:00:20 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 19:00:20 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:00:20 Route Debug: GET /favicon.ico
2025/07/13 19:00:20 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:00:20 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:00:20.280811925Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426020267371530","method":"GET","path":"/favicon.ico","status_code":404,"duration":"13.434093ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:00:21 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.352ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:21.867' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.626ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:00:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.778ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:00:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[17.073ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:00:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.996ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:00:22 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[18.071ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:00:22 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.533ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:00:22.029079432Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426021867147862","method":"GET","path":"/dashboard","status_code":200,"duration":"161.927823ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:00:22 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:00:22 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 19:00:22 Route Debug: GET /static/images/icon-180.png
2025/07/13 19:00:22 Route Debug: GET /favicon.ico
2025/07/13 19:00:22 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:00:22 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:00:22 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 19:00:22 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:00:22.202418407Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426022190500087","method":"GET","path":"/favicon.ico","status_code":404,"duration":"11.9129ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:00:23 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.463ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:23.939' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.120ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:24 🚀 DeviceHandler.ListDevices() started
2025/07/13 19:00:24 ⏱️  DeviceRepository.List() started

2025/07/13 19:00:24 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.214ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/13 19:00:24 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.379ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/13 19:00:24 ⏱️  Device query took: 51.393859ms
2025/07/13 19:00:24 ⏱️  DeviceRepository.List() completed in 51.416791ms (found 20 devices)
2025/07/13 19:00:24 ⏱️  Database query took: 51.42218ms
2025/07/13 19:00:24 💾 Cached 20 devices
2025/07/13 19:00:24 ⏱️  Template rendering took: 10.023705ms
2025/07/13 19:00:24 🏁 DeviceHandler.ListDevices() completed in 61.477613ms
{"timestamp":"2025-07-13T17:00:24.070090355Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426023939624712","method":"GET","path":"/devices","status_code":200,"duration":"130.461796ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60675}}
2025/07/13 19:00:25 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.551ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:25.897' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.115ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:00:26 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[34.256ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:00:26 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[51.239ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:00:26.028631628Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426025897732132","method":"GET","path":"/cases","status_code":200,"duration":"130.892834ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60827}}
2025/07/13 19:00:27 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.068ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:27.966' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.066ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:28 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:00:28 [32m
[0m[33m[34.016ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:00:28 [32m
[0m[33m[33.421ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[103.429ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[137.738ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.768ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:00:28 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:00:28.206914124Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426027966558784","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"240.351152ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:00:28 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.036ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:28.231' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.683ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.035ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:00:28 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.729ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:00:28.367730292Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426028230938608","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"136.78917ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:00:30 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.581ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:30.212' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.692ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[140.610ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T17:00:30.421792138Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426030212396878","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"209.39006ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 19:00:30 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc
2025/07/13 19:00:30 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.279ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:30.628' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.538ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:30.628' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.179ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:30 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.243ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:30 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.730ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:00:30 GetCaseDevicesAPI: Found 0 devices for case 1004

2025/07/13 19:00:30 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[34.049ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:00:30 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:00:30.731500154Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426030628580997","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.91535ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
{"timestamp":"2025-07-13T17:00:30.731667109Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426030628484922","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"103.177809ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:00:33 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.445ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:33.487' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.104ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:33 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:00:33 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.960ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:00:33 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:00:33.590278816Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426033487372775","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.902625ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:00:34 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.381ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:34.142' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.673ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.991ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.244ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.995ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.820ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[172.182ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:00:34 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.420ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:00:34.401255925Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426034142604669","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"258.647769ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:00:39 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 19:00:39 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.015ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:39.249' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.173ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.024ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.648ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[32.922ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 19:00:39 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[33.462ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[68.767ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T17:00:39.520830718Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426039249245404","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"271.582799ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 19:00:39 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.507ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:39.727' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.120ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:39 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:00:39 [32m
[0m[33m[33.958ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:00:39 [32m
[0m[33m[33.877ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.271ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[137.047ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:00:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.772ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:00:39 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:00:39.966947579Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426039727198318","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"239.745945ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:00:39 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc

2025/07/13 19:00:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.209ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '435cecf5e6e5b345ab9bc22d6465deec158628e006aff9ac718927eec11d2fbc' AND expires_at > '2025-07-13 19:00:39.97' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.207ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:40 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:00:40 [32m
[0m[33m[33.968ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:00:40 [32m
[0m[33m[33.390ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:00:40 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[101.219ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:00:40 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.332ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:00:40 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.918ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:00:40 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:00:40.210081822Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426039970372774","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"239.705912ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:00:52 Route Debug: GET /
{"timestamp":"2025-07-13T17:00:52.695328084Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426052695152516","method":"GET","path":"/","status_code":307,"duration":"171.799µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/13 19:00:52 Route Debug: GET /login
{"timestamp":"2025-07-13T17:00:52.714874474Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426052703990230","method":"GET","path":"/login","status_code":200,"duration":"10.882389ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/13 19:00:52 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:00:52 Route Debug: GET /static/images/icon-180.png
2025/07/13 19:00:52 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 19:00:52 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:00:52 Route Debug: GET /favicon.ico
2025/07/13 19:00:52 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:00:52 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:00:52.92209575Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426052908825434","method":"GET","path":"/favicon.ico","status_code":404,"duration":"13.266176ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:00:54 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/13 19:00:54 Form _method parameter: ''
2025/07/13 19:00:54 Route Debug: POST /login

2025/07/13 19:00:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[34.968ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/13 19:00:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[71.833ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc',5,'2025-07-13 20:00:55.893','2025-07-13 19:00:55.893')

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[72.628ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:00:55.982',`last_login`='2025-07-13 19:00:55.965' WHERE `userID` = 5
DEBUG: Login successful, session created: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc
2025/07/13 19:00:56 SLOW REQUEST: POST /login took 1.265443092s (status: 303)
{"timestamp":"2025-07-13T17:00:56.038009853Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426054772495593","method":"POST","path":"/login","status_code":303,"duration":"1.265511304s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/13 19:00:56 Route Debug: GET /
{"timestamp":"2025-07-13T17:00:56.052862956Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426056052682226","method":"GET","path":"/","status_code":307,"duration":"177.102µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 19:00:56 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.305ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:00:56.086' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.728ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.994ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.602ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.466ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.419ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:00:56 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[21.357ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:00:56.258362187Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426056086639833","method":"GET","path":"/dashboard","status_code":200,"duration":"171.719077ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:00:56 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 19:00:57 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:00:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.957ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:00:57.05' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.231ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:00:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[33.961ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:00:57 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[51.046ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:00:57.185143214Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426057050110832","method":"GET","path":"/cases","status_code":200,"duration":"135.029206ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60827}}
2025/07/13 19:00:59 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.041ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:00:59.152' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.664ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:00:59 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:00:59 [32m
[0m[33m[34.985ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:00:59 [32m
[0m[33m[38.584ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[108.077ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[141.922ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[175.364ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:00:59 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:00:59.397195007Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426059152677529","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"244.513909ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:00:59 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.615ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:00:59.412' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.080ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.958ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:00:59 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.690ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:00:59.546869566Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426059412136664","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"134.729995ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:01:01 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.178ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:01.041' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.172ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[68.835ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T17:01:01.179089239Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426061041527530","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"137.558482ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 19:01:01 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.295ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:01.385' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.174ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:01:01 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.783ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:01:01 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:01:01.490340641Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426061385674170","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"104.662792ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:01:01 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.647ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:01.494' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.704ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:01:01 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:01:01 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.802ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:01:01 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:01:01.596605382Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426061494018867","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.583468ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:01:03 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:01:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.363ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:03.217' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.116ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:01:03 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:01:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.974ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:01:03 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:01:03.320192849Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426063217317907","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.870723ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:01:04 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.081ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:04.009' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.028ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.443ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.809ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.020ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.046ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[172.078ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:01:04 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.564ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:01:04.269217304Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426064009583764","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"259.630785ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:01:07 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 19:01:07 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:01:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.780ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:07.69' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.234ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:01:07 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.343ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:01:07 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[69.006ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 19:01:07 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[34.105ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 19:01:07 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[35.392ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 19:01:07 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[70.515ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T17:01:07.968001496Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426067689779469","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"278.217797ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 19:01:08 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc
2025/07/13 19:01:08 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.488ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:08.178' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.234ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:01:08.181' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.748ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:01:08 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.204ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:01:08 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:01:08 [32m
[0m[33m[34.346ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:01:08 [32m
[0m[33m[34.925ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:01:08 [32m
[0m[33m[33.281ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.403ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:01:08 [32m
[0m[33m[33.508ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.471ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.220ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:01:08 GetCaseDevicesAPI: Found 1 devices for case 1004

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.283ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5
{"timestamp":"2025-07-13T17:01:08.416029081Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426068178128350","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"237.897223ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[135.207ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:01:08 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[168.164ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:01:08 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:01:08.416215934Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426068181364138","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"234.847477ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:02:03 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.151ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:03.577' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.691ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:03 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:03 [32m
[0m[33m[34.011ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:02:03 [32m
[0m[33m[34.184ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.367ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.516ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.010ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:03 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:02:03.815801436Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426123577472110","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"238.322835ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:02:03 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.250ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:03.823' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.876ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.984ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:02:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[70.529ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:02:03.963581156Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426123823496899","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"140.081102ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:02:05 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.330ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:05.776' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.993ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 19:02:05 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[70.194ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T17:02:05.916251703Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426125776151771","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"140.095886ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 19:02:06 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.193ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:06.149' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.165ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:06 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[35.196ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:06 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:02:06.253031625Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426126149091771","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"103.936758ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:02:06 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.240ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:06.261' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.134ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:06 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.015ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:06 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:02:06.36311382Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426126261267055","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"101.842508ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:02:10 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.514ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:10.022' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.947ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:10 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.799ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:10 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:02:10.125557075Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426130022850727","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.701059ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:02:10 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.049ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:10.769' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.558ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.273ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.166ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:02:10 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[35.495ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:02:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.662ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:02:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[174.037ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:02:11 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[193.418ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:02:11.032219416Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426130769123311","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"263.092219ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:02:12 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:12 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.094ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:12.451' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:12 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.748ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:12 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:12 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[32.983ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:12 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:02:12.553111307Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426132451855963","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"101.251809ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:02:13 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[59.098ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:13.061' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.179ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.850ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.437ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.790ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.910ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[170.655ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:02:13 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[188.761ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:02:13.344424871Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426133061543710","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"282.876874ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:02:17 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 19:02:17 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.141ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:17.199' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.620ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.288ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.864ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[33.803ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 19:02:17 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[34.142ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[69.315ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T17:02:17.473037595Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426137199468383","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"273.564805ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 19:02:17 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.231ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:17.722' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.166ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:17 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:17 [32m
[0m[33m[34.085ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:02:17 [32m
[0m[33m[33.852ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.346ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.896ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:02:17 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.869ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:17 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:02:17.963335354Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426137722675690","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"240.654445ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:02:17 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.985ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:17.969' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.320ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:18 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:18 [32m
[0m[33m[32.936ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:02:18 [32m
[0m[33m[33.045ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:02:18 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[101.436ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:02:18 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[135.016ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:02:18 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[168.859ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:18 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:02:18.209788116Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426137969188360","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"240.59641ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:02:21 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.109ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:21.784' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.423ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:02:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[34.480ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:02:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[51.329ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:02:21.916223675Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426141784107599","method":"GET","path":"/cases","status_code":200,"duration":"132.113441ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60827}}
2025/07/13 19:02:23 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[40.611ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:23.732' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.199ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:23 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:23 [32m
[0m[33m[33.373ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:02:23 [32m
[0m[33m[33.048ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:02:23 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[101.117ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:02:23 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[135.564ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:02:23 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[169.466ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:23 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:02:23.977121149Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426143732430423","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"244.68689ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:02:24 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.969ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:24.005' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.012ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:02:24 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.606ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:02:24 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.161ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:02:24.141161875Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426144005583632","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"135.575899ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:02:27 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.526ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:27.857' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:27 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.156ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 19:02:28 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[73.930ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T17:02:28.000210134Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426147857147744","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"143.058394ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 19:02:28 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.648ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:28.208' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.101ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:28 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:28 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.934ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:28 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:02:28.311466793Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426148208327023","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"103.135894ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:02:28 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:02:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.311ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:02:28.314' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:02:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.117ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:02:28 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:02:28 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.910ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:02:28 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:02:28.417697171Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426148314911753","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.780409ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:04:05 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:04:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.643ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:05.881' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.947ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:04:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[33.538ms] [34;1m[rows:17][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:04:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[50.511ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:04:06.015410428Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426245881648605","method":"GET","path":"/cases","status_code":200,"duration":"133.75884ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":61996}}
2025/07/13 19:04:06 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:04:06 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 19:04:06 Route Debug: GET /static/images/icon-180.png
2025/07/13 19:04:06 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 19:04:06 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:04:06 Route Debug: GET /favicon.ico
2025/07/13 19:04:06 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:04:06 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:04:06.234094925Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426246217936355","method":"GET","path":"/favicon.ico","status_code":404,"duration":"16.152242ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:04:07 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:04:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.892ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:07.724' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:07 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.348ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:04:07 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:04:07 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.944ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:04:07 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:04:07.826560837Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426247723991498","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.566224ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:04:08 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.171ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:08.627' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.218ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.105ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.594ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.791ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.956ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[171.998ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:04:08 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.472ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:04:08.887631863Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426248627667192","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"259.960005ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:04:13 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 19:04:13 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:04:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.152ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:13.925' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:13 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.703ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.083ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.785ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[34.002ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 19:04:14 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[34.315ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[75.217ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T17:04:14.207342338Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426253925392227","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"281.946735ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 19:04:14 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc
2025/07/13 19:04:14 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.935ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:14.446' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.156ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:14.447' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.940ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:04:14 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.231ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.209ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.839ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:04:14 [32m
[0m[33m[34.122ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.368ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:04:14 [32m
[0m[33m[33.788ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.406ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.293ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[169.614ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:04:14 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:04:14.684390818Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426254447293101","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"237.094123ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.032ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[170.227ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:04:14 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[189.318ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:04:14.70487702Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426254446176517","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"258.696467ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:04:21 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.600ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:21.339' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.165ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:04:21 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:04:21 [32m
[0m[33m[34.318ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:04:21 [32m
[0m[33m[34.040ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[104.047ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[137.884ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.916ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:04:21 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:04:21.579379792Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426261339261470","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"240.114077ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:04:21 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: 1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.777ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '1aaeb861f13bb93f5028b7afbd94610af0aaf14df427a2654f00ff137a152bcc' AND expires_at > '2025-07-13 19:04:21.585' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.559ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.177ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:04:21 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.264ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:04:21.721736395Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426261585808794","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"135.924387ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:07:01 Route Debug: GET /
{"timestamp":"2025-07-13T17:07:01.608640402Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426421608375058","method":"GET","path":"/","status_code":307,"duration":"261.256µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/13 19:07:01 Route Debug: GET /login
{"timestamp":"2025-07-13T17:07:01.624531608Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426421616424969","method":"GET","path":"/login","status_code":200,"duration":"8.104675ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/13 19:07:01 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:07:01 Route Debug: GET /static/images/icon-180.png
2025/07/13 19:07:01 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 19:07:01 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:07:01 Route Debug: GET /favicon.ico
2025/07/13 19:07:01 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:07:01 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:07:01.807212039Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426421794271842","method":"GET","path":"/favicon.ico","status_code":404,"duration":"12.936219ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:07:03 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/13 19:07:03 Form _method parameter: ''
2025/07/13 19:07:03 Route Debug: POST /login

2025/07/13 19:07:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[34.806ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/13 19:07:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[68.695ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665',5,'2025-07-13 20:07:04.86','2025-07-13 19:07:04.86')

2025/07/13 19:07:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[70.117ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:07:04.946',`last_login`='2025-07-13 19:07:04.929' WHERE `userID` = 5
DEBUG: Login successful, session created: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665
2025/07/13 19:07:04 SLOW REQUEST: POST /login took 1.198980098s (status: 303)
{"timestamp":"2025-07-13T17:07:04.999372033Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426423800326689","method":"POST","path":"/login","status_code":303,"duration":"1.199042849s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/13 19:07:05 Route Debug: GET /
{"timestamp":"2025-07-13T17:07:05.006020429Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426425005834681","method":"GET","path":"/","status_code":307,"duration":"182.11µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 19:07:05 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.055ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:05.012' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.508ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:07:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.696ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:07:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.470ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:07:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.053ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:07:05 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.429ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:07:05 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.640ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:07:05.176260345Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426425011965988","method":"GET","path":"/dashboard","status_code":200,"duration":"164.29078ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:07:05 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 19:07:06 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.310ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:06.625' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.082ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:07:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[34.133ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:07:06 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[51.126ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:07:06.755960603Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426426625646256","method":"GET","path":"/cases","status_code":200,"duration":"130.311712ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":62947}}
2025/07/13 19:07:08 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.452ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:08.927' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:08 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.090ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:07:08 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:07:09 [32m
[0m[33m[33.554ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:07:09 [32m
[0m[33m[33.468ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:07:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.391ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:07:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.779ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:07:09 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.256ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:07:09 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:07:09.167467944Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426428927269364","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"240.1949ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:07:09 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.053ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:09.173' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:09 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.562ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:07:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.609ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:07:09 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.815ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:07:09.309440612Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426429173674290","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"135.763143ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:07:13 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.803ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:13.966' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:14 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.631ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:07:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[33.632ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:07:14 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[50.554ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:07:14.0957879Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426433966066931","method":"GET","path":"/cases","status_code":200,"duration":"129.71818ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":62947}}
2025/07/13 19:07:16 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.433ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:16.296' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.177ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:07:16 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:07:16 [32m
[0m[33m[33.504ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:07:16 [32m
[0m[33m[33.512ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[101.430ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[134.720ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[168.733ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:07:16 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:07:16.533070511Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426436296379303","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"236.687367ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:07:16 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.158ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:16.544' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.174ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.106ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:07:16 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.754ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:07:16.681186412Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426436544754769","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"136.428685ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:07:20 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.872ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:20.169' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.132ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[68.918ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T17:07:20.306729652Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426440169386953","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"137.339751ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 19:07:20 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665
2025/07/13 19:07:20 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.730ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:20.517' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.957ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:20.519' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.671ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:07:20 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.436ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:07:20 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.945ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:07:20 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:07:20.621568567Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426440517653313","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"103.909457ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}

2025/07/13 19:07:20 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.345ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:07:20 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:07:20.621884173Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426440519777423","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.102618ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:07:24 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.487ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:24.887' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:24 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.920ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:07:24 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:07:24 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[33.538ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:07:24 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:07:24.98998426Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426444887603624","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"102.376324ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:07:25 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.593ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:25.638' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.190ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.641ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.848ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.311ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.484ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[173.835ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:07:25 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[192.796ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:07:25.90078053Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426445638750439","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"262.025809ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:07:30 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 19:07:30 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.127ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:30.967' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.458ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[34.142ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.268ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[33.897ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 19:07:31 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[34.119ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[69.008ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T17:07:31.242052284Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426450967397092","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"274.651462ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 19:07:31 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665
2025/07/13 19:07:31 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.140ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:31.461' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.613ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'bde4b888baf9c9fd5b983cdd083d0cabcc69ae931a8e324a0993c6c94a016665' AND expires_at > '2025-07-13 19:07:31.465' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.268ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.206ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:07:31 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.441ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.728ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:07:31 [32m
[0m[33m[33.667ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.836ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:07:31 [32m
[0m[33m[33.895ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[101.541ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[135.308ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[169.519ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:07:31 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:07:31.70358277Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426451464972320","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"238.606871ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.116ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[172.249ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:07:31 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[191.064ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:07:31.721760839Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426451461452170","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"260.304869ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:11:36 Route Debug: GET /
{"timestamp":"2025-07-13T17:11:36.45905185Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426696458809659","method":"GET","path":"/","status_code":307,"duration":"239.101µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":42}}
2025/07/13 19:11:36 Route Debug: GET /login
{"timestamp":"2025-07-13T17:11:36.475508128Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426696465370770","method":"GET","path":"/login","status_code":200,"duration":"10.134207ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/13 19:11:36 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:11:36 Route Debug: GET /static/images/icon-180.png
2025/07/13 19:11:36 Route Debug: GET /favicon.ico
2025/07/13 19:11:36 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:11:36 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:11:36 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 19:11:36 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:11:36.646259274Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426696632965392","method":"GET","path":"/favicon.ico","status_code":404,"duration":"13.289851ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:11:38 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/13 19:11:38 Form _method parameter: ''
2025/07/13 19:11:38 Route Debug: POST /login

2025/07/13 19:11:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[33.479ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/13 19:11:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[69.171ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7',5,'2025-07-13 20:11:39.91','2025-07-13 19:11:39.91')

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[69.037ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:11:39.997',`last_login`='2025-07-13 19:11:39.979' WHERE `userID` = 5
DEBUG: Login successful, session created: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7
2025/07/13 19:11:40 SLOW REQUEST: POST /login took 1.222643296s (status: 303)
{"timestamp":"2025-07-13T17:11:40.048747822Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426698826023305","method":"POST","path":"/login","status_code":303,"duration":"1.222721487s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":-1}}
2025/07/13 19:11:40 Route Debug: GET /
{"timestamp":"2025-07-13T17:11:40.07602268Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426700075873889","method":"GET","path":"/","status_code":307,"duration":"146.091µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 19:11:40 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.192ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:40.091' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.634ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.758ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.913ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.426ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.473ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:11:40 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.573ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:11:40.254183881Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426700090968941","method":"GET","path":"/dashboard","status_code":200,"duration":"163.212679ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:11:40 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 19:11:41 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.639ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:41.293' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:41 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.673ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:11:41 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[34.129ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:11:41 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[51.067ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:11:41.427822056Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426701293232181","method":"GET","path":"/cases","status_code":200,"duration":"134.586904ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":61089}}
2025/07/13 19:11:43 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.839ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:43.128' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.547ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:11:43 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:11:43 [32m
[0m[33m[33.994ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:11:43 [32m
[0m[33m[33.286ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[102.286ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.515ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.438ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:11:43 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:11:43.366480897Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426703128235334","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"238.240123ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:11:43 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.275ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:43.386' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.969ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.830ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:11:43 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[69.433ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:11:43.525403848Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426703386320321","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"139.079176ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:11:47 Route Debug: DELETE /api/v1/cases/1004/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices/MIX1003
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.609ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:47.267' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.563ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG: RemoveDeviceFromCase - CaseID: 1004, DeviceID: MIX1003
DEBUG: RemoveDeviceFromCase repository - CaseID: 1004, DeviceID: MIX1003

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:95
[0m[33m[68.738ms] [34;1m[rows:1][0m DELETE FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003'
DEBUG: RemoveDeviceFromCase repository - RowsAffected: 1, Error: <nil>
DEBUG: RemoveDeviceFromCase - Success
{"timestamp":"2025-07-13T17:11:47.4033884Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426707267022007","method":"DELETE","path":"/api/v1/cases/1004/devices/MIX1003","status_code":200,"duration":"136.363213ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":51}}
2025/07/13 19:11:47 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.791ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:47.62' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[32.932ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:11:47 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[32.912ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:11:47 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:11:47.720047584Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426707620063943","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"99.980062ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:11:47 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.024ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:47.723' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.016ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:11:47 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:11:47 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[32.882ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:11:47 GetCaseDevicesAPI: Found 0 devices for case 1004
{"timestamp":"2025-07-13T17:11:47.823646153Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426707723357970","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"100.284023ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":14}}
2025/07/13 19:11:48 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.752ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:48.83' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:48 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.047ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:11:48 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.158ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:11:49 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.209ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:11:49 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.873ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:11:49 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.375ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:11:49 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[169.189ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:11:49 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[187.328ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:11:49.085801404Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426708830828912","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"254.969433ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:11:55 POST request to /api/v1/cases/1004/devices with Content-Type: 'application/json'
2025/07/13 19:11:55 Route Debug: POST /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.783ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:55.831' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.097ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:11:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.620ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:11:55 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.679ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:158
[0m[33m[33.753ms] [34;1m[rows:1][0m SELECT count(*) FROM `devicescases` WHERE deviceID = 'MIX1003'

2025/07/13 19:11:56 [31;1m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:72 [35;1mrecord not found
[0m[33m[33.540ms] [34;1m[rows:0][0m SELECT * FROM `devicescases` WHERE caseID = 1004 AND deviceID = 'MIX1003' ORDER BY `devicescases`.`caseID` LIMIT 1

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:87
[0m[33m[69.118ms] [34;1m[rows:1][0m INSERT INTO `devicescases` (`caseID`,`deviceID`) VALUES (1004,'MIX1003')
{"timestamp":"2025-07-13T17:11:56.103687631Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426715831076670","method":"POST","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"272.607405ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":23,"bytes_out":769}}
2025/07/13 19:11:56 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7
2025/07/13 19:11:56 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.278ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:56.334' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.563ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:11:56.334' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.678ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.114ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:11:56 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.993ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.339ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:11:56 [32m
[0m[33m[33.999ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[32.970ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:11:56 [32m
[0m[33m[33.364ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[100.909ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[136.169ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[170.352ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:11:56 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:11:56.573101156Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426716334821473","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"238.276196ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.321ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[169.557ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:11:56 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[187.956ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:11:56.589899452Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426716334105984","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"255.789412ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:12:01 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:12:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.461ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:12:01.779' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:12:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.477ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:12:01 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:12:01 [32m
[0m[33m[33.704ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:12:02 [32m
[0m[33m[36.360ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[104.245ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[137.708ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.438ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:12:02 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:12:02.018330552Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426721779538933","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"238.786289ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:12:02 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:12:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.348ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:12:02.052' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:12:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.135ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.895ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:12:02 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[68.136ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:12:02.191494378Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426722052080096","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"139.409804ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:12:03 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.703ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:12:03.534' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.606ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.351ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.832ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[32.952ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.844ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[171.408ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:12:03 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.001ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:12:03.793094439Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426723534843055","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"258.247397ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:13:37 Route Debug: GET /cases
DEBUG: AuthMiddleware called for URL: /cases
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:13:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.256ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:13:37.313' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:13:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.094ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Case Handler: All query params: map[]
DEBUG Case Handler: Raw search parameter: ''
DEBUG Case Handler: Final params: SearchTerm=''

2025/07/13 19:13:37 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[34.044ms] [34;1m[rows:18][0m SELECT * FROM `devicescases` WHERE `devicescases`.`caseID` IN (1001,1002,1003,1004,1005)

2025/07/13 19:13:37 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:149
[0m[33m[51.021ms] [34;1m[rows:5][0m SELECT * FROM `cases`
DEBUG: Found 5 cases with search term ''
{"timestamp":"2025-07-13T17:13:37.445643829Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426817313382353","method":"GET","path":"/cases","status_code":200,"duration":"132.2581ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":61171}}
2025/07/13 19:13:37 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:13:37 Route Debug: GET /static/js/rental-core-design.js
2025/07/13 19:13:37 Route Debug: GET /static/images/icon-180.png
2025/07/13 19:13:37 NotFoundHandler: 404 for path: /static/images/icon-180.png
2025/07/13 19:13:37 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:13:37 Route Debug: GET /favicon.ico
2025/07/13 19:13:37 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:13:37 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:13:37.72076917Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426817705527521","method":"GET","path":"/favicon.ico","status_code":404,"duration":"15.234687ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:13:39 Route Debug: GET /api/v1/cases/1004/devices
DEBUG: AuthMiddleware called for URL: /api/v1/cases/1004/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.890ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:13:39.59' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.106ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:13:39 GetCaseDevicesAPI: Getting devices for case ID: 1004

2025/07/13 19:13:39 [32m
[0m[33m[33.903ms] [34;1m[rows:1][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` = 1001

2025/07/13 19:13:39 [32m
[0m[33m[33.297ms] [34;1m[rows:1][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` = 'SND1003'

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[101.637ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[137.148ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE `devices`.`deviceID` = 'MIX1003'

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/repository/case_repository.go:64
[0m[33m[171.072ms] [34;1m[rows:1][0m SELECT * FROM `devicescases` WHERE caseID = 1004
2025/07/13 19:13:39 GetCaseDevicesAPI: Found 1 devices for case 1004
{"timestamp":"2025-07-13T17:13:39.830277758Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426819590840016","method":"GET","path":"/api/v1/cases/1004/devices","status_code":200,"duration":"239.434426ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":1106}}
2025/07/13 19:13:39 Route Debug: GET /api/v1/devices/MIX1003
DEBUG: AuthMiddleware called for URL: /api/v1/devices/MIX1003
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.340ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:13:39.85' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.257ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[33.568ms] [34;1m[rows:1][0m SELECT * FROM `products` WHERE `products`.`productID` = 5

2025/07/13 19:13:39 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:24
[0m[33m[67.718ms] [34;1m[rows:1][0m SELECT * FROM `devices` WHERE deviceID = 'MIX1003' ORDER BY `devices`.`deviceID` LIMIT 1
{"timestamp":"2025-07-13T17:13:39.986413529Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426819850595741","method":"GET","path":"/api/v1/devices/MIX1003","status_code":200,"duration":"135.814973ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":723}}
2025/07/13 19:13:40 Route Debug: GET /api/v1/devices
DEBUG: AuthMiddleware called for URL: /api/v1/devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:13:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.974ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:13:40.919' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:13:40 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.924ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:13:41 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[34.144ms] [34;1m[rows:21][0m SELECT * FROM `brands` WHERE `brands`.`brandID` IN (1,2,3,4,13,12,6,15,14,9,8,7,5,11,10,16,17,18,19,20,21)

2025/07/13 19:13:41 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.672ms] [34;1m[rows:5][0m SELECT * FROM `categories` WHERE `categories`.`categoryID` IN (1001,1003,1004,1002,1005)

2025/07/13 19:13:41 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.881ms] [34;1m[rows:17][0m SELECT * FROM `manufacturer` WHERE `manufacturer`.`manufacturerID` IN (1,2,3,4,10,6,11,8,7,5,9,12,13,14,15,16,17)

2025/07/13 19:13:41 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[33.851ms] [34;1m[rows:16][0m SELECT * FROM `subcategories` WHERE `subcategories`.`subcategoryID` IN ('SND1001','SND1002','SND1003','STG1003','EFF1002','LGT1001','LGT1005','LGT1003','EFF1001','LGT1004','SND1004','STG1001','LGT1002','OTH1001','OTH1002','OTH1003')

2025/07/13 19:13:41 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[171.485ms] [34;1m[rows:38][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1,33,16,13,45,35,40,31,14,11,5,37,26,20,19,18,17,10,30,28,22,21,12,6,15,44,8,7,46,43)

2025/07/13 19:13:41 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:140
[0m[33m[190.005ms] [34;1m[rows:83][0m SELECT `devices`.`deviceID`,`devices`.`productID`,`devices`.`serialnumber`,`devices`.`purchaseDate`,`devices`.`lastmaintenance`,`devices`.`nextmaintenance`,`devices`.`insurancenumber`,`devices`.`status`,`devices`.`insuranceID`,`devices`.`qr_code`,`devices`.`current_location`,`devices`.`gps_latitude`,`devices`.`gps_longitude`,`devices`.`condition_rating`,`devices`.`usage_hours`,`devices`.`total_revenue`,`devices`.`last_maintenance_cost`,`devices`.`notes`,`devices`.`barcode` FROM `devices` JOIN products ON products.productID = devices.productID ORDER BY deviceID DESC
{"timestamp":"2025-07-13T17:13:41.178894782Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426820919880275","method":"GET","path":"/api/v1/devices","status_code":200,"duration":"259.009678ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":89849}}
2025/07/13 19:13:50 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:13:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.386ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:13:50.778' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:13:50 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.828ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:13:50 🚀 DeviceHandler.ListDevices() started
2025/07/13 19:13:50 ⏱️  DeviceRepository.List() started

2025/07/13 19:13:50 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.149ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/13 19:13:50 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[52.035ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/13 19:13:50 ⏱️  Device query took: 52.06257ms
2025/07/13 19:13:50 ⏱️  DeviceRepository.List() completed in 52.117789ms (found 20 devices)
2025/07/13 19:13:50 ⏱️  Database query took: 52.127847ms
2025/07/13 19:13:50 💾 Cached 20 devices
2025/07/13 19:13:50 ⏱️  Template rendering took: 14.304782ms
2025/07/13 19:13:50 🏁 DeviceHandler.ListDevices() completed in 66.506521ms
{"timestamp":"2025-07-13T17:13:50.913048058Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752426830777940563","method":"GET","path":"/devices","status_code":200,"duration":"135.104259ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60675}}
2025/07/13 19:17:58 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:17:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.077ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:17:58.372' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:17:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.737ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:17:58 🚀 DeviceHandler.ListDevices() started
2025/07/13 19:17:58 ⏱️  DeviceRepository.List() started

2025/07/13 19:17:58 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.195ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/13 19:17:58 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.389ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/13 19:17:58 ⏱️  Device query took: 51.402158ms
2025/07/13 19:17:58 ⏱️  DeviceRepository.List() completed in 51.430479ms (found 20 devices)
2025/07/13 19:17:58 ⏱️  Database query took: 51.434217ms
2025/07/13 19:17:58 💾 Cached 20 devices
2025/07/13 19:17:58 ⏱️  Template rendering took: 15.165988ms
2025/07/13 19:17:58 🏁 DeviceHandler.ListDevices() completed in 66.641178ms
{"timestamp":"2025-07-13T17:17:58.507169005Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427078372139193","method":"GET","path":"/devices","status_code":200,"duration":"135.026845ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60675}}
2025/07/13 19:17:58 Route Debug: GET /static/css/rental-core-design.css
2025/07/13 19:17:58 Route Debug: GET /favicon.ico
2025/07/13 19:17:58 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:17:58 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:17:58.669350116Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427078659902938","method":"GET","path":"/favicon.ico","status_code":404,"duration":"9.440751ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6348,"errors":"Error #01: template: profile_settings.html:35:65: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:18:00 Route Debug: GET /customers
DEBUG: AuthMiddleware called for URL: /customers
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.440ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:00.147' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.090ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Customer Handler: All query params: map[]
DEBUG Customer Handler: Raw search parameter: ''
DEBUG Customer Handler: Final params: SearchTerm=''

2025/07/13 19:18:00 [32m/opt/dev/go-barcode-webapp/internal/repository/customer_repository.go:55
[0m[33m[17.832ms] [34;1m[rows:53][0m SELECT * FROM `customers` ORDER BY companyname ASC
DEBUG: Found 53 customers with search term ''
{"timestamp":"2025-07-13T17:18:00.249426339Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427080147923997","method":"GET","path":"/customers","status_code":200,"duration":"101.49786ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":168094}}
2025/07/13 19:18:01 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.543ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:01.224' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:01 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.568ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:18:01 🚀 DeviceHandler.ListDevices() started
2025/07/13 19:18:01 ⚡ Using cached devices (20 items)
2025/07/13 19:18:01 ⏱️  Template rendering took: 18.447508ms
2025/07/13 19:18:01 🏁 DeviceHandler.ListDevices() completed in 18.498034ms
{"timestamp":"2025-07-13T17:18:01.3125851Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427081224455385","method":"GET","path":"/devices","status_code":200,"duration":"88.127279ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60675}}
2025/07/13 19:18:02 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.059ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:02.098' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.580ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/13 19:18:02 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.154ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc001182730 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:430 FinalRevenue:0xc0003b6960 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:12 TotalRevenue:430}
{"timestamp":"2025-07-13T17:18:02.193230885Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427082098020737","method":"GET","path":"/jobs","status_code":200,"duration":"95.206248ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29484}}
2025/07/13 19:18:04 Route Debug: GET /
{"timestamp":"2025-07-13T17:18:04.034528609Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427084034316410","method":"GET","path":"/","status_code":307,"duration":"208.46µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 19:18:04 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.794ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:04.043' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.951ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:18:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.787ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:18:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.688ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:18:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.705ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:18:04 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.696ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:18:04 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.277ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:18:04.210260932Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427084043792238","method":"GET","path":"/dashboard","status_code":200,"duration":"166.466058ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:18:11 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.012ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:11.9' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:11 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.621ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/13 19:18:11 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.787ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000740f70 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:430 FinalRevenue:0xc000eb0750 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:12 TotalRevenue:430}
{"timestamp":"2025-07-13T17:18:11.996964921Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427091899970675","method":"GET","path":"/jobs","status_code":200,"duration":"96.991058ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29484}}
2025/07/13 19:18:16 Route Debug: DELETE /api/v1/jobs/1004
DEBUG: AuthMiddleware called for URL: /api/v1/jobs/1004
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.614ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:16.601' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:16 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[59.237ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:18:16 [31;1m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:88 [35;1mError 1451 (23000): Cannot delete or update a parent row: a foreign key constraint fails (`TS-Lager`.`jobdevices`, CONSTRAINT `jobdevices_ibfk_2` FOREIGN KEY (`jobID`) REFERENCES `jobs` (`jobID`) ON DELETE RESTRICT ON UPDATE RESTRICT)
[0m[33m[69.424ms] [34;1m[rows:0][0m DELETE FROM `jobs` WHERE `jobs`.`jobID` = 1004
2025/07/13 19:18:16 ERROR REQUEST: DELETE /api/v1/jobs/1004 returned 500 in 162.610794ms
{"timestamp":"2025-07-13T17:18:16.763836819Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427096601144281","method":"DELETE","path":"/api/v1/jobs/1004","status_code":500,"duration":"162.688739ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":246}}
2025/07/13 19:18:23 Route Debug: GET /devices
DEBUG: AuthMiddleware called for URL: /devices
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.499ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:23.282' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:23 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.150ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:18:23 🚀 DeviceHandler.ListDevices() started
2025/07/13 19:18:23 ⚡ Using cached devices (20 items)
2025/07/13 19:18:23 ⏱️  Template rendering took: 13.079996ms
2025/07/13 19:18:23 🏁 DeviceHandler.ListDevices() completed in 13.108598ms
{"timestamp":"2025-07-13T17:18:23.363608839Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427103282446203","method":"GET","path":"/devices","status_code":200,"duration":"81.159679ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":60675}}
2025/07/13 19:18:28 Route Debug: GET /
{"timestamp":"2025-07-13T17:18:28.51534657Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427108515190881","method":"GET","path":"/","status_code":307,"duration":"153.263µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 19:18:28 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.587ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:28.529' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.738ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:18:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.810ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:18:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.794ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:18:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[17.362ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:18:28 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[17.145ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:18:28 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.502ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:18:28.691036628Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427108528942475","method":"GET","path":"/dashboard","status_code":200,"duration":"162.091075ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:18:36 Route Debug: GET /profile/settings
DEBUG: AuthMiddleware called for URL: /profile/settings
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.893ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:36.516' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.200ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:561
[0m[33m[34.470ms] [34;1m[rows:1][0m SELECT * FROM `user_preferences` WHERE user_id = 5 ORDER BY `user_preferences`.`preference_id` LIMIT 1
2025/07/13 19:18:36 👤 PROFILE SETTINGS ROUTE CALLED - URL: /profile/settings, rendering profile_settings.html
{"timestamp":"2025-07-13T17:18:36.632652468Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427116516832970","method":"GET","path":"/profile/settings","status_code":200,"duration":"115.817033ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":30370}}
2025/07/13 19:18:36 Route Debug: GET /static/sw.js
2025/07/13 19:18:36 Route Debug: GET /static/css/app-new.css
2025/07/13 19:18:36 NotFoundHandler: 404 for path: /static/css/app-new.css
2025/07/13 19:18:36 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:18:36 Route Debug: GET /static/js/app.js
2025/07/13 19:18:36 NotFoundHandler: 404 for path: /static/js/app.js
2025/07/13 19:18:36 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:18:36 Route Debug: GET /static/images/icon-192.png
2025/07/13 19:18:36 NotFoundHandler: 404 for path: /static/images/icon-192.png
2025/07/13 19:18:36 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:18:36 Route Debug: GET /
{"timestamp":"2025-07-13T17:18:36.717625997Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427116717389466","method":"GET","path":"/","status_code":307,"duration":"233.344µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 19:18:36 Route Debug: GET /static/images/icon-512.png
2025/07/13 19:18:36 NotFoundHandler: 404 for path: /static/images/icon-512.png
2025/07/13 19:18:36 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
2025/07/13 19:18:36 Route Debug: GET /scan/select
DEBUG: AuthMiddleware called for URL: /scan/select
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7
2025/07/13 19:18:36 Route Debug: GET /manifest.json
2025/07/13 19:18:36 Route Debug: GET /analytics
DEBUG: AuthMiddleware called for URL: /analytics
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7
{"timestamp":"2025-07-13T17:18:36.719673734Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427116719457443","method":"GET","path":"/manifest.json","status_code":200,"duration":"213.404µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":3182}}
2025/07/13 19:18:36 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[36.041ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:36.719' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.849ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:36.719' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[35.791ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:18:36.727' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.977ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.933ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.513ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.586ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:83
[0m[33m[33.810ms] [34;1m[rows:-][0m SELECT COALESCE(SUM(final_revenue), 0) as total, COUNT(*) as count, COALESCE(AVG(final_revenue), 0) as avg FROM `jobs` WHERE endDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789' AND final_revenue IS NOT NULL

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:15
[0m[33m[33.994ms] [34;1m[rows:1][0m SELECT `jobs`.`jobID`,`jobs`.`customerID`,`jobs`.`statusID`,`jobs`.`jobcategoryID`,`jobs`.`description`,`jobs`.`discount`,`jobs`.`discount_type`,`jobs`.`revenue`,`jobs`.`final_revenue`,`jobs`.`startDate`,`jobs`.`endDate`,`jobs`.`templateID` FROM `jobs` JOIN status ON jobs.statusID = status.statusID WHERE status.status = 'paid'

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[16.718ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.737ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:94
[0m[33m[33.484ms] [34;1m[rows:-][0m SELECT COALESCE(SUM(final_revenue), 0) as total, COUNT(*) as count FROM `jobs` WHERE endDate BETWEEN '2025-05-14 19:18:36.789' AND '2025-06-13 19:18:36.789' AND final_revenue IS NOT NULL

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository_extension.go:32
[0m[33m[33.597ms] [34;1m[rows:0][0m SELECT * FROM `jobdevices` WHERE jobID IN (1002)

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[16.730ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:121
[0m[33m[16.968ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.635ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:18:36.892986311Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427116726959520","method":"GET","path":"/dashboard","status_code":200,"duration":"166.024034ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:124
[0m[33m[34.956ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices` WHERE status IN ('checked out')

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.345ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
2025/07/13 19:18:36 ⏱️  DeviceRepository.List() started

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:127
[0m[33m[33.635ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices` WHERE status = 'maintance'

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[34.455ms] [34;1m[rows:9][0m SELECT * FROM `products` WHERE `products`.`productID` IN (32,29,25,24,23,4,2,3,1)

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/repository/device_repository.go:82
[0m[33m[51.407ms] [34;1m[rows:20][0m SELECT * FROM `devices` ORDER BY deviceID DESC LIMIT 20
2025/07/13 19:18:36 ⏱️  Device query took: 51.423372ms
2025/07/13 19:18:36 ⏱️  DeviceRepository.List() completed in 51.460444ms (found 20 devices)
{"timestamp":"2025-07-13T17:18:36.970759527Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427116719435910","method":"GET","path":"/scan/select","status_code":200,"duration":"251.320449ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18601}}

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:142
[0m[33m[34.261ms] [34;1m[rows:1][0m 
		SELECT COALESCE(SUM(j.final_revenue), 0)
		FROM jobs j
		INNER JOIN jobdevices jd ON j.jobID = jd.jobID
		WHERE j.endDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789'
	

2025/07/13 19:18:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:164
[0m[33m[17.086ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:171
[0m[33m[34.176ms] [34;1m[rows:1][0m SELECT COUNT(DISTINCT(`customers`.`customerID`)) FROM `customers` INNER JOIN jobs ON customers.customerID = jobs.customerID WHERE jobs.startDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789'

2025/07/13 19:18:37 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:176 [35;1mError 1054 (42S22): Unknown column 'created_at' in 'where clause'
[0m[33m[16.930ms] [34;1m[rows:0][0m SELECT count(*) FROM `customers` WHERE created_at BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789'

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:200
[0m[33m[33.985ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs` WHERE endDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789' AND statusID IN (3,4)

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:206
[0m[33m[34.050ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs` WHERE startDate <= '2025-07-13 19:18:36.789' AND (endDate >= '2025-06-13 19:18:36.789' OR endDate IS NULL) AND statusID IN (1,2)

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:211
[0m[33m[33.970ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs` WHERE endDate < '2025-07-13 19:18:37.114' AND statusID NOT IN (3,4)

2025/07/13 19:18:37 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:218 [35;1msql: Scan error on column index 0, name "AVG(DATEDIFF(endDate, startDate))": converting NULL to float64 is unsupported
[0m[33m[34.043ms] [34;1m[rows:1][0m SELECT AVG(DATEDIFF(endDate, startDate)) FROM `jobs` WHERE endDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789' AND startDate IS NOT NULL AND endDate IS NOT NULL

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:246
[0m[33m[34.572ms] [34;1m[rows:-][0m 
		SELECT 
			d.deviceID,
			p.name as product_name,
			COUNT(jd.jobID) as rental_count,
			COALESCE(SUM(j.final_revenue), 0) as total_revenue,
			COALESCE(AVG(j.final_revenue), 0) as avg_revenue
		FROM devices d
		LEFT JOIN products p ON d.productID = p.productID
		LEFT JOIN jobdevices jd ON d.deviceID = jd.deviceID
		LEFT JOIN jobs j ON jd.jobID = j.jobID AND j.endDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789'
		GROUP BY d.deviceID, p.name
		ORDER BY total_revenue DESC
		LIMIT 10
	

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:292
[0m[33m[34.918ms] [34;1m[rows:-][0m 
		SELECT 
			c.customerID,
			COALESCE(c.companyname, CONCAT(c.firstname, ' ', c.lastname)) as customer_name,
			COUNT(j.jobID) as job_count,
			COALESCE(SUM(j.final_revenue), 0) as total_revenue,
			COALESCE(AVG(j.final_revenue), 0) as avg_revenue
		FROM customers c
		LEFT JOIN jobs j ON c.customerID = j.customerID 
			AND j.endDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789'
			AND j.final_revenue IS NOT NULL
		WHERE c.customerID IS NOT NULL
		GROUP BY c.customerID, c.companyname, c.firstname, c.lastname
		HAVING total_revenue > 0
		ORDER BY total_revenue DESC
		LIMIT 10
	

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:334
[0m[33m[18.066ms] [34;1m[rows:-][0m 
		SELECT 
			p.name as product_name,
			COUNT(d.deviceID) as total_devices,
			SUM(CASE WHEN d.status = 'checked out' THEN 1 ELSE 0 END) as active_devices,
			ROUND((SUM(CASE WHEN d.status = 'checked out' THEN 1 ELSE 0 END) * 100.0) / COUNT(d.deviceID), 2) as utilization_rate
		FROM products p
		LEFT JOIN devices d ON p.productID = d.productID
		GROUP BY p.productID, p.name
		HAVING COUNT(d.deviceID) > 0
		ORDER BY utilization_rate DESC
	

2025/07/13 19:18:37 [32m/opt/dev/go-barcode-webapp/internal/handlers/analytics_handler.go:373
[0m[33m[34.598ms] [34;1m[rows:-][0m 
		SELECT 
			DATE(j.endDate) as date,
			COALESCE(SUM(j.final_revenue), 0) as revenue,
			COUNT(j.jobID) as jobs
		FROM jobs j
		WHERE j.endDate BETWEEN '2025-06-13 19:18:36.789' AND '2025-07-13 19:18:36.789'
		GROUP BY DATE(j.endDate)
		ORDER BY date
	
2025/07/13 19:18:37 SLOW REQUEST: GET /analytics took 596.498777ms (status: 200)
{"timestamp":"2025-07-13T17:18:37.316279688Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427116719549945","method":"GET","path":"/analytics","status_code":200,"duration":"596.721994ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":7795,"errors":"Error #01: template: analytics_dashboard.html:175:51: executing \"analytics_dashboard.html\" at \u003cgt .analytics.revenue.revenueGrowth 0\u003e: error calling gt: incompatible types for comparison\n"}}

2025/07/13 19:19:36 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:199
[0m[33m[67.612ms] [34;1m[rows:0][0m DELETE FROM `sessions` WHERE expires_at < '2025-07-13 19:19:36.514'
2025/07/13 19:26:42 Route Debug: GET /profile/settings
DEBUG: AuthMiddleware called for URL: /profile/settings
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:26:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[149.213ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:26:42.087' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:26:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.657ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:26:42 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:561
[0m[33m[34.509ms] [34;1m[rows:1][0m SELECT * FROM `user_preferences` WHERE user_id = 5 ORDER BY `user_preferences`.`preference_id` LIMIT 1
2025/07/13 19:26:42 👤 PROFILE SETTINGS ROUTE CALLED - URL: /profile/settings, rendering profile_settings.html
{"timestamp":"2025-07-13T17:26:42.31678769Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427602087730124","method":"GET","path":"/profile/settings","status_code":200,"duration":"229.051915ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":27618}}
2025/07/13 19:27:17 POST request to /profile/settings with Content-Type: 'multipart/form-data; boundary=----geckoformboundary369901d7f46ea04c1a15df720db01a7a'
2025/07/13 19:27:17 Route Debug: POST /profile/settings
DEBUG: AuthMiddleware called for URL: /profile/settings
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:27:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.894ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:27:17.897' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:27:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.553ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:27:17 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:616
[0m[33m[33.526ms] [34;1m[rows:1][0m SELECT * FROM `user_preferences` WHERE user_id = 5 ORDER BY `user_preferences`.`preference_id` LIMIT 1

2025/07/13 19:27:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:645
[0m[33m[68.341ms] [34;1m[rows:1][0m UPDATE `user_preferences` SET `user_id`=5,`language`='de',`theme`='light',`time_zone`='Europe/Berlin',`date_format`='DD.MM.YYYY',`time_format`='24h',`email_notifications`=false,`system_notifications`=false,`job_status_notifications`=false,`device_alert_notifications`=false,`items_per_page`=10,`default_view`='list',`show_advanced_options`=false,`auto_save_enabled`=true,`created_at`='2025-06-26 17:35:19.942',`updated_at`='2025-07-13 19:27:18.015' WHERE `preference_id` = 1

2025/07/13 19:27:18 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:660 [35;1mrecord not found
[0m[33m[33.716ms] [34;1m[rows:0][0m SELECT * FROM `users` WHERE email = 'admin@yourdomain.com' AND userID != 5 ORDER BY `users`.`userID` LIMIT 1

2025/07/13 19:27:18 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:678
[0m[33m[69.027ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$h41l66UYl7.Y.3KEkOgJgO9SEnuPKV7OVAxx.oaEqUD7eLimfq4Lq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:27:18.118',`last_login`='2025-07-13 19:11:39.98' WHERE `userID` = 5
{"timestamp":"2025-07-13T17:27:18.170638137Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427637897856503","method":"POST","path":"/profile/settings","status_code":200,"duration":"272.77941ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":1475,"bytes_out":51}}
2025/07/13 19:27:31 POST request to /profile/settings with Content-Type: 'multipart/form-data; boundary=----geckoformboundarybed343fcb66b50dca29b6905650691fc'
2025/07/13 19:27:31 Route Debug: POST /profile/settings
DEBUG: AuthMiddleware called for URL: /profile/settings
DEBUG: Found session cookie: dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7

2025/07/13 19:27:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.524ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7' AND expires_at > '2025-07-13 19:27:31.751' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:27:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.657ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:27:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:616
[0m[33m[34.444ms] [34;1m[rows:1][0m SELECT * FROM `user_preferences` WHERE user_id = 5 ORDER BY `user_preferences`.`preference_id` LIMIT 1

2025/07/13 19:27:31 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:645
[0m[33m[140.678ms] [34;1m[rows:1][0m UPDATE `user_preferences` SET `user_id`=5,`language`='de',`theme`='light',`time_zone`='Europe/Berlin',`date_format`='DD.MM.YYYY',`time_format`='24h',`email_notifications`=false,`system_notifications`=false,`job_status_notifications`=false,`device_alert_notifications`=false,`items_per_page`=10,`default_view`='list',`show_advanced_options`=false,`auto_save_enabled`=true,`created_at`='2025-06-26 17:35:19.942',`updated_at`='2025-07-13 19:27:31.871' WHERE `preference_id` = 1

2025/07/13 19:27:32 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:660 [35;1mrecord not found
[0m[33m[34.748ms] [34;1m[rows:0][0m SELECT * FROM `users` WHERE email = 'admin@yourdomain.com' AND userID != 5 ORDER BY `users`.`userID` LIMIT 1

2025/07/13 19:27:33 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:678
[0m[33m[149.170ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$zUCD/f4/UtsFhdHsOGQsOOOCQ6y7ICw4UGtujFRMiJDXmkFRi0Qde',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:27:33.089',`last_login`='2025-07-13 19:11:39.98' WHERE `userID` = 5
2025/07/13 19:27:33 SLOW REQUEST: POST /profile/settings took 1.470476547s (status: 200)
{"timestamp":"2025-07-13T17:27:33.22165063Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427651751097902","method":"POST","path":"/profile/settings","status_code":200,"duration":"1.470549773s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":1479,"bytes_out":51}}
2025/07/13 19:27:35 Route Debug: GET /logout

2025/07/13 19:27:35 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:115
[0m[33m[68.666ms] [34;1m[rows:1][0m DELETE FROM `sessions` WHERE session_id = 'dea3bc0b17d743f496ef77dc5cc895c375e439d7ffc53dbf42e5cb6d278346f7'
{"timestamp":"2025-07-13T17:27:35.809519367Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427655740561062","method":"GET","path":"/logout","status_code":303,"duration":"68.955218ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":33}}
2025/07/13 19:27:35 Route Debug: GET /login
{"timestamp":"2025-07-13T17:27:35.825857284Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427655816174367","method":"GET","path":"/login","status_code":200,"duration":"9.680662ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":9726}}
2025/07/13 19:27:38 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/13 19:27:38 Form _method parameter: ''
2025/07/13 19:27:38 Route Debug: POST /login

2025/07/13 19:27:38 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[35.143ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
2025/07/13 19:27:39 SLOW REQUEST: POST /login took 1.111427357s (status: 401)
{"timestamp":"2025-07-13T17:27:39.967613692Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427658856100229","method":"POST","path":"/login","status_code":401,"duration":"1.111510047s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":35,"bytes_out":9912}}
2025/07/13 19:27:44 POST request to /login with Content-Type: 'application/x-www-form-urlencoded'
2025/07/13 19:27:44 Form _method parameter: ''
2025/07/13 19:27:44 Route Debug: POST /login

2025/07/13 19:27:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:61
[0m[33m[34.828ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE username = 'admin' AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Creating session for user admin (ID: 5)

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:89
[0m[33m[69.786ms] [34;1m[rows:1][0m INSERT INTO `sessions` (`session_id`,`user_id`,`expires_at`,`created_at`) VALUES ('3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9',5,'2025-07-13 20:27:45.435','2025-07-13 19:27:45.435')

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:101
[0m[33m[71.434ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$zUCD/f4/UtsFhdHsOGQsOOOCQ6y7ICw4UGtujFRMiJDXmkFRi0Qde',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:27:45.522',`last_login`='2025-07-13 19:27:45.504' WHERE `userID` = 5
DEBUG: Login successful, session created: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9
2025/07/13 19:27:45 SLOW REQUEST: POST /login took 1.246996589s (status: 303)
{"timestamp":"2025-07-13T17:27:45.576630194Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427664329539414","method":"POST","path":"/login","status_code":303,"duration":"1.24708574s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":28,"bytes_out":-1}}
2025/07/13 19:27:45 Route Debug: GET /
{"timestamp":"2025-07-13T17:27:45.604490753Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427665604359605","method":"GET","path":"/","status_code":307,"duration":"127.943µs","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":46}}
2025/07/13 19:27:45 Route Debug: GET /dashboard
DEBUG: AuthMiddleware called for URL: /dashboard
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.206ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:27:45.61' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.013ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:41
[0m[33m[16.748ms] [34;1m[rows:1][0m SELECT count(*) FROM `jobs`

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:42
[0m[33m[20.654ms] [34;1m[rows:1][0m SELECT count(*) FROM `devices`

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:43
[0m[33m[16.766ms] [34;1m[rows:1][0m SELECT count(*) FROM `customers`

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/home_handler.go:44
[0m[33m[19.949ms] [34;1m[rows:1][0m SELECT count(*) FROM `cases`

2025/07/13 19:27:45 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[18.086ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC LIMIT 5
{"timestamp":"2025-07-13T17:27:45.783940111Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427665610364776","method":"GET","path":"/dashboard","status_code":200,"duration":"173.571739ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":18958}}
2025/07/13 19:27:49 Route Debug: GET /profile/settings
DEBUG: AuthMiddleware called for URL: /profile/settings
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:27:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.911ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:27:49.16' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:27:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.065ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:27:49 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:561
[0m[33m[33.542ms] [34;1m[rows:1][0m SELECT * FROM `user_preferences` WHERE user_id = 5 ORDER BY `user_preferences`.`preference_id` LIMIT 1
2025/07/13 19:27:49 👤 PROFILE SETTINGS ROUTE CALLED - URL: /profile/settings, rendering profile_settings.html
{"timestamp":"2025-07-13T17:27:49.272045948Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427669159972555","method":"GET","path":"/profile/settings","status_code":200,"duration":"112.07147ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":27618}}
2025/07/13 19:27:54 POST request to /profile/settings with Content-Type: 'multipart/form-data; boundary=----geckoformboundarydc724bcaf07130e8ba96537c345ca52b'
2025/07/13 19:27:54 Route Debug: POST /profile/settings
DEBUG: AuthMiddleware called for URL: /profile/settings
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:27:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.955ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:27:54.017' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:27:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.165ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:27:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:616
[0m[33m[33.681ms] [34;1m[rows:1][0m SELECT * FROM `user_preferences` WHERE user_id = 5 ORDER BY `user_preferences`.`preference_id` LIMIT 1

2025/07/13 19:27:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:645
[0m[33m[69.781ms] [34;1m[rows:1][0m UPDATE `user_preferences` SET `user_id`=5,`language`='de',`theme`='light',`time_zone`='Europe/Berlin',`date_format`='DD.MM.YYYY',`time_format`='24h',`email_notifications`=false,`system_notifications`=false,`job_status_notifications`=false,`device_alert_notifications`=false,`items_per_page`=10,`default_view`='list',`show_advanced_options`=false,`auto_save_enabled`=true,`created_at`='2025-06-26 17:35:19.942',`updated_at`='2025-07-13 19:27:54.138' WHERE `preference_id` = 1

2025/07/13 19:27:54 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:660 [35;1mrecord not found
[0m[33m[33.710ms] [34;1m[rows:0][0m SELECT * FROM `users` WHERE email = 'admin@yourdomain.com' AND userID != 5 ORDER BY `users`.`userID` LIMIT 1

2025/07/13 19:27:55 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:678
[0m[33m[70.697ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$aPy2YmS72m6jGxU9by8nTe.aLYgHZeb5IWz/7sUbjryu0yDUKjwWq',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:27:55.345',`last_login`='2025-07-13 19:27:45.505' WHERE `userID` = 5
2025/07/13 19:27:55 SLOW REQUEST: POST /profile/settings took 1.380057477s (status: 200)
{"timestamp":"2025-07-13T17:27:55.398019588Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427674017882968","method":"POST","path":"/profile/settings","status_code":200,"duration":"1.380133484s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":1484,"bytes_out":51}}
2025/07/13 19:27:58 POST request to /profile/settings with Content-Type: 'multipart/form-data; boundary=----geckoformboundaryc333fb72a83868752c5974500c2dd35c'
2025/07/13 19:27:58 Route Debug: POST /profile/settings
DEBUG: AuthMiddleware called for URL: /profile/settings
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:27:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.355ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:27:58.082' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:27:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.623ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)

2025/07/13 19:27:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:616
[0m[33m[33.031ms] [34;1m[rows:1][0m SELECT * FROM `user_preferences` WHERE user_id = 5 ORDER BY `user_preferences`.`preference_id` LIMIT 1

2025/07/13 19:27:58 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:645
[0m[33m[68.756ms] [34;1m[rows:1][0m UPDATE `user_preferences` SET `user_id`=5,`language`='de',`theme`='light',`time_zone`='Europe/Berlin',`date_format`='DD.MM.YYYY',`time_format`='24h',`email_notifications`=false,`system_notifications`=false,`job_status_notifications`=false,`device_alert_notifications`=false,`items_per_page`=10,`default_view`='list',`show_advanced_options`=false,`auto_save_enabled`=true,`created_at`='2025-06-26 17:35:19.942',`updated_at`='2025-07-13 19:27:58.201' WHERE `preference_id` = 1

2025/07/13 19:27:58 [31;1m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:660 [35;1mrecord not found
[0m[33m[34.260ms] [34;1m[rows:0][0m SELECT * FROM `users` WHERE email = 'admin@yourdomain.com' AND userID != 5 ORDER BY `users`.`userID` LIMIT 1

2025/07/13 19:27:59 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:678
[0m[33m[74.782ms] [34;1m[rows:1][0m UPDATE `users` SET `username`='admin',`email`='admin@yourdomain.com',`password_hash`='$2a$14$0aKsg/fIrKiuzbNUpiWtuOJ18AfdWkzow9VwiFJAtYPQniqDNX5mK',`first_name`='Noah',`last_name`='Tielmann',`is_active`=true,`created_at`='2025-06-13 01:13:45.593',`updated_at`='2025-07-13 19:27:59.386',`last_login`='2025-07-13 19:27:45.505' WHERE `userID` = 5
2025/07/13 19:27:59 SLOW REQUEST: POST /profile/settings took 1.361260219s (status: 200)
{"timestamp":"2025-07-13T17:27:59.443667708Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427678082333995","method":"POST","path":"/profile/settings","status_code":200,"duration":"1.361330206s","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":1484,"bytes_out":51}}
2025/07/13 19:28:06 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:28:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[32.915ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:28:06.912' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:28:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.608ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:28:06 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:28:06 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[16.855ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:28:06 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:28:07.00539751Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427686912075862","method":"GET","path":"/settings/company","status_code":200,"duration":"93.316939ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:43 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.526ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:43.498' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.634ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:43 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:43 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[17.375ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:43 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:43.593514474Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427783498167588","method":"GET","path":"/settings/company","status_code":200,"duration":"95.341124ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:44 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.213ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:44.211' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.122ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:44 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:44 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[16.836ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:44 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:44.309357247Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427784211845402","method":"GET","path":"/settings/company","status_code":200,"duration":"97.505794ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:45 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.973ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:45.448' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[35.642ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:45 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:45 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[17.882ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:45 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:45.548152333Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427785448869669","method":"GET","path":"/settings/company","status_code":200,"duration":"99.277829ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:45 Route Debug: GET /favicon.ico
2025/07/13 19:29:45 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:29:45 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:29:45.586857906Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427785573011279","method":"GET","path":"/favicon.ico","status_code":404,"duration":"13.839848ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6329,"errors":"Error #01: template: profile_settings.html:36:57: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:29:53 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.200ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:53.498' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.550ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:53 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:53 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[17.308ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:53 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:53.59209763Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427793498633102","method":"GET","path":"/settings/company","status_code":200,"duration":"93.460203ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:54 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.928ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:54.775' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.783ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:54 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:54 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[16.924ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:54 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:54.870097013Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427794775692162","method":"GET","path":"/settings/company","status_code":200,"duration":"94.399045ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:54 Route Debug: GET /favicon.ico
2025/07/13 19:29:54 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:29:54 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:29:54.90871253Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427794898114706","method":"GET","path":"/favicon.ico","status_code":404,"duration":"10.578391ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6329,"errors":"Error #01: template: profile_settings.html:36:57: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:29:56 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.419ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:56.734' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.892ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:56 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[16.955ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:56 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:56.829539617Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427796734284268","method":"GET","path":"/settings/company","status_code":200,"duration":"95.250334ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:56 Route Debug: GET /favicon.ico
2025/07/13 19:29:56 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:29:56 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:29:56.864457174Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427796855631530","method":"GET","path":"/favicon.ico","status_code":404,"duration":"8.82111ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6329,"errors":"Error #01: template: profile_settings.html:36:57: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:29:56 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.520ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:56.893' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.495ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:56 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:56 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[16.980ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:56 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:56.991138594Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427796893582266","method":"GET","path":"/settings/company","status_code":200,"duration":"97.550131ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:57 Route Debug: GET /favicon.ico
2025/07/13 19:29:57 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:29:57 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:29:57.02411061Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427797012277525","method":"GET","path":"/favicon.ico","status_code":404,"duration":"11.828739ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6329,"errors":"Error #01: template: profile_settings.html:36:57: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:29:57 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.597ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:57.055' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.013ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:57 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[17.092ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:57 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:57.150569638Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427797055107927","method":"GET","path":"/settings/company","status_code":200,"duration":"95.456785ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:57 Route Debug: GET /favicon.ico
2025/07/13 19:29:57 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:29:57 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:29:57.184317864Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427797173487476","method":"GET","path":"/favicon.ico","status_code":404,"duration":"10.825851ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6329,"errors":"Error #01: template: profile_settings.html:36:57: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:29:57 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:29:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.561ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:29:57.202' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:29:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[33.684ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:29:57 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:29:57 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[16.889ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:29:57 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:29:57.298296721Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427797202128029","method":"GET","path":"/settings/company","status_code":200,"duration":"96.159961ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
2025/07/13 19:29:57 Route Debug: GET /favicon.ico
2025/07/13 19:29:57 NotFoundHandler: 404 for path: /favicon.ico
2025/07/13 19:29:57 renderErrorPage: Rendering error page - Status: 404, Message: Page not found
{"timestamp":"2025-07-13T17:29:57.332793375Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427797320471397","method":"GET","path":"/favicon.ico","status_code":404,"duration":"12.316331ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":6329,"errors":"Error #01: template: profile_settings.html:36:57: executing \"content\" at \u003c.user.FirstName\u003e: nil pointer evaluating interface {}.FirstName\n"}}
2025/07/13 19:30:00 Route Debug: GET /jobs
DEBUG: AuthMiddleware called for URL: /jobs
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:30:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[34.398ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:30:00.279' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:30:00 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.174ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
DEBUG Job Handler: All query params: map[]
DEBUG Job Handler: Raw search parameter: ''
DEBUG Job Handler: Final params: SearchTerm='', StartDate=<nil>, EndDate=<nil>

2025/07/13 19:30:00 [32m/opt/dev/go-barcode-webapp/internal/repository/job_repository.go:160
[0m[33m[17.543ms] [34;1m[rows:3][0m SELECT j.jobID, j.customerID, j.statusID, 
			j.description, j.startDate, j.endDate, 
			j.revenue, j.final_revenue,
			CONCAT(COALESCE(c.companyname, ''), ' ', COALESCE(c.firstname, ''), ' ', COALESCE(c.lastname, '')) as customer_name, 
			s.status as status_name,
			COUNT(DISTINCT jd.deviceID) as device_count,
			COALESCE(j.final_revenue, j.revenue) as total_revenue
		FROM jobs j 
		LEFT JOIN customers c ON j.customerID = c.customerID
		LEFT JOIN status s ON j.statusID = s.statusID
		LEFT JOIN jobdevices jd ON j.jobID = jd.jobID GROUP BY j.jobID, j.customerID, j.statusID, j.description, j.startDate, j.endDate, j.revenue, j.final_revenue, customer_name, s.status ORDER BY j.jobID DESC
DEBUG: Found 3 jobs with search term ''
DEBUG: First job: {JobID:1004 CustomerID:52 StatusID:1001 Description:0xc000863000 StartDate:2025-06-07 00:00:00 +0200 CEST EndDate:2025-06-07 00:00:00 +0200 CEST Revenue:430 FinalRevenue:0xc000394b10 CustomerName: Noah Ben Tielmann StatusName:open DeviceCount:12 TotalRevenue:430}
{"timestamp":"2025-07-13T17:30:00.381279285Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427800279518714","method":"GET","path":"/jobs","status_code":200,"duration":"101.757657ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":29484}}
2025/07/13 19:30:02 Route Debug: GET /settings/company
DEBUG: AuthMiddleware called for URL: /settings/company
DEBUG: Found session cookie: 3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9

2025/07/13 19:30:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:142
[0m[33m[33.921ms] [34;1m[rows:1][0m SELECT * FROM `sessions` WHERE session_id = '3d6ba3c59188da0f6d083aa6405e865824830e3216f7b75651718994ba020ed9' AND expires_at > '2025-07-13 19:30:02.345' ORDER BY `sessions`.`session_id` LIMIT 1

2025/07/13 19:30:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/auth_handler.go:153
[0m[33m[34.196ms] [34;1m[rows:1][0m SELECT * FROM `users` WHERE userID = 5 AND is_active = true ORDER BY `users`.`userID` LIMIT 1
DEBUG: Session valid for user: admin (ID: 5)
2025/07/13 19:30:02 🏢 COMPANY SETTINGS ROUTE CALLED - URL: /settings/company, Method: GET

2025/07/13 19:30:02 [32m/opt/dev/go-barcode-webapp/internal/handlers/company_handler.go:340
[0m[33m[16.946ms] [34;1m[rows:1][0m SELECT * FROM `company_settings` ORDER BY `company_settings`.`id` LIMIT 1
2025/07/13 19:30:02 DEBUG: CompanySettingsForm handler called successfully - rendering company_settings_beautiful.html
{"timestamp":"2025-07-13T17:30:02.440581829Z","level":"INFO","message":"HTTP Request","service":"go-barcode-webapp","version":"1.0.0","environment":"development","request_id":"1752427802344978261","method":"GET","path":"/settings/company","status_code":200,"duration":"95.598592ms","ip":"10.0.0.9","user_agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:140.0) Gecko/20100101 Firefox/140.0","fields":{"bytes_in":0,"bytes_out":-1,"errors":"Error #01: html/template: \"company_settings_beautiful.html\" is undefined\n"}}
